<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AIlury</title>
  <!--<link rel="icon" type="image/ICO" href="templates/Favicon.ICO">-->
  <link rel="icon" href="AIlurylogo.ico" type="image/x-icon">
  <style>
    :root {
      --primary-color: #000;/*#ebebeb;*/
      --sekundary-color: white;
      --grey-color: white;
      --darkgrey-color: #fff;
      --lightcyan-color: lightcyan;
      --cyan-color: cyan;
      --white-color: white;
      --bcolor-color: #ccc;
      --ngrey-color: #ccc;
      --232323-color: white;
      --676767-color: white;
      --newc-color: rgba(255, 255, 255, 0.5);
      --newcb-color: rgba(255, 255, 255, 0.8);
      --newcbb-color: rgba(255, 255, 255, 0.8);
      --2323232-color: white;
      --2323233-color: transparent;
      --bubble-color: #ccc;
      --plane-color: #000;
      --fff1-color: #fff;/*#fff;*/
      --blurbc-color: rgba(255, 255, 255, 0.3);
      --alert5-color: rgba(255, 255, 255, 0.5);
      --alert8-color: rgba(255, 255, 255, 0.8);
      --alert9-color: rgba(0, 0, 0, 0.9);
    }

    /* #5c3884 */
    /*.notdark-theme{
        --primary-color: white;
        --sekundary-color: black;
        --grey-color: #0f87ff;
        --darkgrey-color: #000;
        --lightcyan-color: #7d9eff;
        --cyan-color: darkcyan;
        --white-color: lightgrey;
        --bcolor-color: #367af6; */
    /*blue*/
    /*--ngrey-color: #161616;*/
    /*#1a1f2c;*/
    /*--232323-color: #232323;
        --676767-color: #676767;
        --newc-color: #01feec;*/
    /*#367af6;*/
    /*--2323232-color: #232323;
        --2323233-color: #232323;
      }*/
    .dark-theme {
      /*--primary-color: white;
      --sekundary-color: black;
      --grey-color: #0f87ff;
      --darkgrey-color: #000;
      --lightcyan-color: #7d9eff;
      --cyan-color: darkcyan;
      --white-color: lightgrey;
      --bcolor-color: #367af6;*/
      /*blue*/
      /*--ngrey-color: #161616;*/
      /*#1a1f2c;*/
      /*--232323-color: #232323;
      --676767-color: #676767;
      --newc-color: rgba(0, 0, 255, 0.5);
      --newcb-color: rgba(0, 0, 255, 0.8);
      --newcbb-color: rgba(0, 0, 255, 0.8);
      --2323232-color: #fff;
      --2323233-color: #232323;
      --bubble-color: #555;
      --plane-color: #757575;
      --fff1-color: #000;*/
      --primary-color: #fff;
      --sekundary-color: #111111;
      --grey-color: #0f87ff;
      --darkgrey-color: #111111;
      --lightcyan-color: #7d9eff;
      --cyan-color: darkcyan;
      --white-color: lightgrey;
      --bcolor-color: #367af6;
      /*blue*/
      --ngrey-color: linear-gradient(45deg, #232323, #000);
      /*#1a1f2c;*/
      --232323-color: #000;
      --676767-color: #676767;
      --newc-color: rgba(255, 255, 255, 0.5);
      --newcb-color: rgba(255, 255, 255, 0.8);
      --newcbb-color: rgba(255, 255, 255, 0.8);
      --2323232-color: #fff;
      --2323233-color: transparent;/*#111111;*/
      --bubble-color: #555;
      --plane-color: #fff;
      --fff1-color: #000;
      --blurbc-color: rgba(0, 0, 0, 0.5);
      --alert5-color: rgba(0, 0, 0, 0.5);
      --alert8-color: rgba(0, 0, 0, 0.8);
      --alert9-color: rgba(255, 255, 255, 0.9);
      /*c3c3c4*/
    }

    .nice-theme {
      --primary-color: white;
      --sekundary-color: black;
      --grey-color: #0f87ff;
      --darkgrey-color: #403d80;
      --lightcyan-color: #7d9eff;
      --cyan-color: darkcyan;
      --white-color: #010758;
      --bcolor-color: #ff2963;
      --ngrey-color: linear-gradient(45deg, #010758, #490d61);
      --232323-color: linear-gradient(45deg, #010758, #490d61);
      --676767-color: #fff;
      --newc-color: #01075833;/*rgba(0, 0, 255, 0.5);*/
      --newcb-color: rgba(255, 255, 255, 0.8);
      --newcbb-color: #01075833;/*rgba(0, 0, 255, 0.8);*/
      /*--newc-color: #ff2963;
      --newcb-color: #fff;
      --newcbb-color: #ff2963;*/
      --2323232-color: #BCBCBC;
      --2323233-color: transparent;/*#403d80;*/
      --bubble-color: #010758;
      --plane-color: #490d61;
      --fff1-color: #010758;
      --blurbc-color: #0f87ff1A;
      --alert5-color: rgba(0, 0, 255, 0.5);
      --alert8-color: rgba(0, 0, 255, 0.8);
      --alert9-color: rgba(255, 255, 255, 0.9);
    }

    .beautiful-theme{
        --primary-color: white;
        --sekundary-color: black;
        --grey-color: #0f87ff;
        --darkgrey-color: #171530;
        --lightcyan-color: #7d9eff;
        --cyan-color: darkcyan;
        --white-color: #16142c;
        --bcolor-color: #3672b5;
        --ngrey-color: linear-gradient(45deg, #0b091f, #13112d);
        --232323-color: linear-gradient(45deg, #0b091f, #13112d);
        --676767-color: #fff;
        --newc-color: #0b091f1A;/*rgba(0, 0, 255, 0.5);*/
        --newcb-color: rgba(255, 255, 255, 0.8);/*rgba(0, 0, 255, 0.8);*/
        --newcbb-color: #0b091f33;
        /*--newc-color: #3672b5;
        --newcb-color: #fff;
        --newcbb-color: #3672b5;*/
        --2323232-color: #000;
        --2323233-color: transparent;/*#171530;*/
        --bubble-color: #0b091f;
        --plane-color: #fff;
        --fff1-color: #0b091f;
        --blurbc-color: #17152e1A;
        --alert5-color: rgba(0, 0, 0, 0.5);
        --alert8-color: rgba(0, 0, 0, 0.8);
        --alert9-color: rgba(255, 255, 255, 0.9);
    }
    input[type=text] {
      background: transparent;
      /*linear-gradient(45deg, #010758, #490d61);*/
      color: var(--primary-color);
      font-weight: bold;
      font-size: 40px;
      text-align: left;
      transition: 1s;
    }

    input[type=text]:focus {
      outline: none;
      border: none;
    }

    @media(min-width: 750px) {
      body {
        font-family: Arial, sans-serif;
        background: var(--ngrey-color);
        background-image: url(AIluryBackground.jpg);
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        width: 100vw;
        height: 100vh;
        margin: 0;
        transition: 1s;
        overflow: hidden;
      }
      .timer{
        font-weight: bold;
        font-size: 15px;
        color: var(--bubble-color);
        position: absolute;
        top: 5px;
        left: 48%;
        display: flex;
        justify-content: space-between;
        z-index: 1;
        transition: 0.3s;
      }
      .circleformatcontainer {
        display: none;
        height: 100px;
        width: 100px;
        position: absolute;
        left: 20px;
        top: 0px;
        z-index: 1;
        transition: 1s;
      }
      .container1 {
        /*position: absolute;
        top: 30%;
        left: -80px;*/
        position: absolute;
        display: block;
        width: 150px;
        height: 200px;
        z-index: 1;
        transform: scale(0.6);
        margin-left: -70px;
        z-index: 0;
        transition: 1s;
      }
      .sidebar{
          display: block;
          margin-top: 10px;
          cursor: pointer;
          transition: 1s;
      }

      .bell {
        z-index: 1;
        position: absolute;
        width: 50px;
        height: 50px;
        left: 190px;
        top: 10px;
        cursor: pointer;
        transition: 1s;
      }
      .plane {
          position: relative;
          width: 57px;
          height: 57px;
          margin-top: 9px;
          margin-right: 25px;
          margin-left: -30px;
          background-color: transparent;
          cursor: pointer;
          transition: 1s;
      }
      @keyframes sendAnimation {
        0% {
          margin-top: 9px;
          margin-right: 25px;
          transform: rotate(0deg);

        }
        50% {
          margin-right: -50px;
          margin-top: -40px;
          transform: rotate(-60deg);
        }
        100%{
          margin-top: 9px;
          margin-right: 25px;
          transform: rotate(0deg);
        }
      }

      .hilfe-knopf {
        position: relative;
        width: 50px;
        height: 50px;
        margin-left: 92%;
        margin-bottom: -50px;
        cursor: pointer;
        z-index: 1;
        transition: 1s;
      }

      .hilfe-body {
        position: absolute;
        top: 10px;
        left: 50%;
        width: 30px;
        height: 30px;
        background: transparent;/*var(--darkgrey-color);*/
        border-radius: 50%;
        transform: translateX(-50%);
        border: 2.5px solid var(--primary-color);
        border-bottom: none;
        transition: 1s;
      }

      .hilfe-body::after {
        content: '';
        position: absolute;
        bottom: -10px;
        left: 50%;
        width: 13px;
        height: 10px;
        background: transparent;/*var(--darkgrey-color);*/
        border-radius: 2px 2px 5px 5px;
        border: 1.5px solid var(--primary-color);
        border-top: none;
        /* invert the border radius for the top part so the border radius goes in and not out*/
        transform: translateX(-50%);
        transition: 1s;
      }

      .hilfe-clapper {
        position: absolute;
        bottom: -7px;
        left: 50%;
        width: 13px;
        height: 3px;
        background: var(--primary-color);
        border-radius: 10px;
        transform: translateX(-50%);
        /*border-left: 2px solid var(--primary-color);
        border-right: 2px solid var(--primary-color);
        border-bottom: 2px solid var(--primary-color);
        border-top: 2px solid var(--2323233-color);*/
        transition: 1s;
      }
      .hilfe-clapper:before {
        content: '';
        position: absolute;
        bottom: -3px;
        left: 50%;
        width: 13px;
        height: 3px;
        background: var(--primary-color);
        border-radius: 10px;
        transform: translateX(-50%);
        /*border-left: 2px solid var(--primary-color);
        border-right: 2px solid var(--primary-color);
        border-bottom: 2px solid var(--primary-color);
        border-top: 2px solid var(--2323233-color);*/
        transition: 1s;
      }
      .hilfe-clapper:after {
        content: '';
        position: absolute;
        bottom: -6px;
        left: 50%;
        width: 13px;
        height: 3px;
        background: var(--primary-color);
        border-radius: 10px;
        transform: translateX(-50%);
        /*border-left: 2px solid var(--primary-color);
        border-right: 2px solid var(--primary-color);
        border-bottom: 2px solid var(--primary-color);
        border-top: 2px solid var(--2323233-color);*/
        transition: 1s;
      }
      #navlinks {
        display: none;
      }

      .chat {
        display: flex;
        justify-content: space-between;
        max-width: 1200px;
        gap: 10px;
      }

      .bigscreenbtns {
        display: none;
        align-items: left;
      }

      .smallscreenbtns {
        display: none;
      }

      .chat-container {
        width: 1000px;
        /*border: 1px solid var(--darkgrey-color);*/
        border-radius: 25px;
        /*var(--darkgrey-color)*/
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        display: flex;
        flex-direction: column;
        /* make it go on the right corner */
        height: 90vh;
        /* Volle Höhe des Viewports */
        background: var(--blurbc-color);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        transition: 1s;
      }

      .chat-container:hover {
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
      }

      .chat-messages {
        flex: 1;
        /* Füllt den verfügbaren Platz aus */
        overflow-y: auto;
        padding: 10px;
      }

      .bigscreenbtns a {
        display: flex; /*flex*/
        background: var(--newc-color);
        /*#82be5d;*/
        border: 1px solid var(--newcbb-color);
        color: var(--newcb-color);
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 50px;
        font-size: 25px;
        font-weight: bold;
        margin-left: 5px;
        text-align: left;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        transition: 1s;
      }

      .message {
        margin-bottom: 10px;
        padding: 15px 20px;
        max-width: 60%;
        border-radius: 40px;
        word-wrap: break-word;
      }

      .sent {
        background: var(--232323-color);
        align-self: flex-end;
        text-align: left;
        font-size: 40px;
        margin-left: 30%;
        color: var(--primary-color);
        max-width: 50%;
        /*margin-left: 30%;*/
        transition: 0.5s;
        border-bottom-right-radius: 0;
        animation: blop2 0.5s;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
      }

      .sent:hover {
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
      }

      .received {
        background: var(--232323-color);
        align-self: flex-start;
        text-align: left;
        color: var(--primary-color);
        /*max-width: 50%;*/
        font-size: 40px;
        transition: 0.5s;
        border-bottom-left-radius: 0;
        animation: blop 0.5s;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
      }

      .received:hover {
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
      }

      .chat-input {
        display: flex;
        align-items: center;
        padding: 1px;
        /*border-top: 1px solid var(--grey-color);*/
        border-radius: 200px;
        transition: 1s;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
        background: var(--232323-color);
        margin-left: 10px;
        margin-right: 10px;
        margin-bottom: 10px;
        /*transform: scale(0.8);*/
      }

      .chat-input input {
        flex: 1;
        padding: 15px;
        margin-right: 10px;
        border: none;
        border-radius: 50px;
        color: var(--primary-color);
        background: transparent; /*var(--232323-color);*/
        font-size: 35px;
        font-weight: bold;
        text-align: left;
        transition: 1s;
      }

      .chat-input button {
        padding: 8px 15px;
        border: none;
        background: transparent; /*var(--232323-color);*/
        color: var(--primary-color);
        border-radius: 30px;
        cursor: pointer;
        height: 72px;
        transition: 1s;
      }

      .user-input {
        color: var(--white-color);
      }

      .chat-input input:focus {
        outline: none;
        border: none;
      }

      ::placeholder {
        color: var(--primary-color);
      }

      .nav-links {
        display: none;
        height: 0px;
        /*flex: 1;
              text-align: right;
              cursor: pointer;*/
      }

      .nav-links ul li {
        display: none;
        /*list-style: none;
              display: inline-block;
              padding: 8px 12px;
              position: relative;*/
      }

      .nav-links ul li a {
        display: none;
        /*color: var(--primary-color);
              text-decoration: none;
              font-size: 20px;
              transition: 1s;*/
      }

      .nav-links ul li::after {
        display: none;
        /*content: '';
              width: 0%;
              height: 2px;
              background: var(--cyan-color);
              display: block;
              margin: auto;
              transition: 0.5s;*/
      }

      .bcft {
        display: none;
        /*background: var(--newc-color);
              border-radius: 10px;
              padding: 10px;
              transition: 1s;*/
      }

      #button1 img {
        height: 50px;
      }

      #einstellungen {
        display: none;
        /*width: 70px;
              height: 70px;
              margin-left: 80%;
              margin-top: 10px;
              cursor: pointer;
              transition: 1s;
              font-size: 70px;
              color: var(--primary-color);*/
      }

      #button2 {
        display: none;
        transition: 1s;
      }

      #button3 {
        display: none;
        margin-left: 5px;
        background-color: orange;
        transition: 1s;
      }

      .bcft1 {
        display: none;
        /*background: var(--newc-color);
              border-radius: 10px;
              padding: 10px;
              height: 30px;
              transition: 1s;*/
      }

      #nmy {
        transition: 0.5s;
      }

      /*#nmy:hover {
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
      }*/

      #messageE {}

      @keyframes blop {
        from {
          width: 0px;
          font-size: 0px;
        }

        to {
          width: 100%;
          font-size: 40px;
        }
      }

      @keyframes blop2 {
        from {
          margin-left: 100%;
          width: 0px;
          font-size: 0px;
        }

        to {
          margin-left: 30%;
          width: 100%;
          font-size: 40px;
        }
      }

      .intro {
        position: fixed;
        /*display: flex;
        justify-content: center;
        align-items: center;*/
        z-index: 999;
        left: 0;
        top: 0;
        width: 100vw;
        height: 100vh;
        background: var(--ngrey-color);
        transition: 1s;
      }

      .logo-header {
        position: absolute;
        top: 40%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: var(--primary-color);
      }

      .logo {
        position: relative;
        display: inline-block;
        bottom: -20px;
        opacity: 0;
      }

      .logo.active {
        bottom: 0;
        opacity: 1;
        transition: ease-in-out 0.5s;
      }

      .logo.fade {
        bottom: 150px;
        opacity: 0;
        transition: ease-in-out 0.5s;
      }

      .container {
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        width: 300px;
        transition: 1s;
      }

      .user-profile {
        /* make all items be under each other*/
        /* make every item have a space on top and bottom */
        border-radius: 25px;
        /*background: var(--2323233-color);*/
        color: var(--primary-color);
        max-width: 400px;
        height: 80vh;
        border: none;
        text-align: center;
        padding: 45px;
        align-items: center;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        background: var(--blurbc-color);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        transition: 1s;
        transition: 1s;
      }

      #username-display {
        margin-top: 10px;
        font-size: 24px;
        font-weight: bold;
        text-align: center;
        transition: 1s;
      }

      .user-profile img {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        margin-top: 15%;
        /* make so the image doesnt strech in its frame*/
        object-fit: cover;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
      }

      #logout {
        display: flex;/*flex*/
        background: var(--newc-color);
        color: var(--newcb-color);
        border: 1px solid var(--newcbb-color);
        cursor: pointer;
        font-size: 25px;
        padding: 5px 10px;
        border-radius: 50px;
        font-weight: bold;
        margin-left: 5px;
        transition: 1s;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
      }

      #username-display {
        opacity: 0;
        position: relative;
        font-weight: bold;
        font-size: 40px;
        top: -110px;
        /* give the text shadow now */
        text-shadow: 0 0 20px rgba(0, 0, 0, 0.0);
        transition: 1s;
      }
      #username-display:hover {
        opacity: 1;
        text-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
      }
      #Löschbtn {
        display: none;
        background: var(--232323-color);
        /*var(--bcolor-color);*/
        color: var(--primary-color);
        border: none;
        border-radius: 10px;
        text-align: center;
        height: 30px;
        width: 100%;
        margin-top: 10px;
        transition: 1s;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
      }

      #Editbtn {
        display: none;
        background: var(--232323-color);
        /*var(--bcolor-color);*/
        color: var(--primary-color);
        border: none;
        border-radius: 10px;
        text-align: center;
        height: 30px;
        width: 100%;
        margin-top: 10px;
        transition: 1s;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
      }

      #Breakbtn {
        display: none;
        background: var(--232323-color);
        /*var(--bcolor-color);*/
        color: var(--primary-color);
        border: none;
        border-radius: 10px;
        text-align: center;
        height: 30px;
        margin-top: 10px;
        transition: 1s;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
      }

      #speakon {
        display: flex;/*flex*/
        background: var(--newc-color);
        /*#82be5d;*/
        color: var(--newcb-color);
        border: 1px solid var(--newcbb-color);
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 50px;
        font-size: 25px;
        font-weight: bold;
        margin-left: 5px;
        transition: 1s;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
      }

      .RandomQuestion {
        display: flex;
        /*margin-top: 20px;*/
        background: var(--newc-color);
        /*#82be5d;*/
        color: var(--newcb-color);
        border: 1px solid var(--newcbb-color);
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 50px;
        font-size: 25px;
        font-weight: bold;
        margin-left: 5px;
        transition: 1s;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
      }

      #inscructionlink {
        /*var(--232323-color)*/
        background: var(--primary-color);
        /*#ff5722;*/
        color: var(--sekundary-color);
        border: none;
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 5px;
        font-size: 15px;
        font-weight: bold;
        margin-left: 5px;
        transition: 1s;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.1);
      }
    }

    @media(max-width: 750px) {
      body {
        font-family: Arial, sans-serif;
        background: var(--ngrey-color);
        background-image: url(AIluryBackground.jpg);
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        margin: 0;
        transition: 1s;
      }
      .timer{
        font-weight: bold;
        font-size: 15px;
        color: var(--bubble-color);
        position: absolute;
        top: 275px;
        left: 48%;
        display: flex;
        justify-content: space-between;
        z-index: 1;
      }
      .circleformatcontainer {
        display: block;
        height: 100px;
        width: 100px;
        position: absolute;
        left: 100px;
        top: 50px;
        z-index: 1;
        transition: 1s;
      }
      .container1 {
        display: none;
        position: absolute;
        top: -18.8%;
        left: 28%;
        width: 150px;
        height: 200px;
        z-index: 1;
        transform: scale(0.6);
        transition: 1s;
      }
      .sidebar{
          display: none;
          margin-top: 10px;
          cursor: pointer;
          transition: 1s;
      }

      .bell {
        z-index: 1;
        position: absolute;
        width: 50px;
        height: 50px;
        right: 30px;
        top: 53px;
        cursor: pointer;
        transition: 1s;
      }
      .plane {
          position: relative;
          width: 57px;
          height: 37px;
          margin-top: 3px;
          margin-right: 25px;
          margin-left: -30px;
          background-color: transparent;
          cursor: pointer;
          transition: 1s;
      }
      @keyframes sendAnimation {
        0% {
          margin-top: 3px;
          margin-right: 25px;
          transform: rotate(0deg) scale(0.7);

        }
        50% {
          margin-right: -50px;
          margin-top: -40px;
          transform: rotate(-60deg);
        }
        100%{
          margin-top: 3px;
          margin-right: 25px;
          transform: rotate(0deg);
        }
      }

      .hilfe-knopf {
        z-index: 1;
        position: absolute;
        width: 50px;
        height: 50px;
        right: 30px;
        top: 10px;
        cursor: pointer;
        transition: 1s;
      }

      .hilfe-body {
        position: absolute;
        top: 10px;
        left: 50%;
        width: 30px;
        height: 30px;
        background: transparent;/*var(--darkgrey-color);*/
        border-radius: 50%;
        transform: translateX(-50%);
        border: 2.5px solid var(--primary-color);
        border-bottom: none;
        transition: 1s;
      }

      .hilfe-body::after {
        content: '';
        position: absolute;
        bottom: -10px;
        left: 50%;
        width: 13px;
        height: 10px;
        background: transparent;/*var(--darkgrey-color);*/
        border-radius: 2px 2px 5px 5px;
        border: 1.5px solid var(--primary-color);
        border-top: none;
        /* invert the border radius for the top part so the border radius goes in and not out*/
        transform: translateX(-50%);
        transition: 1s;
      }

      .hilfe-clapper {
        position: absolute;
        bottom: -7px;
        left: 50%;
        width: 13px;
        height: 3px;
        background: var(--primary-color);
        border-radius: 10px;
        transform: translateX(-50%);
        /*border-left: 2px solid var(--primary-color);
        border-right: 2px solid var(--primary-color);
        border-bottom: 2px solid var(--primary-color);
        border-top: 2px solid var(--2323233-color);*/
        transition: 1s;
      }
      .hilfe-clapper:before {
        content: '';
        position: absolute;
        bottom: -3px;
        left: 50%;
        width: 13px;
        height: 3px;
        background: var(--primary-color);
        border-radius: 10px;
        transform: translateX(-50%);
        /*border-left: 2px solid var(--primary-color);
        border-right: 2px solid var(--primary-color);
        border-bottom: 2px solid var(--primary-color);
        border-top: 2px solid var(--2323233-color);*/
        transition: 1s;
      }
      .hilfe-clapper:after {
        content: '';
        position: absolute;
        bottom: -6px;
        left: 50%;
        width: 13px;
        height: 3px;
        background: var(--primary-color);
        border-radius: 10px;
        transform: translateX(-50%);
        /*border-left: 2px solid var(--primary-color);
        border-right: 2px solid var(--primary-color);
        border-bottom: 2px solid var(--primary-color);
        border-top: 2px solid var(--2323233-color);*/
        transition: 1s;
      }
      input[type=text] {
        background: transparent;
        /*linear-gradient(45deg, #010758, #490d61);*/
        color: var(--primary-color);
        font-weight: bold;
        font-size: 30px;
        text-align: right;
      }

      #fontS {
        display: none;
      }

      .bigscreenbtns {
        display: none;
      }

      .smallscreenbtns {
        display: flex;
        justify-content: space-between;
      }

      .smallscreenbtns button {
        display: flex;
        background: var(--newc-color);
        /*#82be5d;*/
        color: var(--newcb-color);
        border: 1px solid var(--newcbb-color);
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 5px;
        font-size: 25px;
        font-weight: bold;
        margin-left: 5px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        transition: 1s;
      }

      #button1 img {
        height: 35px;
      }

      .chat-container {
        max-width: 600px;
        margin: 20px auto;
        /*border: 1px solid transparent;*/
        border-radius: 10px;
        /*background: var(--darkgrey-color);*/
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        display: flex;
        flex-direction: column;
        height: 100vh;
        /* Volle Höhe des Viewports */
        background: var(--blurbc-color);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        transition: 1s;
        transition: 1s;
      }

      .chat-container:hover {
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
      }

      .chat-messages {
        flex: 1;
        /* Füllt den verfügbaren Platz aus */
        overflow-y: auto;
        padding: 10px;
      }

      .message {
        margin-bottom: 10px;
        padding: 10px;
        border-radius: 30px;
        max-width: 90%;
        word-wrap: break-word;
      }

      .sent {
        background: var(--232323-color);
        align-self: flex-end;
        text-align: right;
        font-size: 30px;
        color: var(--primary-color);
        /*max-width: 50%;
              margin-left: 30%;*/
        transition: 0.5s;
        border-bottom-right-radius: 0;
        animation: blop2 0.5s;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
      }

      .sent:hover {
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.4);
      }

      .received {
        background: var(--232323-color);
        align-self: flex-start;
        text-align: left;
        font-size: 30px;
        color: var(--primary-color);
        /*max-width: 50%;*/
        transition: 0.5s;
        border-bottom-left-radius: 0;
        animation: blop 0.5s;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
      }

      .received:hover {
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.4);
      }

      .chat-input {
        display: flex;
        align-items: center;
        padding: 1px;
        border-top: none;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
        background: var(--232323-color);
        border-radius: 200px;
        margin-left: 10px;
        margin-right: 10px;
        margin-bottom: 10px;
      }

      .chat-input input {
        flex: 1;
        padding: 15px;
        margin-right: 10px;
        border: none;
        border-radius: 10px;
        color: var(--primary-color);
        background: transparent; /*var(--232323-color);*/
        font-size: 20px;
        font-weight: bold;
        text-align: left;
        transition: 1s;
      }

      .chat-input button {
        padding: 8px 15px;
        border: none;
        background: transparent; /*var(--232323-color);*/
        color: var(--darkgrey-color);
        border-radius: 10px;
        cursor: pointer;
        transition: 1s;
        transform: scale(0.7);
        margin-right: -15px;
      }
      
      .chat-input .searchchatdivbutton {
        transform: scale(0.7);
        transition: 1s;
      }
      
      .user-input {
        color: var(--white-color);
        transition: 1s;
      }

      .chat-input input:focus {
        outline: none;
        border: none;
      }

      .nav-links {
        flex: 1;
        text-align: right;
        cursor: pointer;
        display: none;
      }

      .nav-links ul li {
        display: none;
        /*list-style: none;
              display: inline-block;
              padding: 8px 12px;
              position: relative;*/
      }

      .nav-links ul li a {
        display: none;
        /*color: var(--primary-color);
              text-decoration: none;
              font-size: 20px;
              transition: 1s;*/
      }

      .nav-links ul li::after {
        display: none;
        /*content: '';
              width: 0%;
              height: 2px;
              background: var(--cyan-color);
              display: block;
              margin: auto;
              transition: 0.5s;*/
      }

      .bcft {
        /*background: var(--newc-color);
              border-radius: 10px;
              padding: 10px;*/

      }

      #einstellungen {
        display: none;
        /*width: 70px;
              height: 70px;
              margin-left: 80%;
              margin-top: 10px;
              cursor: pointer;
              transition: 1s;
              font-size: 70px;
              color: var(--primary-color);*/
      }

      #button2 {
        display: none;
        transition: 1s;
      }

      #button3 {
        display: none;
        margin-left: 5px;
        background-color: orange;
        transition: 1s;
      }

      .bcft1 {
        background: var(--newc-color);
        border-radius: 10px;
        padding: 10px;
        height: 30px;
      }

      #nmy {
        transition: 0.5s;
      }

      /*#nmy:hover {
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
      }*/

      #messageE {}

      @keyframes blop {
        from {
          width: 0px;
          font-size: 0px;
        }

        to {
          width: 100%;
          font-size: 30px;
        }
      }

      @keyframes blop2 {
        from {
          margin-left: 100%;
          width: 0px;
          font-size: 0px;
        }

        to {
          margin-left: 0;
          width: 100%;
          font-size: 30px;
        }
      }

      .intro {
        position: fixed;
        z-index: 999;
        left: 0;
        top: 0;
        width: 100%;
        height: 100vh;
        background: var(--ngrey-color);
        transition: 1s;
      }

      .logo-header {
        position: absolute;
        top: 40%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: var(--primary-color);
      }

      .logo {
        position: relative;
        display: inline-block;
        bottom: -20px;
        opacity: 0;
      }

      .logo.active {
        bottom: 0;
        opacity: 1;
        transition: ease-in-out 0.5s;
      }

      .logo.fade {
        bottom: 150px;
        opacity: 0;
        transition: ease-in-out 0.5s;
      }

      .container {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 20px;
      }

      .user-profile {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 20px;
        padding: 20px;
        border-radius: 10px;
        /*background: var(--2323233-color);*/
        color: var(--primary-color);
        width: 580px;
        /*border: 1px solid transparent;*/
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        background: var(--blurbc-color);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        transition: 1s;
        transition: 1s;
      }

      #username-display {
        font-size: 24px;
        font-weight: bold;
        text-align: center;
        transition: 1s;
      }

      .user-profile img {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        margin-right: 20px;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
        object-fit: cover;
      }

      #logout {
        display: flex;
        background: var(--newc-color);
        /*#82be5d;*/
        color: var(--newcb-color);
        border: 1px solid var(--newcbb-color);
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 5px;
        font-size: 25px;
        font-weight: bold;
        margin-left: 5px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        transition: 1s;
      }

      #username-display {
        font-weight: bold;
        font-size: 40px;
        transition: 1s;
      }

      #Löschbtn {
        display: none;
        background: var(--bcolor-color);
        color: var(--primary-color);
        border: none;
        border-radius: 10px;
        text-align: center;
        height: 30px;
        width: 100%;
        margin-top: 10px;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
        transition: 1s;
      }

      #Editbtn {
        display: none;
        background: var(--bcolor-color);
        color: var(--primary-color);
        border: none;
        border-radius: 10px;
        text-align: center;
        height: 30px;
        width: 100%;
        margin-top: 10px;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
        transition: 1s;
      }

      #Breakbtn {
        display: none;
        background: var(--bcolor-color);
        color: var(--primary-color);
        border: none;
        border-radius: 10px;
        text-align: center;
        height: 30px;
        width: 100%;
        margin-top: 10px;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
        transition: 1s;
      }

      #speakon {
        display: flex;
        background: var(--newc-color);
        /*#82be5d;*/
        color: var(--newcb-color);
        border: 1px solid var(--newcbb-color);
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 5px;
        font-size: 25px;
        font-weight: bold;
        margin-left: 5px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        transition: 1s;
      }

      #inscructionlink {
        background: var(--newc-color);
        /*#367af6*/
        /*#ff5722;*/
        color: #fff;
        border: 1px solid var(--newcbb-color);
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 5px;
        font-size: 15px;
        margin-left: 5px;
        transition: 1s;
      }

      .RandomQuestion {
        display: flex;
        /*margin-top: 20px;*/
        background: var(--newc-color);
        /*#82be5d;*/
        color: var(--newcb-color);
        border: 1px solid var(--newcbb-color);
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 5px;
        font-size: 25px;
        font-weight: bold;
        margin-left: 5px;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
        transition: 1s;
      }
      ::placeholder {
        color: var(--primary-color);
      }
    }

    #info-box {
      display: none;
      position: absolute;
      /* Ermöglicht das freie Platzieren des Elements */
      width: 130px;
      padding: 20px;
      background: var(--bubble-color);
      /*#555;*/
      color: var(--primary-color);
      border-radius: 10px;
      text-align: center;
      font-size: 14px;
      margin-left: 3%;
      margin-top: 53px;
      transition: 1s;
      animation: fadeIn 0.2s ease-in;
      z-index: 1;
    }

    #info-box::after {
      content: "";
      position: absolute;
      bottom: -20px;
      /* Position des Pfeils anpassen */
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 20px solid transparent;
      border-right: 20px solid transparent;
      border-top: 20px solid var(--bubble-color);
      transition: 1s;
      z-index: 1;
    }

    @keyframes fadeIn {
      0% {
        opacity: 0;
      }

      100% {
        opacity: 1;
      }
    }

    @keyframes fadeOut {
      0% {
        opacity: 1;
      }

      100% {
        opacity: 0;
      }
    }

    .bell-top {
      position: absolute;
      top: 0;
      left: 50%;
      width: 10px;
      height: 6px;
      background: var(--2323233-color);
      border-radius: 25px 25px 0 0;
      transform: translateX(-50%);
      margin-top: 5px;
      border: 2px solid var(--primary-color);
      border-bottom: none;
      transition: 1s;
    }

    .redball {
      display: block;
      position: absolute;
      width: 15px;
      height: 15px;
      background-color: red;
      border-radius: 50%;
      top: 10px;
      right: 2px;
      transition: 1s;
    }

    .bell-body {
      position: absolute;
      top: 10px;
      left: 50%;
      width: 30px;
      height: 28px;
      background: var(--2323233-color);
      border-radius: 35px 35px 0 0;
      transform: translateX(-50%);
      border: 2.5px solid var(--primary-color);
      border-bottom: none;
      transition: 1s;
    }

    .bell-body::after {
      content: '';
      position: absolute;
      bottom: -12px;
      left: 50%;
      width: 40px;
      height: 10px;
      background: var(--2323233-color);
      border-radius: 14px 14px 5px 5px;
      border: 2.5px solid var(--primary-color);
      border-top: none;
      /* invert the border radius for the top part so the border radius goes in and not out*/
      transform: translateX(-50%);
      transition: 1s;
    }

    .bell-clapper {
      position: absolute;
      bottom: -9px;
      left: 50%;
      width: 10px;
      height: 5px;
      background: var(--primary-color);
      border-radius: 0 0 10px 10px;
      transform: translateX(-50%);
      /*border-left: 2px solid var(--primary-color);
      border-right: 2px solid var(--primary-color);
      border-bottom: 2px solid var(--primary-color);
      border-top: 2px solid var(--2323233-color);*/
      transition: 1s;
    }

    .up-container {
      display: none;
      position: absolute;
      left: 10%;
      bottom: 10%;
      width: 80%;
      background: var(--232323-color);
      border-radius: 10px;
      color: var(--primary-color);
      font-size: 15px;
      padding: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      transition: 1s;
      /* make the height scrollable */
      max-height: 80%;
      overflow-y: auto;
      /* add a scrollbar */
      scrollbar-width: thin;
      scrollbar-color: var(--primary-color) var(--bubble-color);
      z-index: 999;
    }

    .up-container h2 {
      margin-top: 55px;
    }

    /* make a cross out of the up cross */
    .up-cross {
      display: block;
      position: absolute;
      width: 10px;
      height: 50px;
      right: 23px;
      top: 5px;
      background: var(--primary-color);
      border-radius: 2px;
      transition: 1s;
      /* rotate 90 deg*/
      transform: rotate(45deg);
    }

    .up-cross::after {
      content: '';
      position: absolute;
      width: 10px;
      height: 50px;
      background: var(--primary-color);
      border-radius: 2px;
      transition: 1s;
      /* rotate 90 deg*/
      transform: rotate(90deg);
    }

    .i-container {
      display: none;
      position: absolute;
      left: 10%;
      bottom: 10%;
      width: 80%;
      background: var(--232323-color);
      border-radius: 10px;
      color: var(--primary-color);
      font-size: 15px;
      padding: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      transition: 1s;
      /* make the container have a max height with overflow hidden for the user to be able to scroll down*/
      max-height: 80%;
      overflow-y: auto;
      /* add a scrollbar */
      scrollbar-width: thin;
      scrollbar-color: var(--primary-color) var(--bubble-color);
      z-index: 999;

    }

    .i-container h2 {
      margin-top: 55px;
    }

    /* make a cross out of the up cross */
    .i-cross {
      display: block;
      position: absolute;
      width: 10px;
      height: 50px;
      right: 23px;
      top: 5px;
      background: var(--primary-color);
      border-radius: 2px;
      transition: 1s;
      /* rotate 90 deg*/
      transform: rotate(45deg);
    }

    .i-cross::after {
      content: '';
      position: absolute;
      width: 10px;
      height: 50px;
      background: var(--primary-color);
      border-radius: 2px;
      transition: 1s;
      /* rotate 90 deg*/
      transform: rotate(90deg);
    }

    .hilfe {
      display: none;
      width: 40%;
      position: absolute;
      left: 30%;
      bottom: 40%;
      border-radius: 10px;
      background: var(--232323-color);
      color: var(--primary-color);
      padding: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      font-size: 20px;
      transition: 1s;
      z-index: 999;
    }

    .hilfe-cross {
      display: block;
      position: absolute;
      width: 5px;
      height: 30px;
      right: 23px;
      top: 5px;
      background-color: var(--primary-color);
      border-radius: 2px;
      transition: 1s;
      /* rotate 90 deg*/
      transform: rotate(45deg);
    }

    .hilfe-cross::after {
      content: '';
      position: absolute;
      width: 5px;
      height: 30px;
      background-color: var(--primary-color);
      border-radius: 2px;
      transition: 1s;
      /* rotate 90 deg*/
      transform: rotate(90deg);
    }

    .hilfe-option {
      display: flex;
      background: var(--232323-color);/*var(--newc-color);*/
      /*invert shadow */
      box-shadow: 0 0 5px var(--primary-color);/*inset;*/
      border-radius: 3px;
      margin-top: 10px;
      padding: 3px;
      transition: 1s;
    }

    #hilfe-option1 {
      margin-top: 40px;
    }

    .plane::before,
    .plane::after {
        content: '';
        position: absolute;
        background-color: var(--plane-color);
        width: 57px;
        height: 20px;
        clip-path: polygon(0% 0%, 100% 50%, 0% 100%);
        transition: 1s;
    }

    .plane::after {
        top: 13.5px;
        transform: rotate(-13deg);
    }
    .plane::before{
        transform: rotate(13deg);
    }
    .side-body{
      display: block;
      position: absolute;
      width: 40px;
      height: 40px;
      background: transparent;/*var(--darkgrey-color);*/
      border-radius: 10px;
      border: 2.5px solid var(--primary-color);
      transition: 1s;
    }
    .side-body2{
      display: block;
      content: '';
      position: absolute;
      width: 10px;
      height: 40px;
      background: var(--primary-color);
      border-radius: 10px 0 0 10px;
      border: 2.5px solid var(--primary-color);
      transition: 1s;
    }
    #alertmessage{
      margin-top: 20px;
      text-align: center;
      padding: 10px;
      width: 78%;
      background-color: var(--alert5-color);
      color: var(--alert9-color);
      border: 1px solid var(--alert8-color);
      border-radius: 5px;
      font-size: 15px;
      display: none;
      transition: 1s;
    }
    #alertmessagebtn{
      margin-top: 20px;
      padding: 10px;
      width: 20%;
      background-color: var(--alert5-color);
      color: var(--alert9-color);
      border: 1px solid var(--alert8-color);
      border-radius: 5px;
      font-size: 15px;
      display: none;
      cursor: pointer;
      transition: 1s;
    }
    #alertElement{
      display: flex;
      justify-content: space-between;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 999;
      transition: 1s;
    }
    .circle {
        position: absolute;
        width: 100px;
        height: 100px;
        border-radius: 50%;
        transition: all 0.3s ease;
        z-index: 400;
        box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.2);
        cursor: pointer;
        transition: 1s;
    }
    .circle:hover {
        z-index: 500;
        transform: scale(1.5);
        transition: 1s;
    }
    /* mic start */
    .movable-icon {
        width: 50px;
        height: 100px;
        position: absolute;
        margin-top: -30px;
        cursor: pointer;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: space-between;
        transition: 1s;
    }
    .mic-body {
        width: 25px;
        height: 40px;
        background-color: var(--primary-color);
        border-radius: 100px;
        margin-top: 38px;
        transition: 1s;
    }
    .halbkreis {
        width: 30px;
        height: 20px;
        border: 5px solid var(--primary-color);
        border-top: none;
        border-radius: 0 0 50px 50px;
        margin-top: -30px;
        margin-bottom: -20px;
        transition: 1s;
    }
    .mic-stand {
        width: 5px;
        height: 17px;
        background-color: var(--primary-color);
        margin-bottom: -20px;
        transition: 1s;
    }
    .mic-base {
        width: 30px;
        height: 5px;
        background-color: var(--primary-color);
        border-radius: 5px;
        transition: 1s;
    }
    .unactive-mic{
        display: block;
        height: 65px;
        width: 7px;
        position: absolute;
        background-color: var(--primary-color);
        border-radius: 10px;
        margin-top: 30px;
        border-left: 2px solid var(--fff1-color);
        transform: rotate(45deg);
        transition: 1s;
    }
    #circle1{
      display: flex;
      justify-content: center;
      align-items: center;
      transition: 1s;
    }
    .door-icon{
        width: 40px;
        height: 70px;
        background-color: transparent;
        border-radius: 10px;
        position: relative;
        cursor: pointer;
        border: 5px solid var(--primary-color);
        margin-left: 18px;
        margin-top: 10px;
        transform: scale(0.7);
        transition: 1s;
    }
    .door-arrow{
        height: 10px;
        width: 25px;
        background-color: var(--primary-color);
        position: absolute;
        margin-top: 33px;
        margin-left: 35px;
        transition: 1s;
    }
    .door-arrow:after {
        /* point */
        content: "";
        position: absolute;
        background-color: var(--primary-color);
        width: 30px;
        height: 20px;
        clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        margin-left: 0px;
        margin-top: -5px;
        transform: rotate(90deg);
        transition: 1s;
    }
    .door-arrow:before {
        /* point */
        content: "";
        position: absolute;
        background-color: var(--primary-color);
        width: 30px;
        height: 120px;
        clip-path: polygon(50% 20%, 0% 0%, 0% 95%, 50% 80%);
        border-radius: 0;
        transform: rotate(180deg);
        margin-left: -65px;
        margin-top: -60px;
        transition: 1s;
    }
    /* mic end */
    /* card start */
    .circle .cardc {
        position: relative;
        width: 70px;
        height: 100px;
        background: var(--primary-color);
        border-radius: 20px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        margin-left: 7px;
        transform: scale(0.7);
        transition: 1s;
    }
    .circle .cardc:before{
        content: '';
        position: absolute;
        left: 20px;
        bottom: -10px;
        height: 100px;
        width: 70px;
        background: var(--primary-color);
        border-radius: 20px;
        transform: rotate(20deg);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        transition: 1s;
    }
    /* card end */
    /* sunmoon start */
    .sunmoon{
      height: 100px;
      width: 100px;
      border-radius: 50%;
      border: none;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      background: var(--primary-color);
      transform: scale(0.7);
      transition: 1s;
    }
    /* sunmoon end */
    /* aflag start */
    .aflag{
      height: 100px;
      width: 10px;
      background: var(--primary-color);
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      margin-left: 30px;
      transform: scale(0.7);
      transition: 1s;
    }
    .aflag:before{
      content: '';
      position: absolute;
      height: 50px;
      width: 60px;
      background: var(--primary-color);
      border-radius: 0 10px 10px 0;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      transition: 1s;
    }
    /* newbuttonalignment start */
    .newbuttonalignment {
        position: relative;
        width: 70px;
        height: 20px;
        margin-left: 15px;
        margin-top: 23px;
        background: var(--primary-color);
        border-radius: 20px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        transform: scale(0.7);
        transition: 1s;
    }
    .newbuttonalignment:before{
        content: '';
        position: absolute;
        bottom: -23px;
        height: 20px;
        width: 70px;
        left: 0;
        background: var(--primary-color);
        border-radius: 20px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        transition: 1s;
    }
    .newbuttonalignment:after{
        content: '';
        position: absolute;
        bottom: -46px;
        height: 20px;
        width: 70px;
        left: 0;
        background: var(--primary-color);
        border-radius: 20px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        transition: 1s;
    }
    /* newbuttonalignment end */
    /* shield start */
    .shield-container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100px;
        width: 100px;
        transition: 1s;
    }
    .shield {
        width: 200px;
        height: 150px;
        background-color: var(--primary-color);
        clip-path: polygon(50% 20%, 85% 28%, 82% 60%, 50% 85%, 18% 60%, 15% 28%);
        border-radius: 20px;
        transform: scale(0.7);
        transition: 1s;
    }
    /* shield end */
    /* reset button start */
    #circle8{
      /*display: flex;
      justify-content: center;
      align-items: center;*/
    }
    .resetbutton {
        height: 100px;
        width: 100px;
        border-radius: 50%;
        border: 17px solid var(--primary-color);
        background: transparent;
        margin-left: -17px;
        margin-top: -15px;
        transform: scale(0.4);
        transition: 1s;
    }
    .resetbutton:before {
        content: '';
        position: absolute;
        height: 70px;
        width: 25px;
        border-radius: 20px;
        background-color: var(--primary-color);
        left: 38px;
        top: -30px;
        transition: 1s;
    }
    /* reset button end */
    /* circle format start */
    .circleformat {
        height: 50px;
        width: 50px;
        border-radius: 50%;
        background: var(--primary-color);
        transform: scale(0.4);
        transition: 1s;
        /*margin: 100px auto;*/
    }
    .circleformat:before {
        content: '';
        position: absolute;
        height: 50px;
        width: 50px;
        border-radius: 50%;
        background-color: var(--primary-color);
        margin-left: 31px;
        margin-top: 56px;
        transition: 1s;
    }
    .circleformat:after {
        content: '';
        position: absolute;
        height: 50px;
        width: 50px;
        border-radius: 50%;
        background-color: var(--primary-color);
        margin-left: -31px;
        margin-top: 56px;
        transition: 1s;
    }
    /* circle format end */
    .disabled {
        pointer-events: none;
    }
    @keyframes fadeOutForMic {
        0% {
            height: 65px;
        }
        100% {
            height: 0px;
        }
    }
    @keyframes fadeInForMic {
        0% {
            height: 0px;
        }
        100% {
            height: 65px;
        }
    }
    .imagebutton{
      height: 100px;
      width: 100px;
      background: var(--primary-color);
      transform: scale(0.5);
      transition: 1s;
    }
    #resetbtn{
        margin-top: 20px;
        padding: 10px 20px;
        font-size: 1em;
        cursor: pointer;
        border: none;
        border-radius: 5px;
        background: var(--blurbc-color);
        backdrop-filter: blur(70px);
        -webkit-backdrop-filter: blur(70px);
        color: var(--primary-color);
        animation: fadeInDown 1s;
        transition: 1s;
    }
    #gamecontainer1 {
        position: fixed;
        top: 0;
        font-family: Arial, sans-serif;
        display: none;/*flex*/
        flex-direction: column;
        align-items: center;
        animation: BodyfadeIn 1s;
        background: var(--blurbc-color);
        backdrop-filter: blur(70px);
        -webkit-backdrop-filter: blur(70px);
        transition: 1s;
        margin: 0;
        height: 100vh;
        width: 100vw;
        justify-content: center;
        overflow: auto;
        z-index: 900;
    }
    #gamecontainer1 .game-board {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .deck, .player-hand, .computer-hand {
        display: flex;
        margin: 20px;
    }
    #gamecontainer1 .carde {
        width: 60px;
        height: 90px;
        border: none;
        border-radius: 5px;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 5px;
        font-size: 24px;
        cursor: pointer;
        backdrop-filter: blur(30px);
        -webkit-backdrop-filter: blur(30px);
        box-shadow: 0px 0px 3px var(--primary-color);
        opacity: 0.9;
        transition: 1s;
    }
    .gamecontainer .carde.new {
        transition: 1s;
        animation: addcard 1s;
    }
    .discard-pile .carde {
        transition: 1s;
        animation: addcard 1s;
    }
    @keyframes addcard{
        0%{
            transform: scale(1.5);
        }
        100%{
            transform: scale(1);
        }
    }
    #gamecontainer1 #draw-pile{
      color: var(--primary-color);
      background: var(--ngrey-color);
    }
    .carde.red.player { background: red; }
    .carde.blue.player { background: blue; }
    .carde.green.player { background: green; }
    .carde.yellow.player { background: yellow; }
    .carde.black.player { background: black; color: white; }

    .carde.red.computer { background: var(--ngrey-color); }
    .carde.blue.computer { background: var(--ngrey-color); }
    .carde.green.computer { background: var(--ngrey-color); }
    .carde.yellow.computer { background: var(--ngrey-color); }
    .carde.black.computer { background: var(--ngrey-color); color: white; }

    .carde.red.deck { background: red; }
    .carde.blue.deck { background: blue; }
    .carde.green.deck { background: green; }
    .carde.yellow.deck { background: yellow; }
    .carde.black.deck { background: black; color: white; }


    #gamecontainer3 {
        font-family: Arial, sans-serif;
        display: none;/* flex */
        position: fixed;
        top: 0;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        width: 100vw;
        margin: 0;
        background: var(--blurbc-color);
        color: var(--primary-color);
        backdrop-filter: blur(70px);
        -webkit-backdrop-filter: blur(70px);
        animation: BodyfadeIn 1s;
        z-index: 900;
        overflow: auto;
        transition: 1s;
    }
    #gamecontainer3 #game {
        display: grid;
        grid-template-columns: repeat(3, 100px);
        grid-template-rows: repeat(3, 100px);
        animation: fadeInDown 1s;
        gap: 5px;
        transition: 1s;
    }
    #gamecontainer3 .cell {
        width: 100px;
        height: 100px;
        background: var(--blurbc-color);
        backdrop-filter: blur(70px);
        -webkit-backdrop-filter: blur(70px);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2em;
        cursor: pointer;
        border: none;
        color: var(--primary-color);
        border-radius: 20px;
        transition: 1s;
    }
    #gamecontainer3 #message {
        margin-top: 20px;
        font-size: 1.5em;
        transition: 1s;
    }
    #gamecontainer3 button {
        margin-top: 20px;
        padding: 10px 20px;
        font-size: 1em;
        cursor: pointer;
        border: none;
        border-radius: 5px;
        background: var(--blurbc-color);
        backdrop-filter: blur(70px);
        -webkit-backdrop-filter: blur(70px);
        color: var(--primary-color);
        animation: fadeInDown 1s;
        transition: 1s;
    }
    #gamecontainer3 #mode-select {
        margin-bottom: 20px;
        animation: fadeInDown 1s;
        transition: 1s;
    }
    @keyframes fadeInDown{
      0%{
        opacity: 0;
        transform: translateY(-100px);
      }
      100%{
        opacity: 1;
        transform: translateY(0px);
      }
    }
    @keyframes BodyfadeIn{
      0%{
        opacity: 0;
      }
      100%{
        opacity: 1;
      }
    }
    @keyframes flipAnimation{
        0%{
            transform: rotateY(180deg);
        }
        100%{
            transform: rotateY(0deg);
        }
    }
    #gamecontainer4 {
        display: none;/* flex */
        position: fixed;
        top: 0;
        z-index: 900;
        justify-content: center;
        align-items: center;
        font-family: Arial, sans-serif;
        text-align: center;
        background: var(--blurbc-color);
        color: var(--primary-color);
        backdrop-filter: blur(70px);
        -webkit-backdrop-filter: blur(70px);
        animation: BodyfadeIn 1s;
        height: 100vh;
        width: 100vw;
        overflow: auto;
        transition: 1s;
    }
    #tiletumble{
        animation: fadeInDown 1s;
    }

    .tgame-container {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    #gamecontainer4 canvas {
        background: #000;
        margin-bottom: 20px;
    }

    #gamecontainer4 .controls {
        display: flex;
        justify-content: space-between;
        width: 200px;
        animation: fadeInDown 1s;
        margin-left: -65%;
    }

    #gamecontainer4 #buttons {
        display: flex;
        justify-content: space-between;
        width: 200px;
        animation: fadeInDown 1s;
    }

    #gamecontainer4 #scores {
        display: flex;
        justify-content: space-between;
        width: 100px;
        animation: fadeInDown 1s;
    }

    #gamecontainer4 .button{
        height: 40px;
        width: auto;
        background: var(--blurbc-color);
        backdrop-filter: blur(70px);
        -webkit-backdrop-filter: blur(70px);
        color: var(--primary-color);
        border: none;
        border-radius: 20px;
        font-size: 1em;
        animation: fadeInDown 1s;
        margin: 10px;
    }
    #gamecontainer2 {
        display: none;
        position: fixed;
        top: 0;
        width: 100vw;
        height: 100vh;
        z-index: 900;
        font-family: Arial, sans-serif;
        text-align: center;
        background: var(--blurbc-color);
        color: var(--primary-color);
        backdrop-filter: blur(70px);
        -webkit-backdrop-filter: blur(70px);
        animation: BodyfadeIn 1s;
        transition: 1s;
        overflow: auto;
    }

    h1 {
        margin-top: 20px;
        animation: fadeInDown 1s;
    }

    #game-board {
        display: flex;
        flex-wrap: wrap;
        width: 80%;
        margin: 20px auto;
        animation: fadeInDown 1s;
    }

    .card {
        width: 100px;
        height: 100px;
        margin: 10px;
        background: var(--blurbc-color);
        backdrop-filter: blur(70px);
        -webkit-backdrop-filter: blur(70px);
        color: var(--primary-color);
        border: none;
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2em;
        cursor: pointer;
        position: relative;
        animation: fadeInDown 1s;
        transition: 1s;
    }

    .card.flipped {
        animation: flipAnimation 0.5s;
    }

    .card.matched {
        visibility: hidden;
    }

    #gamecontainer2 p {
        font-size: 1.2em;
        animation: fadeInDown 1s;
    }
    .cross-container {
        position: absolute;
        width: 50px;
        height: 50px;
        z-index: 999; /* Ensures the cross is always on top */
        transform: rotate(45deg);
        right: 10px;
        top: 30px;
    }

    .tcross {
        position: absolute;
        width: 10px;
        height: 50px;
        background-color: var(--primary-color);
        border: none;
        border-radius: 2px;
    }

    .tcross::before {
        content: '';
        position: absolute;
        top: 20px;
        left: -20px;
        width: 50px;
        height: 10px;
        background-color: var(--primary-color);
        border: none;
        border-radius: 2px;
    }
    /*.button{
        height: 40px;
        width: auto;
        background: var(--blurbc-color);
        -webkit-backdrop-filter: blur(70px);
        color: var(--primary-color);
        border: none;
        border-radius: 20px;
        font-size: 1em;
        animation: fadeInDown 1s;
        margin: 10px;
    }*/
    .searchinputcontainer{
      display: none;
      justify-content: center;
      align-items: center;
      position: fixed;
      background: var(--blurbc-color);
      animation: fadeInDown 1s;
      border-radius: 100px;
      bottom: 75vh;
      left: 30%;
      width: 40%;
      /*padding: 0px 15px;*/
      min-width: 300px;
      transition: 1s;
      z-index: 999;
      overflow: hidden;
      box-shadow: 0px 0px 3px var(--primary-color);
      backdrop-filter: blur(70px);
      -webkit-backdrop-filter: blur(70px);
    }
    #chatSearchInput{
      background: transparent;
      color: var(--primary-color);
      border: none;
      border-radius: 100px;
      padding: 10px 30px;
      font-size: 2em;
      text-align: center;
      width: 95%;
    }
    #chatSearchInput:focus{
      outline: none;
    }
    .serachinputcrosscontainer {
        position: absolute;
        width: 30px;
        height: 30px;
        transform: rotate(45deg);
        left: 88%;
        right: 10px;
        bottom: 5px;
        cursor: pointer;
    }

    #chatsearchinputcross {
        position: absolute;
        width: 6px;
        height: 30px;
        background-color: var(--primary-color);
        border: none;
        border-radius: 2px;
    }

    #chatsearchinputcross::before {
        content: '';
        position: absolute;
        top: 13px;
        left: -13px;
        width: 30px;
        height: 6px;
        background-color: var(--primary-color);
        border: none;
        border-radius: 2px;
    }
    .searchchatdivbutton{
      /*lupe*/
      height: 30px;
      width: 30px;
      border-radius: 100px;
      border: 10px solid var(--primary-color);
      background: transparent;
      margin-left: 10px;
      margin-right: 10px;
    }
  </style>
</head>

<body>
  <div class="intro">
    <h1 class="logo-header">
      <span class="logo">A</span><span class="logo">I</span><span class="logo">l</span><span class="logo">u</span><span
        class="logo">r</span><span class="logo">y</span><span class="logo">-</span><span class="logo">2</span><span class="logo">.</span><span class="logo">0</span><span class="logo">.</span><span class="logo">1</span>
    </h1>
  </div>
  <script>
    let intro = document.querySelector('.intro');
    let logo = document.querySelector('.logo-header');
    let logoSpan = document.querySelectorAll('.logo');
    window.addEventListener('DOMContentLoaded', () => {
      let bodyb2 = document.querySelector('body');
      let image = localStorage.getItem('backgroundImage');
      if (image) {
          bodyb2.style.backgroundImage = `url(${image})`;
      }
      setTimeout(() => {
        logoSpan.forEach((span, idx) => {
          setTimeout(() => {
            span.classList.add('active');
          }, (idx + 1) * 200)
        })
        setTimeout(() => {
          logoSpan.forEach((span, idx) => {
            setTimeout(() => {
              span.classList.remove('active');
            }, (idx + 1) * 50)
          })
        }, 3000)
        setTimeout(() => {
          intro.style.top = '-100vh';
        }, 3500)
      }, 1000)
    })

  </script>
  <div class="searchinputcontainer"><input id="chatSearchInput" placeholder="search" /><div class="serachinputcrosscontainer"><div id="chatsearchinputcross"></div></div></div>

  <div class="gamecontainer" id="gamecontainer2">
    <div class="cross-container" id="gamecontainercross2">
        <div class="tcross"></div>
    </div>
    <h1 id="memorygameh1">Memory Game</h1>
    <div id="game-board"></div>
    <p><span id="memorygamep">Player Score: </span><span id="player-score">0</span><span id="memorygamepc"> AIlury Score: </span><span id="computer-score">0</span></p>
  </div>

  <div id="alertElement">
    <button id="alertmessage">text</button><button id="alertmessagebtn">ok</button>
  </div>
  <div class="gamecontainer" id="gamecontainer1">
    <div class="cross-container" id="gamecontainercross1">
        <div class="tcross"></div>
    </div>
    <div class="game-board">
        <div class="computer-hand"></div>
        <div class="deck">
            <div id="draw-pile" class="carde back">Draw</div>
            <div id="discard-pile" class="carde"></div>
        </div>
        <div class="player-hand"></div>
    </div>
    <a><button class="cardgameresetbtn" id="resetbtn">reset</button></a>
  </div>

  <div class="gamecontainer" id="gamecontainer3">
    <div class="cross-container" id="gamecontainercross3">
        <div class="tcross"></div>
    </div>
    <div id="mode-select">
        <button id="tuctactoegamesetting1" onclick="setMode('single')">you vs AIlury</button>
        <button id="tuctactoegamesetting2" onclick="setMode('multi')">Two players</button>
    </div>
    <div id="game">
      <div class="cell" data-index="0"></div>
      <div class="cell" data-index="1"></div>
      <div class="cell" data-index="2"></div>
      <div class="cell" data-index="3"></div>
      <div class="cell" data-index="4"></div>
      <div class="cell" data-index="5"></div>
      <div class="cell" data-index="6"></div>
      <div class="cell" data-index="7"></div>
      <div class="cell" data-index="8"></div>
    </div>
    <div id="messagee"></div>
    <button class="tictactoerestartbtn" id="restart">Restart</button>
  </div>
  <div class="gamecontainer" id="gamecontainer4">
    <div class="cross-container" id="gamecontainercross4">
        <div class="tcross"></div>
    </div>
    <div class="tgame-container">
        <canvas id="tiletumble" width="300" height="600"></canvas>
        <div class="controls">
            <button class="button" id="left">Left</button>
            <button class="button" id="rotate">Rotate</button>
            <button class="button" id="right">Right</button>
            <button class="button" id="down">Down</button>
            <button class="button" id="resetbtntwo" class="button">reset</button>
        </div>
        <div id="scores"><div id="tiletumblescorecontainer">score </div><div id="score">0</div></div>
    </div>
  </div>

  <div class="timer"><div class="timer-num1">00</div>:<div class="timer-num2">00</div>:<div class="timer-num3">00</div></div>
  <div class="bell">
    <div class="bell-top"></div>
    <div class="bell-body"></div>
    <div class="bell-clapper"></div>
    <div class="redball"></div>
  </div>
  <div class="hilfe">
    <div class="hilfe-cross"></div>
    <div class="hilfe-option" id="hilfe-option1">op1</div>
    <div class="hilfe-option" id="hilfe-option2">op2</div>
    <div class="hilfe-option" id="hilfe-option3">op3</div>
    <div class="hilfe-option" id="hilfe-option4">op4</div>
    <h2 id="helptext">whats your problem?</h2>
  </div>
  <div class="info-box" id="info-box">
    Information steht hier
  </div>
  <div class="circleformatcontainer">
    <div class="circleformat"></div>
  </div>
  <div class="up-container">
    <div class="up-cross"></div>
    <h2 class="h21">
      <strong>Update 2.0.1: Introducing the Heli Update Series</strong><br><br>
      We are excited to announce the release of Update 2.0.1, the first installment of the Heli Update Series. This series will bring a range of enhancements to improve language, behavior, and knowledge.<br><br>

      <strong>Key Features:</strong><br><br>

      1. <strong>New Speak Button</strong>:<br>
      - <em>Effortless Language Switching</em>: Translate the website with a single click, switching seamlessly between English and German based on the current language setting.<br><br>

      2. <strong>Enhanced Responses</strong>:<br>
      - <em>Improved Interactivity</em>: Enjoy more engaging and friendly responses during play, learning sessions, or casual conversations.<br><br>

      3. <strong>Side Bar Toggle</strong>:<br>
      - <em>Easy Navigation</em>: A new button allows you to open or close the sidebar effortlessly, providing a smoother user experience.<br><br>

      4. <strong>game</strong>:<br>
      - <em>new quiz:</em>: to play the new quiz, just say: "i want to play the new quiz" and then AIlury will ask you questions.<br><br>

      Stay tuned for more exciting updates in the Heli Update Series!
      <!--<br><br>update 1.8<br><br>
      Our update 1.8 offers notifications, a new game, navigation help and a new help
      function.<br><br>Notifications: a new bell has been added which you have probably already clicked to read
      this!<br><br>Game: you can for example ask AIlury: "I want to play the emoji game" and then you can play the emoji
      game! To play it you have to count the emojis from left to right until you get to the different one and then tell
      AIlury the position or you tell AIlury which one it is by sending the different emoji, if this is the right
      position or you sent the right emoji, AIlury will give you the next list of emojis! If you want to leave the game
      you can say for example: "I want to go back to the conversation". If you don't know the answer, just type: "idk",
      like in the other games!<br><br>Navigation help: when you click on certain elements on the sidebar you will be
      told what that element is or does. If this element is in the way, you can simply click on it to make it
      disappear.<br><br>Help: when you click on the help button, a small window opens on the screen with buttons, and
      depending on the problem you are having, you can click on the corresponding button.</h2>-->
  </div>
  <div class="i-container">
    <div class="i-cross"></div>
    <h2 class="h22">
      Instructions:<br><br>
      Buttons:<br>

      Notifications: when you click on the notification button, you will be shown information about the latest
      update.<br><br>

      Help: if you click on the help button, a small window will open on the screen with up to 4 buttons! If you have a
      problem, just click on the button that corresponds to your question, then the text under the buttons will change
      and tell you what you need to do to solve your problem on the website or will tell you what has been done to solve
      your problem.<br><br>

      log out: when you click the log out button you will be taken to your profile where you can upload a profile
      picture or change your name. To get back to the chat you have to click on the "Start" button, but by doing so you
      agree to the user guidelines and Privacy Policy!<br><br>

      speak: when you click the speak button, the chat will be read from that moment on. If you no longer want this, you
      can click it a second time.<br><br>

      theme: if you click on the light/dark theme button, the website will be either light or dark, depending on whether
      it is dark or light at the time of the click.<br><br>

      messages: if you click on any message you will be able to delete it or edit it, if its a message you
      wrote!<br><br>

      button format: if you click on the button format button, the buttons will either be aligned in a circular format or under each other.<br><br>

      shield/privacy policy/user guidelines: if you click on the shield button, you will be brought to our privacy policy and user guidelines page.<br><br>

      reset button: if you click on the reset button, the page will be refreshed.<br><br>

      random: if you click on the random button, a random question or sentence will appear in the input
      field.<br><br><br>

      Functions: if you want to play an emoji game by guessing where or which emoji is different you can for example
      type: "I want to play the emoji game". Then AIlury will give you a list of emojis and you either have to count the
      emojis from left to right until you get to the different one and then send AIlury the number or you can send
      AIlury the different emoji! If you want to practice German, you can write for example: "I want to practice German"
      and then AIlury will give you words to translate! If you want to practice math you can write for example: "I want
      to practice math" and then AIlury will give you math exercises. If you want to play a quiz, you can simply say: "i want to play a quiz" and then AIlury will ask you questions. If you want to play Tic Tac Toe, just say: "i want to play Tic Tac Toe", and AIlury will open the game on screen. If you want to play Memory just say: "i want to play Memory" and AIlury will open the game on screen two. and If you want to play Tile Tumble, just say: "i want to play Tile Tumble" and AIlury will open the game on screen three. If at any time you don't know the answer to a
      text function, you can simply say: "idk".<br><br>
      Text filters and keywords: AIlury offers a lot of functions. You can use AIlury to replace text with text in a
      large or small text, for example: "replace I with you in I eat". Or you can ask if a text is in another text by
      saying for example: "is hello in hello how are you?". You can also remove one text from another by saying, for
      example: "take hello out of hello how are you?". You can also tell her to say something, for example by saying:
      "say: hello". You can also give Allury basic math problems to solve or ask if one number is greater than another
      by writing, for example: "is 20 > 21?" or see if one number is equal to another by saying, for example: "is 20 =
      20?". AIlury can also give you a Random name for either a specific person or in general, for example if you say:
      "what would be a good name for my dog?" Or "give me a female name". You can also ask AIlury to choose a number
      between two numbers you specify by saying, for example, "choose a number from 10 to 20". You can also ask AIlury
      to count to a desired number by saying, for example: "count till 100". These are not all the functions AIlury has
      to offer but a lot of them. These functions are not yet fully developed, they are still being
      improved.<br><br><br>
      i hope i was able to give you a good overview of what AIlury can do!
    </h2>
  </div>
  <div class="chat">
    <div class="container">
      <div class="user-profile" id="user-profile">
        <div>
          <img src="default_avatar.png" alt="User Avatar" id="user-avatar" class="user-avatar">
          <br>
          <br>
          <span id="username-display" class="username-display">Guest</span>
          <div class="container1">
              <!-- #1E50A2 -->
              <div class="circle" id="circle1" style="background-color: var(--fff1-color); top: 50px; left: 150px;"><div id="microphone" class="movable-icon">
                  <div class="unactive-mic"></div>
                  <div class="mic-body"></div>
                  <div class="halbkreis"></div>
                  <div class="mic-stand"></div>
                  <div class="mic-base"></div>
              </div></div>
              <!-- #B278D3 -->
              <div class="circle" id="circle2" style="background-color: var(--fff1-color); top: 117px; left: 55px;"><a href="start.html"><div id="door" class="door-icon">
                  <div class="door-arrow"></div>
              </div></a></div>
              <!-- #4AD7DA -->
              <div class="circle" id="circle3" style="background-color: var(--fff1-color); top: 117px; left: 245px;">
                <div class="cardc"></div>
              </div>
              <!-- #1A1DC1 -->
              <div class="circle" id="circle4" style="background-color: var(--fff1-color); top: 220px; left: 90px;">
                <div class="sunmoon"></div>
              </div>
              <!-- #FAD24D -->
              <div class="circle" id="circle5" style="background-color: var(--fff1-color); top: 220px; left: 200px;">
                <div class="aflag"></div>
              </div>

              <!-- #41AC3F -->
              <div class="circle" id="circle6" style="background-color: var(--fff1-color); top: 95px; left: 100px;">
                <div class="newbuttonalignment"></div>
              </div>
              <!-- #FC70B1 -->
              <div class="circle" id="circle7" style="background-color: var(--fff1-color); top: 95px; left: 210px;">
                <a href="User-Regulations-Privacy-policy.html"><div class="shield-container">
                    <div class="shield"></div>
                </div></a>
              </div>
              <!-- #AAFCA3 -->
              <div class="circle" id="circle8" style="background-color: var(--fff1-color); top: 190px; left: 150px;">
                <div class="resetbutton"></div>
              </div>

              <div class="circle" id="circle9" style="background-color: var(--fff1-color); top: 130px; left: 150px;">
                <input type="file" id="bimage" accept="image/*" style="display: none;">
                <label for="bimage" class="bimage2"><div class="imagebutton"></div></label>
              </div>
          </div>
          <div class="smallscreenbtns">
            <a id="logout" class="logout1" href="start.html">back</a>
            <button class="speakon" id="speakon">speak: off</button>
            <button class="bcft" onclick="change_mood()">Dark theme</button>
            <button class="RandomQuestion" onclick="setinputvalue()">Random</button>
          </div>
          <div class="bigscreenbtns">
            <br>
            <br>
            <a id="logout" class="logout2" href="start.html">back</a>
            <br>
            <br>
            <a class="speakon" id="speakon">speak: off</a>
            <br>
            <br>
            <a class="changetheme" id="changetheme" onclick="change_mood()">Dark</a>
            <br>
            <br>
            <a class="RandomQuestion" onclick="setinputvalue()">Random</a>
            <br>
            <br>
            <a class="ChangeLanguage" onclick="change_language()">language</a>
          </div>
        </div>
      </div>
    </div>
    <div class="chat-container">
      <div class="hilfe-knopf">
        <div class="hilfe-top"></div>
        <div class="hilfe-body"></div>
        <div class="hilfe-clapper"></div>
      </div>
      <h1 id="einstellungen" onclick="showmenu()">#</h1>
      <div class="nav-links" id="navlinks">
        <ul>
          <li><a class="bcft2" style="color: var(--primary-color);" onclick="change_mood()">Dark</a></li>
          <br>
          <br>
          <li><a class="bcft2" style="color: var(--primary-color);" onclick="setinputvalue()">Random</a></li>
          <br>
          <br>
          <li><a class="bcft2" id="btn3" style="color: var(--primary-color);" onclick="helpbtn()">Help</a></li>
          <br>
          <br>
          <li><a class="bcft2" id="fontS" style="color: var(--primary-color);" onclick="showfonts()">Font size ></a>
          </li>
          <br>
          <br>
          <li><a class="bcft1" id="btnone" style="color: var(--primary-color);display: none;" onclick="font1()">big</a>
          </li>
          <br>
          <li><a class="bcft1" id="btnthree" style="color: var(--primary-color);display: none;"
              onclick="font3()">small</a></li>
        </ul>
      </div>

      <div class="chat-messages" id="chat-messages">
        <div class="sidebar">
          <div class="side-body"></div>
          <div class="side-body2"></div>
        </div>
        <h2 id="nmy" style="text-align: center;color: var(--primary-color);">no messages yet<a id="inscructionlink">instructions</a></h2>
        <!-- nmy Hier werden die Chat-Nachrichten eingefügt -->
      </div>
      <button id="Breakbtn">Break</button>
      <button id="Löschbtn">Trash</button>
      <button id="Editbtn">Edit</button>
      <div class="chat-input">
        <input type="text" class="user-input" id="user-input" placeholder="Type your message...">
        <div class="searchchatdivbutton"></div>
        <button id="button1" onclick="sendMassaga()"><div class="plane"></div></button>
        <button id="button2" onclick="newknowledge()">Teach</button>
        <button id="button3" onclick="learnnonewthing()">Skip</button>
      </div>
    </div>
  </div>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const userProfile = document.getElementById("user-profile");
      const usernameDisplay = document.getElementById("username-display");
      const userAvatar = document.getElementById("user-avatar");


      // Load user profile from localStorage
      loadUserProfile();
      checkvalueoc();

      function loadUserProfile() {
        const savedUsername = localStorage.getItem("username");
        const savedAvatar = localStorage.getItem("avatar");

        if (savedUsername) {
          usernameDisplay.textContent = savedUsername;
        }

        if (savedAvatar) {
          userAvatar.src = savedAvatar;
        }
      }
    });

  </script>
  <script>
    const myInput = document.getElementById('user-input');
    /*myInput.addEventListener('keyup', () => {
      if (myInput.value !== '') {
        document.getElementById('button1').style.backgroundColor = "var(--676767-color)";
        document.getElementById('button2').style.backgroundColor = "var(--676767-color)";


      } else {
        document.getElementById('button1').style.backgroundColor = "var(--232323-color)";
        document.getElementById('button2').style.backgroundColor = "var(--232323-color)";


      }

    })*/
  </script>
  <h6 style="color: transparent;" id="remember"></h6>
  <h6 style="color: transparent;" id="bot-response"></h6>
  <h6 style="color: transparent;" id="idk">I dont know the answer. Please enter my answer to that question</h6>
  <script>
    let searchchatdivbutton = document.querySelector(".searchchatdivbutton");
    let searchinputcontainer = document.querySelector(".searchinputcontainer");
    let chatSearchInput = document.getElementById('chatSearchInput');
    searchchatdivbutton.addEventListener("click", () => {
      if (searchinputcontainer.style.display == "flex"){
        searchinputcontainer.style.animation = "none";
        void searchinputcontainer.offsetWidth; // Trigger reflow
        searchinputcontainer.style.animation = "fadeOut 0.5s ease-out";
        setTimeout(function(){
          searchinputcontainer.style.display = "none";
          chatSearchInput.value = "";
          let amessagequeryselector = document.querySelectorAll('.message');
          if (amessagequeryselector){
            amessagequeryselector.forEach(element => {
              element.style.display = "block";
            });
          }
        }, 500);
      }else {
        searchinputcontainer.style.display = "flex";
        searchinputcontainer.style.animation = "none";
        void searchinputcontainer.offsetWidth; // Trigger reflow
        searchinputcontainer.style.animation = "fadeInDown 0.5s ease-in";
      }
    });
    let serachinputcrosscontainer = document.querySelector(".serachinputcrosscontainer");
    serachinputcrosscontainer.addEventListener("click", () => {
      searchinputcontainer.style.animation = "none";
      void searchinputcontainer.offsetWidth; // Trigger reflow
      searchinputcontainer.style.animation = "fadeOut 0.5s ease-out";
      setTimeout(function(){
        searchinputcontainer.style.display = "none";
        chatSearchInput.value = "";
        let amessagequeryselector = document.querySelectorAll('.message');
        if (amessagequeryselector){
          amessagequeryselector.forEach(element => {
            element.style.display = "block";
          });
        }
      }, 500);
    });
    chatSearchInput.addEventListener('input', () => {
      let amessagequeryselector = document.querySelectorAll('.message');
      if (amessagequeryselector){
        amessagequeryselector.forEach(element => {
          if (element.innerHTML.includes(chatSearchInput.value)){
            element.style.display = "block";
          }else{
            element.style.display = "none";
          }
        });
      }
    });
    const cards = [
        'A', 'A', 'B', 'B', 'C', 'C', 'D', 'D', 'E', 'E', 'F', 'F',
        'G', 'G', 'H', 'H', 'I', 'I', 'J', 'J', 'K', 'K', 'L', 'L', 'M', 'M', 'N', 'N', 'O', 'O'
    ];

    let playerScore = 0;
    let computerScore = 0;
    let flippedCards = [];
    let playerTurn = true;

    const gameBoard = document.getElementById('game-board');
    const playerScoreBoard = document.getElementById('player-score');
    const computerScoreBoard = document.getElementById('computer-score');

    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    function createBoard() {
        shuffle(cards);
        cards.forEach(card => {
            const cardElement = document.createElement('div');
            cardElement.classList.add('card');
            cardElement.dataset.value = card;
            cardElement.addEventListener('click', () => {
                if (playerTurn && flippedCards.length < 2 && !cardElement.classList.contains('flipped')) {
                    flipCard(cardElement);
                    checkMatch();
                }
            });
            gameBoard.appendChild(cardElement);
        });
    }

    function flipCard(card) {
        card.classList.add('flipped');
        card.innerHTML = card.dataset.value;
        flippedCards.push(card);
    }
    let memorygameyouwoncongrats = "Congratulations! You won!";
    let memorygameyoulostbetterlucknexttime = 'You lost! Better luck next time!';

    function checkMatch() {
        if (flippedCards.length === 2) {
            const [card1, card2] = flippedCards;
            if (card1.dataset.value === card2.dataset.value) {
                playerScore += 2;
                playerScoreBoard.textContent = playerScore;
                card1.classList.add('matched');
                card2.classList.add('matched');
                flippedCards = [];
                if (allCardsMatched()) {
                    if (playerScore > computerScore) {
                        showalert(`${memorygameyouwoncongrats}`);
                    } else if (playerScore < computerScore) {
                        showalert(`${memorygameyoulostbetterlucknexttime}`);
                    }
                    resetGame();
                }
            } else {
                setTimeout(() => {
                    card1.classList.remove('flipped');
                    card2.classList.remove('flipped');
                    card1.innerHTML = '';
                    card2.innerHTML = '';
                    flippedCards = [];
                    playerTurn = false;
                    setTimeout(computerMove2, 1000);
                }, 1000);
            }
        }
    }

    function computerMove2() {
        const availableCards = Array.from(document.querySelectorAll('.card:not(.flipped):not(.matched)'));
        if (availableCards.length < 2) return;

        const randomIndex1 = Math.floor(Math.random() * availableCards.length);
        let randomIndex2;
        do {
            randomIndex2 = Math.floor(Math.random() * availableCards.length);
        } while (randomIndex2 === randomIndex1);

        const card1 = availableCards[randomIndex1];
        const card2 = availableCards[randomIndex2];

        flipCard(card1);
        flipCard(card2);

        setTimeout(() => {
            if (card1.dataset.value === card2.dataset.value) {
                computerScore += 2;
                computerScoreBoard.textContent = computerScore;
                card1.classList.add('matched');
                card2.classList.add('matched');
            } else {
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
                card1.innerHTML = '';
                card2.innerHTML = '';
            }
            flippedCards = [];
            playerTurn = true;
            if (allCardsMatched()) {
                if (playerScore > computerScore) {
                    showalert(`${memorygameyouwoncongrats}`);
                } else if (playerScore < computerScore) {
                    showalert(`${memorygameyoulostbetterlucknexttime}`);
                }
                resetGame();
            }
        }, 1000);
    }

    function allCardsMatched() {
        return document.querySelectorAll('.card.matched').length === cards.length;
    }

    function resetGame() {
        gameBoard.innerHTML = '';
        playerScore = 0;
        computerScore = 0;
        playerScoreBoard.textContent = playerScore;
        computerScoreBoard.textContent = computerScore;
        playerTurn = true;
        createBoard();
    }

    function startMemoryGame() {
        let gamecontainer2 = document.getElementById('gamecontainer2');
        gamecontainer2.style.display = 'block';
        gamecontainer2.style.animation = "none";
        void gamecontainer2.offsetWidth; // Trigger reflow
        gamecontainer2.style.animation = "fadeInDown 1s ease-in";
        gameBoard.innerHTML = '';
        resetGame();
    }

    function stopMemoryGame() {
        let gamecontainer2 = document.getElementById('gamecontainer2');
        gamecontainer2.style.animation = "none";
        void gamecontainer2.offsetWidth; // Trigger reflow
        gamecontainer2.style.animation = "fadeOut 1s ease-in";
        setTimeout(() => {
            gamecontainer2.style.display = 'none';
        }, 1000);
    }
    /* card game */
    let numberiw = 1;
    class Card {
        constructor(color, value) {
            this.color = color;
            this.value = value;
        }
    }

    let youwonplayertext = 'you won!';
    let youwoncomputertext = 'AIlury won!';

    class CardGame {
        constructor() {
            this.colors = ['red', 'blue', 'green', 'yellow'];
            this.values = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '+2'];
            this.specialValues = ['+4', 'wild'];
            this.deck = [];
            this.playerHand = [];
            this.computerHand = [];
            this.discardPile = [];
            this.currentPlayer = 'player';
            this.initializeGame();
        }

        initializeGame() {
            this.createDeck();
            this.shuffleDeck();
            this.dealCards();
            this.startGame();
            this.render();
        }

        createDeck() {
            this.colors.forEach(color => {
                this.values.forEach(value => {
                    this.deck.push(new Card(color, value));
                    if (value !== '0') {
                        this.deck.push(new Card(color, value));
                    }
                });
            });
            this.specialValues.forEach(value => {
                for (let i = 0; i < 4; i++) {
                    this.deck.push(new Card('black', value));
                }
            });
        }

        shuffleDeck() {
            for (let i = this.deck.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [this.deck[i], this.deck[j]] = [this.deck[j], this.deck[i]];
            }
        }

        dealCards() {
            for (let i = 0; i < 7; i++) {
                this.playerHand.push(this.deck.pop());
                this.computerHand.push(this.deck.pop());
            }
            this.discardPile.push(this.deck.pop());
        }

        startGame() {
            document.getElementById('draw-pile').addEventListener('click', () => this.drawCard());
        }

        drawCard() {
            if (this.currentPlayer === 'player') {
                this.playerHand.push(this.deck.pop());
                this.currentPlayer = 'computer';
                this.computerTurn();
            }
        }

        playCard(cardIndex) {
            if (this.currentPlayer === 'player') {
                const card = this.playerHand[cardIndex];
                const topCard = this.discardPile[this.discardPile.length - 1];
                if (this.canPlayCard(card, topCard)) {
                    this.discardPile.push(this.playerHand.splice(cardIndex, 1)[0]);
                    this.handleSpecialCard(card, 'player');
                    if (!this.isGameOver()) {
                        this.currentPlayer = 'computer';
                        this.render();
                        this.computerTurn();
                    }else {
                        new CardGame();
                    }
                }
            }
        }

        handleSpecialCard(card, player) {
            if (card.value === '+4') {
                if (player === 'player') {
                    this.drawMultipleCards(4, 'computer');
                } else {
                    this.drawMultipleCards(4, 'player');
                }
            } else if (card.value === '+2') {
                if (player === 'player') {
                    this.drawMultipleCards(2, 'computer');
                } else {
                    this.drawMultipleCards(2, 'player');
                }
            }
        }

        drawMultipleCards(count, player) {
            for (let i = 0; i < count; i++) {
                if (player === 'player') {
                    this.playerHand.push(this.deck.pop());
                } else {
                    this.computerHand.push(this.deck.pop());
                }
            }
        }

        canPlayCard(card, topCard) {
            return card.color === topCard.color || card.value === topCard.value || card.color === 'black' || topCard.color === 'black';
        }

        computerTurn() {
            setTimeout(() => {
                const topCard = this.discardPile[this.discardPile.length - 1];
                const playableCardIndex = this.computerHand.findIndex(card => this.canPlayCard(card, topCard));
                if (playableCardIndex > -1) {
                    const card = this.computerHand[playableCardIndex];
                    this.discardPile.push(this.computerHand.splice(playableCardIndex, 1)[0]);
                    this.handleSpecialCard(card, 'computer');
                    if (!this.isGameOver()) {
                        this.currentPlayer = 'player';
                    }else {
                        new CardGame();
                    }
                } else {
                    this.computerHand.push(this.deck.pop());
                    this.currentPlayer = 'player';
                }
                this.render();
            }, 700);
        }

        render() {
            this.renderHand('player', this.playerHand);
            this.renderHand('computer', this.computerHand, true);
            this.renderDeck();
        }

        renderHand(player, hand, hidden = false) {
            const handDiv = document.querySelector(`.${player}-hand`);
            handDiv.innerHTML = '';
            hand.forEach((card, index) => {
                const cardDiv = document.createElement('div');
                if (player == 'computer'){
                    cardDiv.className = `carde ${card.color} computer`;
                }else {
                    cardDiv.className = `carde ${card.color} player`;
                }
                cardDiv.innerHTML = hidden ? '' : card.value;
                cardDiv.addEventListener('click', () => this.playCard(index));
                handDiv.appendChild(cardDiv);
            });
        }


        renderDeck() {
            const topCard = this.discardPile[this.discardPile.length - 1];
            const discardPileDiv = document.getElementById('discard-pile');
            discardPileDiv.className = `carde ${topCard.color} deck`;
            discardPileDiv.innerHTML = topCard.value;
            discardPileDiv.style.animation = "none";
            void discardPileDiv.offsetWidth; // Trigger reflow
            discardPileDiv.style.animation = "addcard 0.5s ease-in";
        }

        isGameOver() {
            if (this.playerHand.length === 0) {
                showalert(`${youwonplayertext}`);
                return true;
            } else if (this.computerHand.length === 0) {
                showalert(`${youwoncomputertext}`);
                return true;
            }
            return false;
        }
    }

    function startCardGame() {
      let gamecontaiber1 = document.getElementById('gamecontainer1');
      gamecontaiber1.style.display = 'flex';
      gamecontaiber1.style.animation = "none";
      void gamecontaiber1.offsetWidth; // Trigger reflow
      gamecontaiber1.style.animation = "fadeInDown 1s ease-in";
      new CardGame();
    }
    function stopCardGame() {
      let gamecontaiber1 = document.getElementById('gamecontainer1');
      gamecontaiber1.style.animation = "none";
      void gamecontaiber1.offsetWidth; // Trigger reflow
      gamecontaiber1.style.animation = "fadeOut 1s ease-in";
      setTimeout(() => {
        gamecontaiber1.style.display = 'none';
      }, 1000);
    }
    let resetbtn = document.getElementById('resetbtn');
    resetbtn.addEventListener('click', () => {
        new CardGame();
    });
    /* not card game */
    /* tic tac toe game */
    const cells = document.querySelectorAll('.cell');
    const messagee = document.getElementById('messagee');
    const restartButton = document.getElementById('restart');
    let currentPlayer = 'X';
    let gameMode = 'single'; // 'single' for player vs computer, 'multi' for two players
    let board = Array(9).fill(null);
    let isGameOver = false;

    cells.forEach(cell => cell.addEventListener('click', handleCellClick));
    restartButton.addEventListener('click', startGame);

    function setMode(mode) {
        gameMode = mode;
        startGame();
    }

    function startGame() {
        board.fill(null);
        currentPlayer = 'X';
        isGameOver = false;
        messagee.textContent = '';
        cells.forEach(cell => {
            cell.textContent = '';
            cell.style.pointerEvents = 'auto';
        });
    }

    function handleCellClick(e) {
        const index = e.target.getAttribute('data-index');
        if (!isGameOver && !board[index]) {
            makeMove(index, currentPlayer);
            if (gameMode === 'single' && currentPlayer === 'O') {
                disableClicks();
                setTimeout(() => {
                    computerMove();
                    enableClicks();
                }, 500);
            }
        }
    }

    let winstext = 'wins';
    let drawtext = 'Draw';

    function makeMove(index, player) {
        board[index] = player;
        cells[index].textContent = player;
        cells[index].style.pointerEvents = 'none';
        if (checkWin(player)) {
            messagee.textContent = `${player} ${winstext}!`;
            isGameOver = true;
        } else if (board.every(cell => cell)) {
            messagee.textContent = `${drawtext}`;
            isGameOver = true;
        } else {
            currentPlayer = player === 'X' ? 'O' : 'X';
        }
    }

    function computerMove() {
        // Block two consecutive X's if possible
        for (let i = 0; i < board.length; i++) {
            if (board[i] === 'X') {
                const winPatterns = [
                    [0, 1, 2], [3, 4, 5], [6, 7, 8],
                    [0, 3, 6], [1, 4, 7], [2, 5, 8],
                    [0, 4, 8], [2, 4, 6]
                ];
                for (const pattern of winPatterns) {
                    if (pattern.includes(i)) {
                        const [a, b, c] = pattern;
                        if (board[a] === 'X' && board[b] === 'X' && !board[c]) {
                            return makeMove(c, 'O');
                        }
                        if (board[a] === 'X' && board[c] === 'X' && !board[b]) {
                            return makeMove(b, 'O');
                        }
                        if (board[b] === 'X' && board[c] === 'X' && !board[a]) {
                            return makeMove(a, 'O');
                        }
                    }
                }
            }
        }

        // Otherwise, make a random move
        let availableCells = [];
        board.forEach((cell, index) => {
            if (!cell) availableCells.push(index);
        });
        const randomIndex = availableCells[Math.floor(Math.random() * availableCells.length)];
        makeMove(randomIndex, 'O');
    }

    function checkWin(player) {
        const winPatterns = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8],
            [0, 3, 6], [1, 4, 7], [2, 5, 8],
            [0, 4, 8], [2, 4, 6]
        ];
        return winPatterns.some(pattern => {
            return pattern.every(index => board[index] === player);
        });
    }

    function disableClicks() {
        cells.forEach(cell => cell.style.pointerEvents = 'none');
    }

    function enableClicks() {
        cells.forEach(cell => {
            if (!board[cell.getAttribute('data-index')]) {
                cell.style.pointerEvents = 'auto';
            }
        });
    }

    function startTicTacToeGame() {
      let gamecontaiber3 = document.getElementById('gamecontainer3');
      gamecontaiber3.style.display = 'flex';
      gamecontaiber3.style.animation = "none";
      void gamecontaiber3.offsetWidth; // Trigger reflow
      gamecontaiber3.style.animation = "fadeInDown 1s ease-in";
      startGame();
    }
    function stopTicTacToeGame() {
      let gamecontaiber3 = document.getElementById('gamecontainer3');
      gamecontaiber3.style.animation = "none";
      void gamecontaiber3.offsetWidth; // Trigger reflow
      gamecontaiber3.style.animation = "fadeOut 1s ease-in";
      setTimeout(() => {
        gamecontaiber3.style.display = 'none';
      }, 1000);
    }
    /* not tic tac toe game */
    /* tile tumble game*/
    const canvas = document.getElementById('tiletumble');
    const context = canvas.getContext('2d');

    context.scale(20, 20);

    const arena = createMatrix(15, 30);
    const colors = [
        null,
        '#FF0D72',
        '#0DC2FF',
        '#0DFF72',
        '#F538FF',
        '#FF8E0D',
        '#FFE138',
        '#3877FF',
    ];

    const player = {
        pos: { x: 0, y: 0 },
        matrix: null,
        score: 0,
    };

    function createMatrix(w, h) {
        const matrix = [];
        while (h--) {
            matrix.push(new Array(w).fill(0));
        }
        return matrix;
    }

    function createPiece(type) {
        if (type === 'T') {
            return [
                [0, 0, 0],
                [1, 1, 1],
                [0, 1, 0],
            ];
        } else if (type === 'O') {
            return [
                [2, 2],
                [2, 2],
            ];
        } else if (type === 'L') {
            return [
                [0, 3, 0],
                [0, 3, 0],
                [0, 3, 3],
            ];
        } else if (type === 'J') {
            return [
                [0, 4, 0],
                [0, 4, 0],
                [4, 4, 0],
            ];
        } else if (type === 'I') {
            return [
                [0, 5, 0, 0],
                [0, 5, 0, 0],
                [0, 5, 0, 0],
                [0, 5, 0, 0],
            ];
        } else if (type === 'S') {
            return [
                [0, 6, 6],
                [6, 6, 0],
                [0, 0, 0],
            ];
        } else if (type === 'Z') {
            return [
                [7, 7, 0],
                [0, 7, 7],
                [0, 0, 0],
            ];
        }
    }

    function drawMatrix(matrix, offset) {
        matrix.forEach((row, y) => {
            row.forEach((value, x) => {
                if (value !== 0) {
                    context.fillStyle = colors[value];
                    context.fillRect(x + offset.x, y + offset.y, 1, 1);
                }
            });
        });
    }

    function draw() {
        context.fillStyle = '#000';
        context.fillRect(0, 0, canvas.width, canvas.height);

        drawMatrix(arena, { x: 0, y: 0 });
        drawMatrix(player.matrix, player.pos);
    }

    function merge(arena, player) {
        player.matrix.forEach((row, y) => {
            row.forEach((value, x) => {
                if (value !== 0) {
                    arena[y + player.pos.y][x + player.pos.x] = value;
                }
            });
        });
    }

    function rotate(matrix, dir) {
        for (let y = 0; y < matrix.length; ++y) {
            for (let x = 0; x < y; ++x) {
                [
                    matrix[x][y],
                    matrix[y][x],
                ] = [
                    matrix[y][x],
                    matrix[x][y],
                ];
            }
        }
        if (dir > 0) {
            matrix.forEach(row => row.reverse());
        } else {
            matrix.reverse();
        }
    }

    function playerRotate(dir) {
        const pos = player.pos.x;
        let offset = 1;
        rotate(player.matrix, dir);
        while (collide(arena, player)) {
            player.pos.x += offset;
            offset = -(offset + (offset > 0 ? 1 : -1));
            if (offset > player.matrix[0].length) {
                rotate(player.matrix, -dir);
                player.pos.x = pos;
                return;
            }
        }
    }

    function playerDrop() {
        player.pos.y++;
        if (collide(arena, player)) {
            player.pos.y--;
            merge(arena, player);
            playerReset();
            arenaSweep();
            updateScore();
        }
        dropCounter = 0;
    }

    function playerMove(dir) {
        player.pos.x += dir;
        if (collide(arena, player)) {
            player.pos.x -= dir;
        }
    }

    function collide(arena, player) {
        const [m, o] = [player.matrix, player.pos];
        for (let y = 0; y < m.length; ++y) {
            for (let x = 0; x < m[y].length; ++x) {
                if (m[y][x] !== 0 &&
                    (arena[y + o.y] &&
                    arena[y + o.y][x + o.x]) !== 0) {
                    return true;
                }
            }
        }
        return false;
    }

    highscore = 0;

    function arenaSweep() {
        outer: for (let y = arena.length - 1; y > 0; --y) {
            for (let x = 0; x < arena[y].length; ++x) {
                if (arena[y][x] === 0) {
                    continue outer;
                }
            }
            const row = arena.splice(y, 1)[0].fill(0);
            arena.unshift(row);
            ++y;
            player.score += 10;
        }
    }

    function playerReset() {
        const pieces = 'TJLOSZI';
        player.matrix = createPiece(pieces[pieces.length * Math.random() | 0]);
        player.pos.y = 0;
        player.pos.x = (arena[0].length / 2 | 0) -
                       (player.matrix[0].length / 2 | 0);
        if (collide(arena, player)) {
            arena.forEach(row => row.fill(0));
            player.score = 0;
            updateScore();
        }
    }

    function updateScore() {
        document.getElementById('score').innerText = player.score;
    }

    let dropCounter = 0;
    let dropInterval = 500;

    let lastTime = 0;
    function update(time = 0) {
        const deltaTime = time - lastTime;
        lastTime = time;

        dropCounter += deltaTime;
        if (dropCounter > dropInterval) {
            playerDrop();
        }

        draw();
        requestAnimationFrame(update);
    }

    /*document.addEventListener('keydown', event => {
        if (event.keyCode === 37) {
            playerMove(-1);
        } else if (event.keyCode === 39) {
            playerMove(1);
        } else if (event.keyCode === 40) {
            playerDrop();
        } else if (event.keyCode === 81) {
            playerRotate(-1);
        } else if (event.keyCode === 87) {
            playerRotate(1);
        }
    });*/
    function resettiletumblegamec(){
      const pieces = 'TJLOSZI';
      player.matrix = createPiece(pieces[pieces.length * Math.random() | 0]);
      player.pos.y = 0;
      player.pos.x = (arena[0].length / 2 | 0) - (player.matrix[0].length / 2 | 0);
      arena.forEach(row => row.fill(0));
      player.score = 0;
      updateScore();
    }
    let resetbtntwo = document.getElementById('resetbtntwo');
    resetbtntwo.addEventListener('click', () => {
        resettiletumblegamec();
    });
    /*document.addEventListener('keydown', event => {
        if (event.keyCode === 37) {
            playerMove(-1);
        } else if (event.keyCode === 39) {
            playerMove(1);
        } else if (event.keyCode === 40) {
            playerDrop();
        } else if (event.keyCode === 81) {
            playerRotate(-1);
        } else if (event.keyCode === 87) {
            playerRotate(1);
        }
    });*/
    document.getElementById('left').addEventListener('click', () => playerMove(-1));
    document.getElementById('right').addEventListener('click', () => playerMove(1));
    document.getElementById('down').addEventListener('click', () => playerDrop());
    document.getElementById('rotate').addEventListener('click', () => playerRotate(1));

    function startTileTumbleGame() {
      let gamecontaiber4 = document.getElementById('gamecontainer4');
      gamecontaiber4.style.display = 'flex';
      gamecontaiber4.style.animation = "none";
      void gamecontaiber4.offsetWidth; // Trigger reflow
      gamecontaiber4.style.animation = "fadeInDown 1s ease-in";
      resettiletumblegamec();
      update();
    }
    /*playerReset();
    updateScore();
    update();*/
    function stopTileTumbleGame() {
      let gamecontaiber4 = document.getElementById('gamecontainer4');
      gamecontaiber4.style.animation = "none";
      void gamecontaiber4.offsetWidth; // Trigger reflow
      gamecontaiber4.style.animation = "fadeOut 1s ease-out";
      setTimeout(() => {
        gamecontaiber4.style.display = 'none';
      }, 1000);
    }
    /* not tile tumble game */
    let t1 = "do";
    let t2 = "do";
    let t3 = "do";
    let t4 = "do";
    let t5 = "do";
    let t6 = "do";
    let aotink = "0";
    let asktg = "no";
    let leicht1 = "";
    let leicht2 = "";
    let theoldanswer = "";
    let theoldanswer2 = "";
    let thequestion2 = "nothing";
    let theanswer2 = "nothing";
    let theoldmathanswer = "";
    let themathanswer = "";
    let themathquestion = "";
    let chalange = "nothing";
    let thequestion = "nothing";
    let theanswer = "nothing";
    let operator = "";
    let num1 = "";
    let num2 = "";
    let idnum = "0";
    let light = "Light theme";
    let dark = "Dark theme";
    let dark2 = "Dark";
    let light2 = "Light";
    let up_cross = document.querySelector('.up-cross');
    let up_container = document.querySelector('.up-container');
    let bell = document.querySelector('.bell');
    let bell_ball = document.querySelector('.redball');
    let hilfe_knopf = document.querySelector('.hilfe-knopf');
    let hilfe = document.querySelector('.hilfe');
    let hilfe_cross = document.querySelector('.hilfe-cross');
    let hilfeop1 = document.getElementById('hilfe-option1');
    let hilfeop2 = document.getElementById('hilfe-option2');
    let hilfeop3 = document.getElementById('hilfe-option3');
    let hilfeop4 = document.getElementById('hilfe-option4');
    let inputvaluefc = document.getElementById('user-input');
    let helptext = document.getElementById('helptext');
    let defaultchalange = "nothing";
    let isguessing = "no";
    let inscructionlink = document.getElementById('inscructionlink');
    let i_container = document.querySelector('.i-container');
    let i_cross = document.querySelector('.i-cross');
    let sidebar = document.querySelector('.sidebar');

    /*edit the .side::before*/
    let side_before = document.querySelector('.side-body2');
    let user_profile = document.getElementById('user-profile');
    let chat_container = document.querySelector('.chat-container');
    let sideclick = 1;
    let tasks = [];
    let tasks2 = [];
    let EquizV = [];
    let GquizV = [];
    let EquizIndex = [];
    let GquizIndex = [];
    let isaskingitc = "no";
    let currentAnswer = '';
    let afteropening = "no";
    let circle1 = document.getElementById('circle1');
    let unactive_mic = document.querySelector('.unactive-mic');
    let timer_num1 = document.querySelector(".timer-num1");
    let timer_num2 = document.querySelector(".timer-num2");
    let timer_num3 = document.querySelector(".timer-num3");

    let totalmessages = 0;
    let oldtotalmessages = 0;

    let clickit = "no";

    let bimageInput = document.getElementById('bimage');

    let bodyb = document.querySelector('body');
    function saveUserProfile(backgroundimg) {
        localStorage.setItem('backgroundImage', backgroundimg);
        bodyb.style.backgroundImage = `url(${backgroundimg})`;
    }
    bimageInput.addEventListener("change", function () {
        const file = this.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function () {
                const backgroundimg = reader.result;
                saveUserProfile(backgroundimg);
            }
            reader.readAsDataURL(file);
        }
    });
    function countdown(hours, minutes, seconds, mchallenge, number) {
        clickit = "no";
        let timer = hours * 3600 + minutes * 60 + seconds;
        if (mchallenge == "messages"){
          oldtotalmessages = totalmessages;
        }
        let timerInterval = setInterval(function () {
            let hours = Math.floor(timer / 3600);
            let minutes = Math.floor((timer % 3600) / 60);
            let seconds = timer % 60;

            timer_num1.innerHTML = (hours < 10 ? "0" : "") + hours;
            timer_num2.innerHTML = (minutes < 10 ? "0" : "") + minutes;
            timer_num3.innerHTML = (seconds < 10 ? "0" : "") + seconds;

            timer--;
            if (timer < 0) {
                clearInterval(timerInterval);
                timer_num1.innerHTML = "00";
                timer_num2.innerHTML = "00";
                timer_num3.innerHTML = "00";
                updateNumber(mchallenge, number);
            }
        }, 1000);
    }
    function pausecountdownreset() {
      clickit = "no";
      chooseRandomChallangeNow();
    }
    function countdown2(hours, minutes, seconds) {
        clickit = "no";
        let timer = hours * 3600 + minutes * 60 + seconds;
        let timerInterval = setInterval(function () {
            let hours = Math.floor(timer / 3600);
            let minutes = Math.floor((timer % 3600) / 60);
            let seconds = timer % 60;

            timer_num1.innerHTML = (hours < 10 ? "0" : "") + hours;
            timer_num2.innerHTML = (minutes < 10 ? "0" : "") + minutes;
            timer_num3.innerHTML = (seconds < 10 ? "0" : "") + seconds;

            timer--;
            if (timer < 0) {
                clearInterval(timerInterval);
                timer_num1.innerHTML = "00";
                timer_num2.innerHTML = "00";
                timer_num3.innerHTML = "00";
                pausecountdownreset();
            }
        }, 1000);
    }
    let chooseChallange = ["messages", "math", "quiz", "german", "clickrandom", "clickchagemood"];

    function chooseRandomChallangeNow() {
        clickit = "no";
        let randomI = Math.floor(Math.random() * chooseChallange.length);
        let randomChallange = chooseChallange[randomI];
        let randomnumber = Math.floor(Math.random() * 25) + 1;
        let randomtimeinminutes = Math.floor(Math.random() * 2) + 1;
        let randomtimeinseconds = Math.floor(Math.random() * 59) + 1;
        manegeChallenges(randomChallange, 0, randomtimeinminutes, randomtimeinseconds, randomnumber);
    }
    let youfailedChallenge = "you failed the challenge try a new challenge in 5 minutes";
    let youpassedChallenge = "great you passed the challenge";
    let textsend = "send";
    let textmessages = "messages";
    let textpracticemath = "practice math";
    let textplayquiz = "play the quiz";
    let textpracticegerman = "practice german";

    let textclickrandom = "click the \"random\" button";
    let textclickchagemood = "click the \"light/dark\" button";

    let therandombuttonwasclicked = "no";
    let thedarklightthemebuttonwasclicked = "no";

    function addSingleClickListener(element, targetValue) {
      // Entferne vorherige Event Listener (falls vorhanden)
      element.removeEventListener('click', handleClick3);

      // Definiere die Click-Handler-Funktion
      function handleClick3() {
        // Setze die Variable auf true
        if (targetValue == "random"){
          therandombuttonwasclicked = "yes";
        }else if (targetValue == "darklight"){
          thedarklightthemebuttonwasclicked = "yes";
        }
        element.removeEventListener('click', handleClick3);
      }

      // Füge den neuen Event Listener hinzu
      element.addEventListener('click', handleClick3);
    }

    function updateNumber(mchallenge, number) {
      clickit = "no";
      if (mchallenge == "messages"){
        let totalmessages2 = totalmessages - oldtotalmessages;
        totalmessages2 = totalmessages2 / 2;
        totalmessages2 = Math.round(totalmessages2);
        let alertbtn = document.getElementById('alertmessagebtn');
        if (totalmessages2 < number){
          showalert(youfailedChallenge);
        }else {
          showalert(youpassedChallenge);
        }
        countdown2(0, 5, 0);
      }else if (mchallenge == "math"){
        let alertbtn = document.getElementById('alertmessagebtn');
        if (chalange == "math"){
          showalert(youpassedChallenge);
        }else if (chalange == "mathe"){
          showalert(youpassedChallenge);
        }else {
          showalert(youfailedChallenge);
        }
        countdown2(0, 5, 0);
      }else if (mchallenge == "quiz"){
        let alertbtn = document.getElementById('alertmessagebtn');
        if (chalange == "Equiz"){
          showalert(youpassedChallenge);
        }else if (chalange == "Gquiz"){
          showalert(youpassedChallenge);
        }else {
          showalert(youfailedChallenge);
        }
        countdown2(0, 5, 0);
      }else if (mchallenge == "german"){
        let alertbtn = document.getElementById('alertmessagebtn');
        if (chalange == "german"){
          showalert(youpassedChallenge);
        }else if (chalange == "englisch"){
          showalert(youpassedChallenge);
        }else {
          showalert(youfailedChallenge);
        }
        countdown2(0, 5, 0);
      }else if (mchallenge == "clickrandom"){
        let alertbtn = document.getElementById('alertmessagebtn');
        if (therandombuttonwasclicked == "yes"){
          showalert(youpassedChallenge);
        }else {
          showalert(youfailedChallenge);
        }
        countdown2(0, 5, 0);
      }else if (mchallenge == "clickchagemood"){
        let alertbtn = document.getElementById('alertmessagebtn');
        if (thedarklightthemebuttonwasclicked == "yes"){
          showalert(youpassedChallenge);
        }else {
          showalert(youfailedChallenge);
        }
        countdown2(0, 5, 0);
      }
    }

    function manegeChallenges(mchallenge, hours, minutes, seconds, number) {
      if (mchallenge == "messages"){
        showalert(`${textsend} ${number} ${textmessages}`);
        let alertbtn = document.getElementById('alertmessagebtn');
        clickit = "yes";
        function countdowncomand() {
          countdown(hours, minutes, seconds, mchallenge, number);
        }
        /*alertbtn.removeEventListener('click', () => {
          if (clickit == "yes"){
            countdowncomand();
            clickit = "no";
          }
        });
        alertbtn.addEventListener('click', () => {
          if (clickit == "yes"){
            countdowncomand();
            clickit = "no";
          }
        });*/
        alertbtn.addEventListener('click', handleAlertBtnClick);

        function handleAlertBtnClick() {
          if (clickit == "yes") {
            countdowncomand();
            clickit = "no";
            alertbtn.removeEventListener('click', handleAlertBtnClick); // Entferne den Listener nach dem ersten Klick
          }
        }
      }else if (mchallenge == "math"){
        showalert(`${textpracticemath}`);
        let alertbtn = document.getElementById('alertmessagebtn');
        clickit = "yes";
        function countdowncomand() {
          countdown(hours, minutes, seconds, mchallenge, number);
        }
        alertbtn.addEventListener('click', handleAlertBtnClick);

        function handleAlertBtnClick() {
          if (clickit == "yes") {
            countdowncomand();
            clickit = "no";
            alertbtn.removeEventListener('click', handleAlertBtnClick); // Entferne den Listener nach dem ersten Klick
          }
        }
      }else if (mchallenge == "quiz"){
        showalert(`${textplayquiz}`);
        let alertbtn = document.getElementById('alertmessagebtn');
        clickit = "yes";
        function countdowncomand() {
          countdown(hours, minutes, seconds, mchallenge, number);
        }
        alertbtn.addEventListener('click', handleAlertBtnClick);

        function handleAlertBtnClick() {
          if (clickit == "yes") {
            countdowncomand();
            clickit = "no";
            alertbtn.removeEventListener('click', handleAlertBtnClick); // Entferne den Listener nach dem ersten Klick
          }
        }
      }else if (mchallenge == "german"){
        showalert(`${textpracticegerman}`);
        let alertbtn = document.getElementById('alertmessagebtn');
        clickit = "yes";
        function countdowncomand() {
          countdown(hours, minutes, seconds, mchallenge, number);
        }
        alertbtn.addEventListener('click', handleAlertBtnClick);

        function handleAlertBtnClick() {
          if (clickit == "yes") {
            countdowncomand();
            clickit = "no";
            alertbtn.removeEventListener('click', handleAlertBtnClick); // Entferne den Listener nach dem ersten Klick
          }
        }
      }else if (mchallenge == "clickrandom"){
        showalert(`${textclickrandom}`);
        let randombuttonelement = document.getElementById('circle3');
        document.querySelectorAll(".RandomQuestion").forEach(function(element) {
          addSingleClickListener(element, "random");
        });
        addSingleClickListener(randombuttonelement, "random");
        let alertbtn = document.getElementById('alertmessagebtn');
        clickit = "yes";
        function countdowncomand() {
          countdown(hours, minutes, seconds, mchallenge, number);
        }
        alertbtn.addEventListener('click', handleAlertBtnClick);

        function handleAlertBtnClick() {
          if (clickit == "yes") {
            countdowncomand();
            clickit = "no";
            alertbtn.removeEventListener('click', handleAlertBtnClick); // Entferne den Listener nach dem ersten Klick
          }
        }
      }else if (mchallenge == "clickchagemood"){
        showalert(`${textclickchagemood}`);
        let chagemoodelement = document.getElementById('circle4');
        addSingleClickListener(chagemoodelement, "darklight");
        let changethemeelement = document.getElementById('changetheme');
        addSingleClickListener(changethemeelement, "darklight");
        let bcftelement = document.querySelector('.bcft');
        addSingleClickListener(bcftelement, "darklight");
        let alertbtn = document.getElementById('alertmessagebtn');
        clickit = "yes";
        function countdowncomand() {
          countdown(hours, minutes, seconds, mchallenge, number);
        }
        alertbtn.addEventListener('click', handleAlertBtnClick);

        function handleAlertBtnClick() {
          if (clickit == "yes") {
            countdowncomand();
            clickit = "no";
            alertbtn.removeEventListener('click', handleAlertBtnClick); // Entferne den Listener nach dem ersten Klick
          }
        }
      }
    }

    setTimeout(function() {
      manegeChallenges("messages", 0, 0, 30, 2);
    }, 5500);

    circle1.addEventListener("click", () => {
      if (unactive_mic.style.display == "block"){
        unactive_mic.style.animation = "none";
        void unactive_mic.offsetWidth; // Trigger reflow
        unactive_mic.style.animation = "fadeOutForMic 0.5s ease-out";
        setTimeout(function(){
          unactive_mic.style.display = "none";
        }, 500);

      }else if(unactive_mic.style.display == "none"){
        unactive_mic.style.display = "block";
        unactive_mic.style.animation = "none";
        void unactive_mic.offsetWidth; // Trigger reflow
        unactive_mic.style.animation = "fadeInForMic 0.5s ease-out";

      }else {
        unactive_mic.style.animation = "none";
        void unactive_mic.offsetWidth; // Trigger reflow
        unactive_mic.style.animation = "fadeOutForMic 0.5s ease-out";
        setTimeout(function(){
          unactive_mic.style.display = "none";
        }, 500);
      }
    });
    let cardElement = document.getElementById('circle3');
    cardElement.addEventListener("click", () => {
      setinputvalue();
    });
    let sunmoon = document.getElementById('circle4');
    sunmoon.addEventListener("click", () => {
      change_mood();
    });
    let aflag = document.getElementById('circle5');
    aflag.addEventListener("click", () => {
      change_language();
    });
    function refreshPage() {
        location.reload();
    }
    let circle8 = document.getElementById('circle8');
    circle8.addEventListener("click", () => {
      refreshPage();
    });
    function disableDiv(thedivtodisable) {
      if (!thedivtodisable.classList.contains('disabled')) {
        thedivtodisable.classList.add('disabled');
      }
    }
    function enableDiv(thedivtoenable) {
      if (thedivtoenable.classList.contains('disabled')) {
        thedivtoenable.classList.remove('disabled');
      }
    }
    let circleformatcontainer = document.querySelector('.circleformatcontainer');
    let newbuttonalignment = document.getElementById('circle6');
    newbuttonalignment.addEventListener("click", () => {
      let container1variable = document.querySelector('.container1');
      let bigscreenbtns = document.querySelector('.bigscreenbtns');
      let smallscreenbtns = document.querySelector('.smallscreenbtns');
      if (window.matchMedia("(max-width: 750px)").matches){
        smallscreenbtns.style.animation = "none";
        void smallscreenbtns.offsetWidth; // Trigger reflow
        smallscreenbtns.style.animation = "fadeIn 1s ease-in";
        setTimeout(() => {
            smallscreenbtns.style.opacity = "1";
            enableDiv(smallscreenbtns);
        }, 1000);
        bigscreenbtns.style.display = "none";
        container1variable.style.animation = "none";
        void container1variable.offsetWidth; // Trigger reflow
        container1variable.style.animation = "fadeOut 1s ease-out";
        setTimeout(() => {
          container1variable.style.display = "none";
        }, 1000);

        circleformatcontainer.style.display = "block";
        circleformatcontainer.style.animation = "none";
        void circleformatcontainer.offsetWidth; // Trigger reflow
        circleformatcontainer.style.animation = "fadeIn 1s ease-in";
      }else if (window.matchMedia("(min-width: 750px)").matches){
        smallscreenbtns.style.opacity = "0";
        disableDiv(smallscreenbtns);
        bigscreenbtns.style.display = "block";
        bigscreenbtns.style.animation = "none";
        void bigscreenbtns.offsetWidth; // Trigger reflow
        bigscreenbtns.style.animation = "fadeIn 1s ease-in";
        container1variable.style.animation = "none";
        void container1variable.offsetWidth; // Trigger reflow
        container1variable.style.animation = "fadeOut 1s ease-out";
        setTimeout(() => {
            container1variable.style.display = "none";
        }, 1000);

        circleformatcontainer.style.display = "block";
        circleformatcontainer.style.animation = "none";
        void circleformatcontainer.offsetWidth; // Trigger reflow
        circleformatcontainer.style.animation = "fadeIn 1s ease-in";
      }
    });

    circleformatcontainer.addEventListener("click", () => {
      let container1variable = document.querySelector('.container1');
      let bigscreenbtns = document.querySelector('.bigscreenbtns');
      let smallscreenbtns = document.querySelector('.smallscreenbtns');
      if (window.matchMedia("(max-width: 750px)").matches){

        smallscreenbtns.style.animation = "none";
        void smallscreenbtns.offsetWidth; // Trigger reflow
        smallscreenbtns.style.animation = "fadeOut 1s ease-out";
        setTimeout(() => {
            smallscreenbtns.style.opacity = "0";
            disableDiv(smallscreenbtns);
        }, 1000);

        bigscreenbtns.style.animation = "none";
        void bigscreenbtns.offsetWidth; // Trigger reflow
        bigscreenbtns.style.animation = "fadeOut 1s ease-out";
        setTimeout(() => {
            bigscreenbtns.style.display = "none";
        }, 1000);

        circleformatcontainer.style.animation = "none";
        void circleformatcontainer.offsetWidth; // Trigger reflow
        circleformatcontainer.style.animation = "fadeOut 1s ease-out";
        setTimeout(() => {
          circleformatcontainer.style.display = "none";
        }, 1000);

        container1variable.style.display = "block";
        container1variable.style.animation = "none";
        void container1variable.offsetWidth; // Trigger reflow
        container1variable.style.animation = "fadeIn 1s ease-in";
      }else if (window.matchMedia("(min-width: 750px)").matches){
        smallscreenbtns.style.animation = "none";
        void smallscreenbtns.offsetWidth; // Trigger reflow
        smallscreenbtns.style.animation = "fadeOut 1s ease-out";
        setTimeout(() => {
            smallscreenbtns.style.opacity = "0";
            disableDiv(smallscreenbtns);
        }, 1000);

        bigscreenbtns.style.animation = "none";
        void bigscreenbtns.offsetWidth; // Trigger reflow
        bigscreenbtns.style.animation = "fadeOut 1s ease-out";
        setTimeout(() => {
            bigscreenbtns.style.display = "none";
        }, 1000);

        circleformatcontainer.style.animation = "none";
        void circleformatcontainer.offsetWidth; // Trigger reflow
        circleformatcontainer.style.animation = "fadeOut 1s ease-out";
        setTimeout(() => {
          circleformatcontainer.style.display = "none";
        }, 1000);

        container1variable.style.display = "block";
        container1variable.style.animation = "none";
        void container1variable.offsetWidth; // Trigger reflow
        container1variable.style.animation = "fadeIn 1s ease-out";
      }
    });
    function showalert(AlertText){
        let alertbtn = document.getElementById('alertmessagebtn');
        let alertmessage = document.getElementById('alertmessage');
        let alertelement = document.getElementById('alertElement');

        if (!alertbtn || !alertmessage || !alertelement) {
            console.error('Alert elements not found');
            return;
        }

        alertmessage.textContent = AlertText;
        alertmessage.style.display = "block";
        alertbtn.style.display = "block";
        alertbtn.style.animation = "none";
        void alertbtn.offsetWidth; // Trigger reflow
        alertbtn.style.animation = "fadeIn 1s ease-in";
        alertmessage.style.animation = "none";
        void alertmessage.offsetWidth; // Trigger reflow
        alertmessage.style.animation = "fadeIn 1s ease-in";

        const hideAlert = () => {
            alertbtn.style.animation = "none";
            void alertbtn.offsetWidth; // Trigger reflow
            alertbtn.style.animation = "fadeOut 1s ease-out";
            alertmessage.style.animation = "none";
            void alertmessage.offsetWidth; // Trigger reflow
            alertmessage.style.animation = "fadeOut 1s ease-out";

            setTimeout(() => {
                alertmessage.style.display = "none";
                alertbtn.style.display = "none";
            }, 1000);
        };

        alertbtn.removeEventListener("click", hideAlert); // Ensure no duplicate listeners
        alertbtn.addEventListener("click", hideAlert);
    }
    function hideandshowsidebar() {
      if (sideclick == 1){
        let maincontainer = document.querySelector('.container');
        maincontainer.style.marginLeft = "-400px";
        chat_container.style.width = "100%";
        side_before.style.background = "transparent";
        bell.style.left = "-200px";
        bell.style.top = "10px";
        sideclick = 2;
        circleformatcontainer.style.left = "-300px";
      }else if (sideclick == 2){
        /* do that while the media is at min-width: 750px*/
        let maincontainer = document.querySelector('.container');
        maincontainer.style.marginLeft = "0";
        chat_container.style.width = "1000px";
        side_before.style.background = "var(--primary-color)";
        bell.style.left = "190px";
        bell.style.top = "10px";
        sideclick = 1;
        circleformatcontainer.style.left = "20px";
      }
    }
    sidebar.addEventListener("click", () => {
      hideandshowsidebar();
    });
    function handleResize() {
        let container1variable = document.querySelector('.container1');
        let bigscreenbtns = document.querySelector('.bigscreenbtns');
        let smallscreenbtns = document.querySelector('.smallscreenbtns');
        if (window.matchMedia("(max-width: 750px)").matches && sideclick == 2) {
            user_profile.style.marginLeft = "0";
            chat_container.style.width = "600px";
            side_before.style.background = "var(--primary-color)";
            bell.style.top = "53px";
            bell.style.right = "30px";
            bell.style.left = "auto";
            sideclick = 1;
            circleformatcontainer.style.left = "100px";
            circleformatcontainer.style.display = "block";
            smallscreenbtns.style.opacity = "1";
            if (smallscreenbtns.style.display == "none"){
              smallscreenbtns.style.display == "block";
            }else {
              container1variable.style.display = "none";
            }
            bigscreenbtns.style.display = "none";
            let maincontainer = document.querySelector('.container');
            maincontainer.style.marginLeft = "0";
            enableDiv(smallscreenbtns);
        }else if (window.matchMedia("(max-width: 750px)").matches && sideclick == 1) {
            user_profile.style.marginLeft = "0";
            chat_container.style.width = "600px";
            side_before.style.background = "var(--primary-color)";
            bell.style.top = "53px";
            bell.style.right = "30px";
            bell.style.left = "auto";
            sideclick = 1;
            circleformatcontainer.style.left = "100px";
            circleformatcontainer.style.display = "block";
            smallscreenbtns.style.opacity = "1";
            if (smallscreenbtns.style.display == "none"){
              smallscreenbtns.style.display == "block";
            }else {
              container1variable.style.display = "none";
            }
            bigscreenbtns.style.display = "none";
            let maincontainer = document.querySelector('.container');
            maincontainer.style.marginLeft = "0";
            enableDiv(smallscreenbtns);
        }else if (window.matchMedia("(min-width: 750px)").matches && sideclick == 1){
            user_profile.style.marginLeft = "0";
            chat_container.style.width = "1000px";
            side_before.style.background = "var(--primary-color)";
            bell.style.left = "190px";
            bell.style.top = "10px";
            sideclick = 1;
            /*user_profile.style.marginLeft = "-400px";
            chat_container.style.width = "100%";
            side_before.style.background = "transparent";
            bell.style.left = "-200px";
            bell.style.top = "10px";
            sideclick = 2;*/
            circleformatcontainer.style.left = "20px";
            circleformatcontainer.style.display = "none";
            smallscreenbtns.style.opacity = "1";
            if (smallscreenbtns.style.display == "block"){
              smallscreenbtns.style.display == "none";
            }
            bigscreenbtns.style.display = "none";
            container1variable.style.display = "block";
            if (sideclick == 1){
              hideandshowsidebar();
            }
        }else if (window.matchMedia("(min-width: 750px)").matches && sideclick == 2){
            user_profile.style.marginLeft = "0";
            chat_container.style.width = "1000px";
            side_before.style.background = "var(--primary-color)";
            bell.style.left = "190px";
            bell.style.top = "10px";
            sideclick = 1;
            /*user_profile.style.marginLeft = "-400px";
            chat_container.style.width = "100%";
            side_before.style.background = "transparent";
            bell.style.left = "-200px";
            bell.style.top = "10px";
            sideclick = 2;*/
            circleformatcontainer.style.left = "20px";
            circleformatcontainer.style.display = "none";
            smallscreenbtns.style.opacity = "1";
            if (smallscreenbtns.style.display == "block"){
              smallscreenbtns.style.display == "none";
            }
            bigscreenbtns.style.display = "none";
            container1variable.style.display = "block";
            if (sideclick == 1){
              hideandshowsidebar();
            }
        }
    }
    // Füge den Event-Listener für das resize-Event hinzu
    window.addEventListener("resize", handleResize);
    function checkvalueoc() {
      defaultchalange = chalange;
      helptext.textContent = "whats your problem?";
      helptext.textContent = "whats your problem?";
      hilfe.style.animation = "none";
      void hilfe.offsetWidth;
      hilfe.style.animation = "fadeOut 0.2s ease-out";
      setTimeout(function () {
        hilfe.style.display = "none";
      }, 200);
      if (chalange == "nothing" && isguessing == "no") {
        hilfeop1.style.display = "flex";
        hilfeop2.style.display = "flex";
        hilfeop3.style.display = "flex";
        hilfeop4.style.display = "flex";
        hilfeop1.textContent = "i want to play the emoji game!";
        hilfeop2.textContent = "i want to practice german!";
        hilfeop3.textContent = "i want to play the quiz!";
        hilfeop4.textContent = "i want to practice math!";
        if (afteropening == "yes"){
          showalert("you are back in the normal conversation now!");
        }
      } if (chalange == "nothing" && isguessing == "nein") {
        hilfeop1.style.display = "flex";
        hilfeop2.style.display = "flex";
        hilfeop3.style.display = "flex";
        hilfeop4.style.display = "flex";
        hilfeop1.textContent = "i want to play the emoji game!";
        hilfeop2.textContent = "i want to practice german!";
        hilfeop3.textContent = "i want to play the quiz!";
        hilfeop4.textContent = "i want to practice math!";
        if (afteropening == "yes"){
          showalert("you are back in the normal conversation now!");
        }
      } else if (chalange == "german") {
        hilfeop1.style.display = "flex";
        hilfeop2.style.display = "flex";
        hilfeop1.textContent = "i dont know the answer!";
        hilfeop2.textContent = "i want to go back to the normal conversation!";
        hilfeop3.style.display = "none";
        hilfeop4.style.display = "none";
        if (afteropening == "yes"){
          showalert("you're practicing german now!");
        }
      } else if (chalange == "englisch") {
        hilfeop1.style.display = "flex";
        hilfeop2.style.display = "flex";
        hilfeop3.style.display = "none";
        hilfeop4.style.display = "none";
        hilfeop1.textContent = "ich möchte zurück in die normale konversation!";
        hilfeop2.textContent = "ich weiss die antwort nicht!";
        if (afteropening == "yes"){
          showalert("du übst nun englisch!");
        }
      } else if (chalange == "math") {
        hilfeop1.style.display = "flex";
        hilfeop2.style.display = "flex";
        hilfeop3.style.display = "flex";
        hilfeop4.style.display = "flex";
        hilfeop1.textContent = "i dont know the answer!";
        hilfeop2.textContent = "its to hard!";
        hilfeop3.textContent = "i want to go back to the normal conversation!";
        hilfeop4.textContent = "its to easy!";
        if (afteropening == "yes"){
          showalert("you're practicing math now!");
        }
      } else if (chalange == "mathe") {
        hilfeop1.style.display = "flex";
        hilfeop2.style.display = "flex";
        hilfeop3.style.display = "flex";
        hilfeop4.style.display = "flex";
        hilfeop1.textContent = "ich weiss die antwort nicht!";
        hilfeop2.textContent = "es ist zu schwer!";
        hilfeop3.textContent = "ich möchte zurück in die normale conversation!";
        hilfeop4.textContent = "es ist zu leicht!";
        if (afteropening == "yes"){
          showalert("du übst nun mathe!");
        }
      } else if (chalange == "nothing" && isguessing == "yes") {
        hilfeop1.style.display = "flex";
        hilfeop2.style.display = "flex";
        hilfeop1.textContent = "i dont know the answer!";
        hilfeop2.textContent = "i want to go back to the normal conversation!";
        hilfeop3.style.display = "none";
        hilfeop4.style.display = "none";
        if (afteropening == "yes"){
          showalert("you are playing the emoji game now!");
        }
      } else if (chalange == "nothing" && isguessing == "ja") {
        hilfeop1.style.display = "flex";
        hilfeop2.style.display = "flex";
        hilfeop3.style.display = "none";
        hilfeop4.style.display = "none";
        hilfeop1.textContent = "ich möchte zurück in die normale konversation!";
        hilfeop2.textContent = "ich weiss die antwort nicht!";
        if (afteropening == "yes"){
          showalert("du spielst jetzt das emoji spiel!");
        }
      }else if (chalange == "Equiz") {
        hilfeop1.style.display = "flex";
        hilfeop2.style.display = "flex";
        hilfeop1.textContent = "i dont know the answer!";
        hilfeop2.textContent = "i want to go back to the normal conversation!";
        hilfeop3.style.display = "none";
        hilfeop4.style.display = "none";
        if (afteropening == "yes"){
          showalert("you're playing the quiz now!");
        }
      } else if (chalange == "Gquiz") {
        hilfeop1.style.display = "flex";
        hilfeop2.style.display = "flex";
        hilfeop3.style.display = "none";
        hilfeop4.style.display = "none";
        hilfeop1.textContent = "ich möchte zurück in die normale konversation!";
        hilfeop2.textContent = "ich weiss die antwort nicht!";
        if (afteropening == "yes"){
          showalert("du spielst nun das quiz!");
        }
      }
    }

    hilfeop1.addEventListener("click", () => {
      if (hilfeop1.textContent == "i want to play the emoji game!") {
        inputvaluefc.value = "i want to play the emoji game";
        helptext.textContent = "just send what i entered in the input field";
      } else if (hilfeop1.textContent == "i dont know the answer!") {
        inputvaluefc.value = "idk";
        helptext.textContent = "just send what i entered in the input field";
      } else if (hilfeop1.textContent == "ich weiss die antwort nicht!") {
        inputvaluefc.value = "idk";
        helptext.textContent = "sende einfach den text den ich in das eingabefeld gemacht habe";
      } else if (hilfeop1.textContent == "ich möchte zurück in die normale conversation!") {
        inputvaluefc.value = "ich möchte zurück in den normalen chat";
        helptext.textContent = "sende einfach den text den ich in das eingabefeld gemacht habe";
      } else if (hilfeop1.textContent == "ich möchte zurück in die normale konversation!") {
        inputvaluefc.value = "ich möchte zurück in den normalen chat";
        helptext.textContent = "sende einfach den text den ich in das eingabefeld gemacht habe";
      } else {
        helptext.textContent = "im sorry but i can not help you with that";
      }
    });
    hilfeop2.addEventListener("click", () => {
      if (hilfeop2.textContent == "i want to practice german!") {
        inputvaluefc.value = "i want to practice german";
        helptext.textContent = "just send what i entered in the input field";
      } else if (hilfeop2.textContent == "i want to go back to the normal conversation!") {
        inputvaluefc.value = "i want to go back to the normal chat";
        helptext.textContent = "just send what i entered in the input field";
      } else if (hilfeop2.textContent == "ich weiss die antwort nicht!") {
        inputvaluefc.value = "idk";
        helptext.textContent = "sende einfach den text den ich in das eingabefeld gemacht habe";
      } else if (hilfeop2.textContent == "es ist zu schwer!") {
        leicht1 = "leicht";
        helptext.textContent = "du bist jetzt auf einfachen modus";
      } else if (hilfeop2.textContent == "its to hard!") {
        leicht2 = "easy";
        helptext.textContent = "its easy now!";
      } else {
        helptext.textContent = "im sorry but i can not help you with that";
      }
    });
    hilfeop3.addEventListener("click", () => {
      if (hilfeop3.textContent == "i want to play the quiz!") {
        inputvaluefc.value = "i want to play the quiz!";
        helptext.textContent = "just send what i entered in the input field";
      } else if (hilfeop3.textContent == "i want to go back to the normal conversation!") {
        inputvaluefc.value = "i want to go back to the normal chat";
        helptext.textContent = "just send what i entered in the input field";
      } else if (hilfeop3.textContent == "ich möchte zurück in die normale conversation!") {
        inputvaluefc.value = "ich möchte zurück in den normalen chat";
        helptext.textContent = "sende einfach den text den ich in das eingabefeld gemacht habe";
      } else {
        helptext.textContent = "im sorry but i can not help you with that";
      }
    });
    hilfeop4.addEventListener("click", () => {
      if (hilfeop4.textContent == "i want to practice math!") {
        inputvaluefc.value = "i want to practice math";
        helptext.textContent = "just send what i entered in the input field";
      } else if (hilfeop4.textContent == "its to easy!") {
        leicht2 = "";
        helptext.textContent = "now its not in easy mode!";
      } else if (hilfeop4.textContent == "es ist zu leicht!") {
        leicht1 = "";
        helptext.textContent = "ich habe den einfachen modus deaktiviert!";
      } else {
        helptext.textContent = "im sorry but i can not help you with that";
      }
    });
    function clean() {
      aotink = "0";
      asktg = "no";
      leicht1 = "";
      leicht2 = "";
      operator = "";
      num1 = "";
      num2 = "";
      theoldanswer = "";
      theoldanswer2 = "";
      thequestion2 = "nothing";
      theanswer2 = "nothing";
      theoldmathanswer = "";
      themathanswer = "";
      themathquestion = "";
      thequestion = "nothing";
      theanswer = "nothing";
      tasks = [];
      tasks2 = [];
      EquizV = [];
      GquizV = [];
      EquizIndex = [];
      GquizIndex = [];
      isaskingitc = "no";
      currentAnswer = '';
      afteropening = "yes";
      checkvalueoc();
    }
    up_cross.addEventListener("click", () => {
      up_container.style.animation = "none";
      void up_container.offsetWidth;
      up_container.style.animation = "fadeOut 0.2s ease-out";
      setTimeout(function () {
        up_container.style.display = "none";
      }, 200);
    });
    i_cross.addEventListener("click", () => {
      i_container.style.animation = "none";
      void i_container.offsetWidth;
      i_container.style.animation = "fadeOut 0.2s ease-out";
      setTimeout(function () {
        i_container.style.display = "none";
      }, 200);
    });
    inscructionlink.addEventListener("click", () => {
      i_container.style.display = "flex";
      i_container.style.animation = "none";
      void i_container.offsetWidth;
      i_container.style.animation = "fadeIn 0.2s ease-out";
    });
    hilfe_cross.addEventListener("click", () => {
      helptext.textContent = "whats your problem?";
      hilfe.style.animation = "none";
      void hilfe.offsetWidth;
      hilfe.style.animation = "fadeOut 0.2s ease-out";
      setTimeout(function () {
        hilfe.style.display = "none";
      }, 200);
    });
    bell.addEventListener("click", () => {
      up_container.style.display = "flex";
      up_container.style.animation = "none";
      void up_container.offsetWidth;
      up_container.style.animation = "fadeIn 0.2s ease-out";
      bell_ball.style.animation = "none";
      void bell_ball.offsetWidth;
      bell_ball.style.animation = "fadeOut 0.2s ease-out";
      setTimeout(function () {
        bell_ball.style.display = "none";
      }, 200);
    });
    hilfe_knopf.addEventListener("click", () => {
      hilfe.style.display = "block";
      hilfe.style.animation = "none";
      void hilfe.offsetWidth;
      hilfe.style.animation = "fadeIn 0.2s ease-out";
    });
    // Function to handle message element click
    const allEmojis1 = ["😀", "😁", "😂", "🤣", "😃", "😄", "😅", "😆", "😉", "😊", "😋", "😎", "😍", "😘", "😗", "😙", "😚", "☺️", "🙂", "🤗", "🤩", "🤔", "🤨", "😐", "😑", "😶", "🙄", "😏", "😣", "😥", "😮", "🤐", "😯", "😪", "😫", "😴", "😌", "😛", "😜", "😝", "🤤", "😒", "😓", "😔", "😕", "🙃", "🤑", "😲", "☹️", "🙁", "😖", "😞", "😟", "😤", "😢", "😭", "😦", "😧", "😨", "😩", "🤯", "😬", "😰", "😱", "🥵", "🥶", "😳", "🤪", "😵", "😡", "😠", "🤬", "😷", "🤒", "🤕", "🤢", "🤮", "🤧", "😇", "🥳", "🥺", "🤠", "🤡", "🤥", "🤫", "🤭", "🧐", "🤓", "😈", "👿", "👹", "👺", "💀", "☠️", "👻", "👽", "👾", "🤖", "😺", "😸", "😹", "😻", "😼", "😽", "🙀", "😿", "😾"];
    const allEmojis2 = ["😀", "😁", "😃", "😄", "😆"];
    const allEmojis3 = ["😈", "👿"];
    const allEmojis4 = ["💀", "☠️", "👻"];
    const allEmojis5 = ["😺", "😸", "😹", "😻", "😼", "😽", "🙀", "😿", "😾"];
    const allEmojis6 = ["😨", "😰", "😱"];
    const allEmojis7 = ["🤑", "🤢", "🤮"];
    const allEmojis8 = ["😊", "😗", "😙", "😚", "☺️", "🙂", "🤗", "😳"];
    const allEmojis9 = ["😌", "😔", "😉"];
    const allEmojis10 = ["❤️", "💔", "❤️‍🔥", "❤️‍🩹", "❣️", "🩷", "♥️"];
    const allEmojis11 = ["🕔", "🕚", "🕠", "🕦", "🕕", "🕛", "🕡", "🕧", "🕐", "🕖", "🕜", "🕣", "🕢", "🕑", "🕗", "🕝", "🕒", "🕘", "🕞", "🕤", "🕓", "🕙", "🕟", "🕥"];
    const allEmojis12 = ["🔐", "🔒", "🔓", "🔏"];
    const allEmojis13 = ["😍", "😘", "🥰", "☺️", "😚"];
    const allEmojis14 = ["😗", "😙", "😚"];
    const allEmojis15 = ["😋", "😛", "😜"];
    const allEmojis16 = ["📪", "📫", "📬", "📭"];
    const allEmojis17 = ["📥", "📤"];
    const allEmojis18 = ["🛏️", "🛌"];
    const allEmojis = [allEmojis2, allEmojis3, allEmojis4, allEmojis5, allEmojis6, allEmojis7, allEmojis8, allEmojis9, allEmojis10, allEmojis11, allEmojis12, allEmojis13, allEmojis14, allEmojis15, allEmojis16, allEmojis17, allEmojis18];

    let differentEmoji;
    let differentEmojiPosition;
    let theG;
    let otherEmojis;
    function getRandomEmoji() {
      checkvalueoc();
      let emojiG = allEmojis[Math.floor(Math.random() * allEmojis.length)];
      theG = emojiG;
      otherEmojis = emojiG[Math.floor(Math.random() * emojiG.length)];
      return otherEmojis;
    }
    function getRandomEmoji2() {
      return theG[Math.floor(Math.random() * theG.length)];
    }

    function generateEmojis() {
      const baseEmoji = getRandomEmoji();
      let returnobjekt = [];
      do {
        differentEmoji = getRandomEmoji2();
      } while (differentEmoji === baseEmoji);

      differentEmojiPosition = Math.floor(Math.random() * 40);
      for (let i = 0; i < 40; i++) {
        returnobjekt.push(i === differentEmojiPosition ? differentEmoji : baseEmoji);
      }
      return returnobjekt;
    }
    function checkGuess(input) {
      let returnthis = "";
      if (parseInt(input) - 1 === differentEmojiPosition) {
        returnthis = 'right';
      } else {
        returnthis = 'wrong';
      }
      return returnthis;
    }
    let ivif = document.getElementById('user-input');
    let button1 = document.getElementById('button1');
    let teach = document.getElementById('button2');
    let skip = document.getElementById('button3');
    ivif.addEventListener('keydown', () => {
      // Check if the Enter key is pressed
      if (event.key === 'Enter') {
        // click the send btn
        if (button1.style.display == "block") {
          button1.click();
        } else if (button1.style.display == "none") {
          teach.click();
        } else {
          skip.click();
        }
      }
    })
    function handleEditMessage(event) {
      const clickedElement = event.target;
      const backgroundColor = window.getComputedStyle(clickedElement).getPropertyValue('background-color').toLowerCase();
      if (clickedElement.classList.contains('sent')) {
        if (clickedElement.style.border == '2px solid var(--primary-color)') {
          clickedElement.style.border = 'none';
        } else {
          clickedElement.style.border = '2px solid var(--primary-color)';
        }
        const messageContent = clickedElement.textContent;
        const messageID = clickedElement.dataset.id;
        const löschbtn = document.getElementById('Löschbtn');
        const editbtn = document.getElementById('Editbtn');
        const Breakbtn = document.getElementById('Breakbtn');
        löschbtn.style.display = 'block';
        löschbtn.addEventListener('click', () => {
          if (clickedElement.style.border == '2px solid var(--primary-color)') {
            clickedElement.remove();
            löschbtn.style.display = 'none';
            editbtn.style.display = 'none';
            Breakbtn.style.display = 'none';
            clickedElement.style.border = 'none';
          }
        });
        editbtn.style.display = 'block';
        editbtn.addEventListener('click', () => {
          if (clickedElement.style.border == '2px solid var(--primary-color)') {
            const inputElement = document.createElement('input');
            inputElement.type = 'text';
            inputElement.value = messageContent;

            // Replace the text content with an input field for editing
            clickedElement.textContent = '';
            clickedElement.appendChild(inputElement);
            let theId = clickedElement.id;

            inputElement.focus();

            // Add event listener to save the edited message on input blur
            inputElement.addEventListener('blur', function () {
              saveEditedMessage(clickedElement, inputElement);
            });
            löschbtn.style.display = 'none';
            editbtn.style.display = 'none';
            Breakbtn.style.display = 'none';

            //for each clickedElement border = 'none' 
            for (const element of document.querySelectorAll('.sent')) {
              element.style.border = 'none';
              if (parseInt(element.id) > parseInt(theId)) {
                //remove element dataset id
                element.remove();
              }
            }
            /* check class */
            for (const element2 of document.querySelectorAll('.received')) {
              element2.style.border = 'none';
              if (parseInt(element2.id) > parseInt(theId)) {
                //remove element dataset id
                element2.remove();
              }
            }
          }
        });
        Breakbtn.style.display = 'block';
        Breakbtn.addEventListener('click', () => {
          löschbtn.style.display = 'none';
          editbtn.style.display = 'none';
          Breakbtn.style.display = 'none';
          clickedElement.style.border = 'none';
        });
        if (clickedElement.style.border == '2px solid var(--primary-color)') {
          clickedElement.style.border = '2px solid var(--primary-color)';
          löschbtn.style.display = 'block';
          editbtn.style.display = 'block';
          Breakbtn.style.display = 'block';
        } else {
          clickedElement.style.border = 'none';
        }
      } else {
        if (clickedElement.style.border == '2px solid var(--primary-color)') {
          clickedElement.style.border = 'none';
        } else {
          clickedElement.style.border = '2px solid var(--primary-color)';
        }
        const messageContent = clickedElement.textContent;
        const messageID = clickedElement.dataset.id;
        const löschbtn = document.getElementById('Löschbtn');
        const editbtn = document.getElementById('Editbtn');
        const Breakbtn = document.getElementById('Breakbtn');
        löschbtn.style.display = 'block';
        löschbtn.addEventListener('click', () => {
          if (clickedElement.style.border == '2px solid var(--primary-color)') {
            clickedElement.remove();
            löschbtn.style.display = 'none';
            editbtn.style.display = 'none';
            Breakbtn.style.display = 'none';
            clickedElement.style.border = 'none';
          }
        });
        editbtn.style.display = 'none';
        Breakbtn.style.display = 'block';
        Breakbtn.addEventListener('click', () => {
          löschbtn.style.display = 'none';
          editbtn.style.display = 'none';
          Breakbtn.style.display = 'none';
          clickedElement.style.border = 'none';
        });
        if (clickedElement.style.border == '2px solid var(--primary-color)') {
          clickedElement.style.border = '2px solid var(--primary-color)';
          löschbtn.style.display = 'block';
          editbtn.style.display = 'none';
          Breakbtn.style.display = 'block';
        } else {
          clickedElement.style.border = 'none';
        }
      }
    }

    function saveEditedMessage(messageElement, inputElement) {
      const editedMessage = inputElement.value;

      messageElement.textContent = editedMessage;
      if (editedMessage !== '') {
        // Simulierte Antwort vom Bot
        getBotResponse(editedMessage)
          .then(response => {

            setTimeout(addMessage, 500, response, 'received')
            document.getElementById('bot-response').textContent = response;
            // Hier wird der Wert des <h1>-Elements aktualisiert
            // Scrollen zum Ende der Chat-Nachrichten
            var chatMessages = document.getElementById('chat-messages');
            chatMessages.scrollTop = chatMessages.scrollHeight;
          })
          .catch(error => console.error('Bot response error:', error));
      }
    }
    let tc1fe = 'if you click the speak button you can make the bot read the chat or not';
    let tc2fe = 'you can change the theme with this button';
    let tc3fe = 'click this button if you do not know how to start a conversation';
    let tc4fe = 'if you click the speak button you can make the bot read the chat or not';
    let tc5fe = 'you can change the theme with this button';
    let tc6fe = 'click this button if you do not know how to start a conversation';
    let tc7fe = 'your profile picture is here, if you uploaded one!';
    let tc8fe = 'your user-name is here, if you have one!';
    let tc9fe = 'by clicking this button the language changes to german';
    let idkanswer = 'sorry but i have no idea what to answer 😅';
    document.addEventListener('click', function (event) {
      const clickedElement = event.target;
      const instructionbox = document.getElementById('info-box');
      const ccontainer = document.querySelector('chat-container');

      if (clickedElement.classList.contains('message')) {
        console.log('Nachricht angeklickt!');
        handleEditMessage(event);
        // Hier können Sie weitere Aktionen ausführen, die beim Klicken einer Nachricht durchgeführt werden sollen
      }
      // check if the style of the page is on max-width 750px or on min-width 750px
      if (clickedElement.classList.contains('speakon') && t1 == "do" && !window.matchMedia('(max-width: 750px)').matches) {
        t1 = "dont";
        instructionbox.style.display = 'block';
        instructionbox.style.opactiy = '0';
        instructionbox.style.marginTop = '280px';
        instructionbox.style.marginLeft = '3%';
        instructionbox.textContent = tc1fe;
        instructionbox.style.animation = "none";
        void instructionbox.offsetWidth;
        instructionbox.style.animation = "fadeIn 0.2s ease-in";
        setTimeout(function () {
          instructionbox.style.animation = "none";
          void instructionbox.offsetWidth;
          instructionbox.style.animation = "fadeOut 0.2s ease-out";
          setTimeout(function () {
            instructionbox.style.display = "none";
          }, 200);
        }, 5000);
      }
      if (clickedElement.classList.contains('changetheme') && t2 == "do") {
        t2 = "dont";
        instructionbox.style.display = 'block';
        instructionbox.style.marginTop = '380px';
        instructionbox.style.marginLeft = '3%';
        instructionbox.textContent = tc2fe;
        instructionbox.style.animation = "none";
        void instructionbox.offsetWidth;
        instructionbox.style.animation = "fadeIn 0.2s ease-out";
        setTimeout(function () {
          instructionbox.style.animation = "none";
          void instructionbox.offsetWidth;
          instructionbox.style.animation = "fadeOut 0.2s ease-out";
          setTimeout(function () {
            instructionbox.style.display = "none";
          }, 200);
        }, 5000);
      }
      if (clickedElement.classList.contains('RandomQuestion') && t3 == "do" && !window.matchMedia('(max-width: 750px)').matches) {
        t3 = "dont";
        instructionbox.style.display = 'block';
        instructionbox.style.marginTop = '430px';
        instructionbox.style.marginLeft = '3%';
        instructionbox.textContent = tc3fe;
        instructionbox.style.animation = "none";
        void instructionbox.offsetWidth;
        instructionbox.style.animation = "fadeIn 0.2s ease-out";
        setTimeout(function () {
          instructionbox.style.animation = "none";
          void instructionbox.offsetWidth;
          instructionbox.style.animation = "fadeOut 0.2s ease-out";
          setTimeout(function () {
            instructionbox.style.display = "none";
          }, 200);
        }, 5000);
      }
      if (clickedElement.classList.contains('ChangeLanguage') && t6 == "do" && !window.matchMedia('(max-width: 750px)').matches) {
        t6 = "dont";
        instructionbox.style.display = 'block';
        instructionbox.style.marginTop = '530px';
        instructionbox.style.marginLeft = '3%';
        instructionbox.textContent = tc9fe;
        instructionbox.style.animation = "none";
        void instructionbox.offsetWidth;
        instructionbox.style.animation = "fadeIn 0.2s ease-out";
        setTimeout(function () {
          instructionbox.style.animation = "none";
          void instructionbox.offsetWidth;
          instructionbox.style.animation = "fadeOut 0.2s ease-out";
          setTimeout(function () {
            instructionbox.style.display = "none";
          }, 200);
        }, 5000);
      }
      if (clickedElement.classList.contains('info-box')) {
        instructionbox.style.display = "block";
        instructionbox.style.animation = "none";
        void instructionbox.offsetWidth;
        instructionbox.style.animation = "fadeOut 0.2s ease-out";
        setTimeout(function () {
          instructionbox.style.display = "none";
        }, 200);
      }
      if (clickedElement.classList.contains('speakon') && t1 == "do" && !window.matchMedia('(min-width: 750px)').matches) {
        t1 = "dont";
        instructionbox.style.display = 'block';
        instructionbox.style.marginTop = '30px';
        instructionbox.style.marginLeft = '17%';
        instructionbox.textContent = tc4fe;
        instructionbox.style.animation = "none";
        void instructionbox.offsetWidth;
        instructionbox.style.animation = "fadeIn 0.2s ease-out";
        setTimeout(function () {
          instructionbox.style.animation = "none";
          void instructionbox.offsetWidth;
          instructionbox.style.animation = "fadeOut 0.2s ease-out";
          setTimeout(function () {
            instructionbox.style.display = "none";
          }, 200);
        }, 5000);
      }
      if (clickedElement.classList.contains('bcft') && t2 == "do") {
        t2 = "dont";
        instructionbox.style.display = 'block';
        instructionbox.style.marginTop = '40px';
        instructionbox.style.marginLeft = '40%';
        instructionbox.textContent = tc5fe;
        instructionbox.style.animation = "none";
        void instructionbox.offsetWidth;
        instructionbox.style.animation = "fadeIn 0.2s ease-out";
        setTimeout(function () {
          instructionbox.style.animation = "none";
          void instructionbox.offsetWidth;
          instructionbox.style.animation = "fadeOut 0.2s ease-out";
          setTimeout(function () {
            instructionbox.style.display = "none";
          }, 200);
        }, 5000);
      }
      if (clickedElement.classList.contains('RandomQuestion') && t3 == "do" && !window.matchMedia('(min-width: 750px)').matches) {
        t3 = "dont";
        instructionbox.style.display = 'block';
        instructionbox.style.marginTop = '32px';
        instructionbox.style.marginLeft = '65%';
        instructionbox.textContent = tc6fe;
        instructionbox.style.animation = "none";
        void instructionbox.offsetWidth;
        instructionbox.style.animation = "fadeIn 0.2s ease-out";
        setTimeout(function () {
          instructionbox.style.animation = "none";
          void instructionbox.offsetWidth;
          instructionbox.style.animation = "fadeOut 0.2s ease-out";
          setTimeout(function () {
            instructionbox.style.display = "none";
          }, 200);
        }, 5000);
      }
      if (clickedElement.classList.contains('user-avatar') && t4 == "do" && !window.matchMedia('(max-width: 750px)').matches) {
        t4 = "dont";
        instructionbox.style.display = 'block';
        instructionbox.style.marginTop = '2px';
        instructionbox.style.marginLeft = '3%';
        instructionbox.textContent = tc7fe;
        instructionbox.style.animation = "none";
        void instructionbox.offsetWidth;
        instructionbox.style.animation = "fadeIn 0.2s ease-out";
        setTimeout(function () {
          instructionbox.style.animation = "none";
          void instructionbox.offsetWidth;
          instructionbox.style.animation = "fadeOut 0.2s ease-out";
          setTimeout(function () {
            instructionbox.style.display = "none";
          }, 200);
        }, 5000);
      }
      if (clickedElement.classList.contains('username-display') && t5 == "do" && !window.matchMedia('(max-width: 750px)').matches) {
        t5 = "dont";
        instructionbox.style.display = 'block';
        instructionbox.style.marginTop = '20px';
        instructionbox.style.marginLeft = '3%';
        instructionbox.textContent = tc8fe;
        instructionbox.style.animation = "none";
        void instructionbox.offsetWidth;
        instructionbox.style.animation = "fadeIn 0.2s ease-out";
        setTimeout(function () {
          instructionbox.style.animation = "none";
          void instructionbox.offsetWidth;
          instructionbox.style.animation = "fadeOut 0.2s ease-out";
          setTimeout(function () {
            instructionbox.style.display = "none";
          }, 200);
        }, 5000);
      }
      if (clickedElement.classList.contains('username-display') && t5 == "do" && !window.matchMedia('(min-width: 750px)').matches) {
        t5 = "dont";
        instructionbox.style.display = 'block';
        instructionbox.style.marginTop = '4px';
        instructionbox.style.marginLeft = '1%';
        instructionbox.textContent = tc8fe;
        instructionbox.style.animation = "none";
        void instructionbox.offsetWidth;
        instructionbox.style.animation = "fadeIn 0.2s ease-out";
        setTimeout(function () {
          instructionbox.style.animation = "none";
          void instructionbox.offsetWidth;
          instructionbox.style.animation = "fadeOut 0.2s ease-out";
          setTimeout(function () {
            instructionbox.style.display = "none";
          }, 200);
        }, 5000);
      }
    });
    const messageElements = document.querySelectorAll('.message');
    messageElements.forEach(messageElement => {
      messageElement.addEventListener('click', handleEditMessage);
    });
    // real v
    function sendMassaga() {
      /*document.getElementById('button1').style.backgroundColor = "var(--232323-color)";
      document.getElementById('button2').style.backgroundColor = "var(--232323-color)";*/
      document.getElementById("remember").textContent = document.getElementById("user-input").value;
      document.getElementById("nmy").style.display = "none";
      let button1 = document.querySelector(".plane");
      button1.style.animation = "none";
      void button1.offsetWidth;
      button1.style.animation = "sendAnimation 1s ease-out";
      //say();


      setTimeout(sendMessage, 100);
    }

    function sendMessage() {
      var userInput = document.getElementById('user-input');
      var userMessage = userInput.value.trim();
      if (userMessage !== '') {
        addMessage(userMessage, 'sent');

        // Simulierte Antwort vom Bot
        getBotResponse(userMessage)
          .then(response => {

            setTimeout(addMessage, 500, response, 'received')
            document.getElementById('bot-response').textContent = response;
            // Hier wird der Wert des <h1>-Elements aktualisiert
            // Scrollen zum Ende der Chat-Nachrichten
            var chatMessages = document.getElementById('chat-messages');
            chatMessages.scrollTop = chatMessages.scrollHeight;
          })
          .catch(error => console.error('Bot response error:', error));

        userInput.value = '';



      }
    }


    /*function getBotResponse(userMessage) {
        return fetch('/process_input', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ user_input: userMessage })
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(response => {
            if (response.message.indexOf("I dont know the answer. Please enter my answer to that question") !== -1) {
              learnnewthing();
            }
            else if (response.message.indexOf("Sorry but i dont know your Name") !== -1) {
              let name = document.getElementById("username-display");
              return name.textContent;
            }
            else if (response.message.indexOf("Yes (Username)") !== -1) {
              let name = document.getElementById("username-display");
              let text = "yes " + name.textContent;
              return text;
            }
            else if (response.message.indexOf("hello (Username)") !== -1) {
              let name = document.getElementById("username-display");
              let text = "hello " + name.textContent;
              return text;
            }
            else if (response.message.indexOf("(Username)") !== -1) {
              let name = document.getElementById("username-display");
              let text = name.textContent;
              return text;
            }
            else if (response.message.indexOf("hallo (Username)") !== -1) {
              let name = document.getElementById("username-display");
              let text = "hallo " + name.textContent;
              return text;
            }
            return response.message;

        })
        .catch(error => {
            console.error('Error fetching bot response:', error);
            return 'Sorry, I encountered an error. Please try again.';
        });
    }*/
    async function loadKnowledgeBase(filePath) {
      const response = await fetch(filePath);
      const data = await response.json();
      return data;
    }

    // Funktion zum Speichern der Wissensbasis in einer JSON-Datei (nicht im reinen Browser-JavaScript möglich)

    // Funktion zur besten Übereinstimmung
    function findBestMatch(userQuestion, questions) {
      // Simulierte Funktion für Übereinstimmungsvergleich
      let bestMatch = null;
      let bestScore = 0.7; // Beispielschwellenwert
      questions.forEach(question => {
        let score = similarity(userQuestion, question); // similarity() muss implementiert werden
        if (score > bestScore) {
          bestMatch = question;
        }
      });
      return bestMatch;
    }
    function findBestMatch2(userQuestion, questions) {
      // Simulierte Funktion für Übereinstimmungsvergleich
      let bestMatch = null;
      let bestScore = 0.7; // Beispielschwellenwert
      questions.forEach(question => {
        // similarity() muss implementiert werden
        // take "!?.," out of the user question
        let filterdUserQ = userQuestion.replace(/[.,!?]/g, "");

        if (question.includes(filterdUserQ)) {
          bestMatch = question;
        }
      });
      return bestMatch;
    }

    // Funktion zur Berechnung der Ähnlichkeit (eine einfache Implementierung)
    function similarity(str1, str2) {
      const words1 = str1.split(' ');
      const words2 = str2.split(' ');
      const commonWords = words1.filter(word => words2.includes(word));
      return commonWords.length / Math.max(words1.length, words2.length);
    }
    function similarity2(str1, str2) {
      const words1 = str1.split(' ');
      const words2 = str2.split(' ');
      const commonWords = words1.filter(word => words2.includes(word));
      return commonWords.length / Math.max(words1.length, words2.length);
    }
    // Funktion zum Abrufen der Antwort für eine Frage
    function getAnswerForQuestion(question, knowledgeBase) {
      for (let q of knowledgeBase.questions) {
        if (q.question === question) {
          if (q.answer && q.answer2 && !q.answer3){
            answers = [q.answer, q.answer2];
            return answers[Math.floor(Math.random() * answers.length)];
          }else if (q.answer && q.answer2 && q.answer3){
            answers = [q.answer, q.answer2, q.answer3];
            return answers[Math.floor(Math.random() * answers.length)];
          }else if (q.answer && !q.answer2 && !q.answer3){
            return q.answer;
          }
        }
      }
      return null;
    }
    let Mnamen = ["Mia", "Laura", "Lara", "Lina", "Lisa", "Jana", "Lena", "Selena", "Sophia", "Emma", "Maja", "Lea", "Tina", "Helena", "Anna", "Sarah", "Maria", "Anna", "Sophie", "Emily", "Maya", "Melina", "Alice", "Olivia", "Isabella", "Ava", "Charlotte", "Cristina", "Laura", "Anne", "Julia", "Klara", "Bella", "Theresia", "Andrea", "Sofia", "Elena", "Nina", "Nicole", "Amelie", "Leane", "Elia", "Nya", "Naya", "Nora", "Sabrina", "Sabine", "Angelika", "Vanda", "Melinda", "Viktoria", "Liv", "Livia", "Liviana", "Matilda", "Victoria", "Fransiska"];

    // Männliche Namen
    let Jnamen = ["Elias", "Jonas", "Jakob", "Johannes", "Johann", "Karl", "Kevin", "Linus", "Max", "Maximus", "Maximilian", "Moritz", "Moritz", "Moritz", "Moritz", "Paulo", "Paul", "Fritz", "Anton", "Franz", "Andre", "Andreas", "Peter", "Louis", "Leo", "Lukas", "Holger", "Jonathan", "Willi", "William", "Wilhelm", "Willy", "Viktor", "Victor", "Marcus", "Markus", "Marko", "Mark", "Michael", "Martin", "Kai", "Aleksander", "Alexander", "Alex", "Werner", "Otto", "Uwe", "Ulrich", "Uli", "Bernd", "Bernhard", "Igor", "Ivan", "Ivo", "Sven", "Stefan", "Hans", "Henrik", "Henry", "Herbert", "Herman", "Heinrich"];

    // Array mit beiden Namenstypen
    let Anamen = [Mnamen, Jnamen];
    let MMnamen = ["Mia", "laura", "Lara", "Lina", "Lisa", "Jenna", "Lena", "Selena", "Sophia", "Emma", "Skylor", "Lea", "Tina", "Dora", "Anna", "Sarah", "Maria", "Sophie", "Emily", "Melina", "Alice", "Olivia", "Isabella", "Ava", "Isabell", "Cristina", "Laura", "Julia", "Bella", "Theresa", "Andrea", "Sofia", "Elena", "Nina", "Nicole", "Elia", "Nya", "Naya", "Nora", "Sabrina", "Angelika", "Vanda", "Viktoria", "Liv", "Livia", "Liviana", "Matilda", "Victoria", "Carmen", "Fransiska"];

    // Männliche Namen
    let JJnamen = ["Elias", "Cole", "Kevin", "Zane", "Max", "Maximus", "Maximilian", "Paulo", "Paul", "Andre", "Peter", "Louis", "Leo", "Lukas", "Jonathan", "Willi", "William", "Willy", "Viktor", "Victor", "Marcus", "Markus", "Marko", "Mark", "Michael", "Martin", "Kai", "Aleksander", "Alexander", "Alex", "Igor", "Ivan", "Sven", "Henrik", "Henry", "Robert", "Jimmy", "Cris"];

    // Array mit beiden Namenstypen
    let AAnamen = [MMnamen, JJnamen];
    // Funktion zur Verarbeitung der Benutzereingabe
    function containsNumbers(strtc) {
      // Regulärer Ausdruck, um zu überprüfen, ob der String Zahlen enthält
      const regex = /\d/;
      return regex.test(strtc);
    }
    async function loadTasks() {
      try {
        const task1 = await fetch('tasks.json');
        if (!task1.ok) {
          throw new Error('Network response was not ok');
        }
        tasks = await task1.json();
      } catch (error) {
        console.error('Error loading tasks:', error);
        return 'Error loading tasks';
      }
    }
    async function loadTasks2() {
      try {
        const task1 = await fetch('tasks2.json');
        if (!task1.ok) {
          throw new Error('Network response was not ok');
        }
        tasks2 = await task1.json();
      } catch (error) {
        console.error('Error loading tasks:', error);
        return 'Error loading tasks';
      }
    }
    async function EQquiz() {
      try {
        const Equiz = await fetch('Equiz.json');
        if (!Equiz.ok) {
          throw new Error('Network response was not ok');
        }
        EquizV = await Equiz.json();
      } catch (error) {
        console.error('Error loading tasks:', error);
        return 'Error loading tasks';
      }
    }
    async function GQquiz() {
      try {
        const Gquiz = await fetch('Gquiz.json');
        if (!Gquiz.ok) {
          throw new Error('Network response was not ok');
        }
        GquizV = await Gquiz.json();
      } catch (error) {
        console.error('Error loading tasks:', error);
        return 'Error loading tasks';
      }
    }

    function loadRandomTask() {
      if (tasks.length === 0) {
        return 'No tasks available';
      }
      const randomTask = tasks[Math.floor(Math.random() * tasks.length)];
      thequestion = randomTask.Frage;
      return thequestion;
      theanswer = randomTask.Antwort;
    }

    function checkAnswer(userMessage) {
      if (userMessage === theanswer) {
        return 'Richtig! Eine neue Aufgabe wird geladen.';
        loadRandomTask();
        document.getElementById('answer').value = '';
      } else {
        return 'Falsch! Versuchen Sie es erneut.';
      }
    }
    function kuerzeBenutzernamen(langerBenutzername) {
      var gekuerzterName;
      if (langerBenutzername.length > 8) {
        gekuerzterName = langerBenutzername.substring(0, 8) + "…";
      } else {
        gekuerzterName = langerBenutzername;
      }
      localStorage.setItem("username", gekuerzterName);
      document.getElementById("username-display").textContent = gekuerzterName;
    }
    let persons = {}
    let importantpeopleE = {"steve jobs": "steve jobs was the founder of apple", "bill gates": "bill gates was the founder of microsoft","mark zuckerberg": "mark zuckerberg was the founder of facebook", "elon musk": "elon musk was the founder of tesla", "jeff bezos": "jeff bezos was the founder of amazon"}
    let importantpeopleD = {"steve jobs": "steve jobs war der gründer von apple", "bill gates": "bill gates war der gründer von microsoft", "mark zuckerberg": "mark zuckerberg war der gründer von facebook", "elon musk": "elon musk war der gründer von tesla", "jeff bezos": "jeff bezos war der gründer von amazon"}
    async function getBotResponse(userMessage) {
      try {
        if (chalange == "nothing") {
          const userQuestion = userMessage.toLowerCase();
          const knowledgeBase = await loadKnowledgeBase('knowledge_base.json');
          const questions = knowledgeBase.questions.map(q => q.question);
          const bestMatch = findBestMatch(userQuestion, questions);

          let response;
          if (userQuestion.includes('√')) {
            let zahlen = userQuestion.match(/\b\d+\b/g);
            if (zahlen.length !== 1) {
              return 'hm?';
            } else {
              let number = parseInt(zahlen[0]);
              let ergebnis = Math.sqrt(number);
              return `√${number} = ${ergebnis}.`;
            }
          }else if (userQuestion.includes("play") && userQuestion.includes("tile") && userQuestion.includes("tumble")) {
              startTileTumbleGame();
              let gamecontainercross4 = document.getElementById('gamecontainercross4');
              function gamecontainercross4click() {
                  gamecontainercross4.removeEventListener('click', gamecontainercross4click);
                  stopTileTumbleGame();
              }
              gamecontainercross4.addEventListener('click', gamecontainercross4click);
              return "did you have fun playing Tile Tumble?";
          }else if (userQuestion.includes("play") && userQuestion.includes("tic") && userQuestion.includes("tac") && userQuestion.includes("toe")) {
              startTicTacToeGame();
              let gamecontainercross3 = document.getElementById('gamecontainercross3');
              function gamecontainercross3click() {
                  gamecontainercross3.removeEventListener('click', gamecontainercross3click);
                  stopTicTacToeGame();
              }
              gamecontainercross3.addEventListener('click', gamecontainercross3click);
              return "did you have fun playing Tic Tac Toe?";
          }else if (userQuestion.includes("play") && userQuestion.includes("memory")) {
              startMemoryGame();
              let gamecontainercross2 = document.getElementById('gamecontainercross2');
              function gamecontainercross2click() {
                  gamecontainercross2.removeEventListener('click', gamecontainercross2click);
                  stopMemoryGame();
              }
              gamecontainercross2.addEventListener('click', gamecontainercross2click);
              return "did you have fun playing Memory?";
          }else if (userQuestion.includes("play") && userQuestion.includes("card")) {
              startCardGame();
              let gamecontainercross1 = document.getElementById('gamecontainercross1');
              function gamecontainercross1click() {
                  gamecontainercross1.removeEventListener('click', gamecontainercross1click);
                  stopCardGame();
              }
              gamecontainercross1.addEventListener('click', gamecontainercross1click);
              return "did you have fun playing Cards?";
          }else if (userQuestion.includes("spiel") && userQuestion.includes("tile") && userQuestion.includes("tumble")) {
              startTileTumbleGame();
              let gamecontainercross4 = document.getElementById('gamecontainercross4');
              function gamecontainercross4click() {
                  gamecontainercross4.removeEventListener('click', gamecontainercross4click);
                  stopTileTumbleGame();
              }
              gamecontainercross4.addEventListener('click', gamecontainercross4click);
              return "Mochtest du Tile Tumble spielen?";
          }else if (userQuestion.includes("spiel") && userQuestion.includes("tic") && userQuestion.includes("tac") && userQuestion.includes("toe")) {
              startTicTacToeGame();
              let gamecontainercross3 = document.getElementById('gamecontainercross3');
              function gamecontainercross3click() {
                  gamecontainercross3.removeEventListener('click', gamecontainercross3click);
                  stopTicTacToeGame();
              }
              gamecontainercross3.addEventListener('click', gamecontainercross3click);
              return "Mochtest du Tic Tac Toe spielen?";
          }else if (userQuestion.includes("spiel") && userQuestion.includes("memory")) {
              startMemoryGame();
              let gamecontainercross2 = document.getElementById('gamecontainercross2');
              function gamecontainercross2click() {
                  gamecontainercross2.removeEventListener('click', gamecontainercross2click);
                  stopMemoryGame();
              }
              gamecontainercross2.addEventListener('click', gamecontainercross2click);
              return "Mochtest du Memory spielen?";
          }else if (userQuestion.includes("spiel") && userQuestion.includes("karten")) {
              startCardGame();
              let gamecontainercross1 = document.getElementById('gamecontainercross1');
              function gamecontainercross1click() {
                  gamecontainercross1.removeEventListener('click', gamecontainercross1click);
                  stopCardGame();
              }
              gamecontainercross1.addEventListener('click', gamecontainercross1click);
              return "Mochtest du karten spielen?";
          }else if (userQuestion.includes("mein") && userQuestion.includes("heisst") && !userQuestion.includes("?") && !userQuestion.includes("wie")){
            let personpart1 = userQuestion.split("mein")[1].trim();
            let person = personpart1.split("heisst")[0].trim();
            let name = userQuestion.split("heisst")[1].trim();
            if (person && name){
              // add name and person to list
              persons[name] = person;
            }
            return "ok, dein " + person + " heisst " + name;
          } else if (userQuestion.includes("mein") && userQuestion.includes("heißt") && !userQuestion.includes("?") && !userQuestion.includes("wie")){
            let personpart1 = userQuestion.split("mein")[1].trim();
            let person = personpart1.split("heißt")[0].trim();
            let name = userQuestion.split("heißt")[1].trim();
            if (person && name){
              // add name and person to list
              persons[name] = person;
            }
            return "ok, dein " + person + " heißt " + name;
          } else if (userQuestion.includes("wer ist ")){
            let name = userQuestion.split("ist")[1].trim();
            name = name.split("?")[0].trim();
            if (persons[name]){
              return name + " ist dein " + persons[name];
            } else if (importantpeopleD[name]) {
              return importantpeopleD[name];
            } else {
              return "weiss ich nicht";
            }
          }else if (userQuestion.includes("my") && userQuestion.includes("is called")) {
            let personpart1 = userQuestion.split("my")[1].trim();
            let person = personpart1.split("is called")[0].trim();
            let name = userQuestion.split("is called ")[1].trim();
            if (person && name) {
              // add name and person to list
              persons[name] = person;
            }
            return "ok, your " + person + " is called " + name;
          } else if (userQuestion.includes("my ") && userQuestion.includes(" name is ")) {
            let personpart1 = userQuestion.split("my")[1].trim();
            let person = personpart1.split(" name is ")[0].trim();
            let name = userQuestion.split(" name is ")[1].trim();
            if (person && name) {
              // add name and person to list
              persons[name] = person;
            }
            return "ok, your " + person + " name is " + name;
          } else if (userQuestion.includes("who is ")) {
            let name = userQuestion.split("who is ")[1].trim();
            name = name.split("?")[0].trim();
            if (persons[name]) {
              // check last letter
              if (persons[name].includes("'s")) {
                return name + " is your " + persons[name];
              } else if (persons[name][persons[name].length - 1] == "s") {
                return name + " is your " + persons[name] + " name";
              } else {
                return name + " is your " + persons[name] + "'s name";
              }
            } else if (importantpeopleE[name]) {
              return importantpeopleE[name];
            } else {
              return "i dont know";
            }
          } else if (userQuestion.includes("von deutsch zu hyraphisch") && userQuestion.includes("übersetze")) {
              let userQuestion5 = userQuestion.split("von deutsch zu hyraphisch")[0];
              userQuestion5 = userQuestion5.split("übersetze")[1];

              let ersetzung_dict = {
                  'A': '=', 'a': '=', 'B': '&', 'b': '&', 'C': '%', 'c': '%', 'D': '_', 'd': '_', 'E': '€', 'e': '€',
                  'F': '|', 'f': '|', 'G': '(', 'g': '(', 'H': ')', 'h': ')', 'I': '!', 'i': '!', 'J': "'", 'j': "'",
                  'K': '^', 'k': '^', 'L': '#', 'l': '#', 'M': '„', 'm': '„', 'N': '•', 'n': '•', 'O': '0', 'o': '0',
                  'P': '~', 'p': '~', 'Q': '@', 'q': '@', 'R': '<', 'r': '<', 'S': '>', 's': '>', 'T': '+', 't': '+',
                  'U': '3', 'u': '3', 'V': '7', 'v': '7', 'W': '5', 'w': '5', 'X': '*', 'x': '*', 'Y': '¥', 'y': '¥',
                  'Z': '/', 'z': '/', 'Ä': '1', 'ä': '1', 'Ö': ';', 'ö': ';', 'Ü': '$', 'ü': '$', ' ': ' '
              };

              let ersetzer = new Map(Object.entries(ersetzung_dict));
              let neuer_text = userQuestion5.split('').map(char => ersetzer.get(char) || char).join('');
              neuer_text = neuer_text.toLowerCase();

              return `Der übersetzte Text: ${neuer_text}`;
          } else if (userQuestion.includes("von hyraphisch zu deutsch") && userQuestion.includes("übersetze")) {
              let userQuestion5 = userQuestion.split("von hyraphisch zu deutsch")[0];
              userQuestion5 = userQuestion5.split("übersetze")[1];
              let ersetzung_dict = {
                  '=': 'A', '&': 'B', '%': 'C', '_': 'D', '€': 'E', '|': 'F', '(': 'G', ')': 'H',
                  '!': 'I', "'": 'J', '^': 'K', '#': 'L', '„': 'M', '•': 'N', '0': 'O', '~': 'P',
                  '@': 'Q', '<': 'R', '>': 'S', '+': 'T', '3': 'U', '7': 'V', '5': 'W', '*': 'X',
                  '¥': 'Y', '/': 'Z', '1': 'Ä', ';': 'Ö', '$': 'Ü', ' ': ' '
              };

              let ersetzer = new Map(Object.entries(ersetzung_dict));
              let neuer_text = userQuestion5.split('').map(char => ersetzer.get(char) || char).join('');
              // meke the trxt lowercase
              neuer_text = neuer_text.toLowerCase();
              return `Der übersetzte Text: ${neuer_text}`;
          } else if (userQuestion.includes("von de zu hy") && userQuestion.includes("übersetze")) {
              let userQuestion5 = userQuestion.split("von deutsch zu hy")[0];
              userQuestion5 = userQuestion5.split("übersetze")[1];
              let ersetzung_dict = {
                  'A': '=', 'a': '=', 'B': '&', 'b': '&', 'C': '%', 'c': '%', 'D': '_', 'd': '_', 'E': '€', 'e': '€',
                  'F': '|', 'f': '|', 'G': '(', 'g': '(', 'H': ')', 'h': ')', 'I': '!', 'i': '!', 'J': "'", 'j': "'",
                  'K': '^', 'k': '^', 'L': '#', 'l': '#', 'M': '„', 'm': '„', 'N': '•', 'n': '•', 'O': '0', 'o': '0',
                  'P': '~', 'p': '~', 'Q': '@', 'q': '@', 'R': '<', 'r': '<', 'S': '>', 's': '>', 'T': '+', 't': '+',
                  'U': '3', 'u': '3', 'V': '7', 'v': '7', 'W': '5', 'w': '5', 'X': '*', 'x': '*', 'Y': '¥', 'y': '¥',
                  'Z': '/', 'z': '/', 'Ä': '1', 'ä': '1', 'Ö': ';', 'ö': ';', 'Ü': '$', 'ü': '$', ' ': ' '
              };

              let ersetzer = new Map(Object.entries(ersetzung_dict));
              let neuer_text = userQuestion5.split('').map(char => ersetzer.get(char) || char).join('');
              neuer_text = neuer_text.toLowerCase();

              return `Der übersetzte Text: ${neuer_text}`;
          } else if (userQuestion.includes("von hy zu de") && userQuestion.includes("übersetze")) {
              let userQuestion5 = userQuestion.split("von hy zu de")[0];
              userQuestion5 = userQuestion5.split("übersetze")[1];
              let ersetzung_dict = {
                  '=': 'A', '&': 'B', '%': 'C', '_': 'D', '€': 'E', '|': 'F', '(': 'G', ')': 'H',
                  '!': 'I', "'": 'J', '^': 'K', '#': 'L', '„': 'M', '•': 'N', '0': 'O', '~': 'P',
                  '@': 'Q', '<': 'R', '>': 'S', '+': 'T', '3': 'U', '7': 'V', '5': 'W', '*': 'X',
                  '¥': 'Y', '/': 'Z', '1': 'Ä', ';': 'Ö', '$': 'Ü', ' ': ' '
              };

              let ersetzer = new Map(Object.entries(ersetzung_dict));
              let neuer_text = userQuestion5.split('').map(char => ersetzer.get(char) || char).join('');
              // meke the trxt lowercase
              neuer_text = neuer_text.toLowerCase();
              return `Der übersetzte Text: ${neuer_text}`;
          } else if (userQuestion.includes("ich heisse")) {
            let name1 = userQuestion.split("ich heisse")[1];
            let name = name1.replace("?", "");
            kuerzeBenutzernamen(name);
            return name + " ist ein schöner Name";
          } else if (userQuestion.includes("ich heiße")) {
            let name1 = userQuestion.split("ich heiße")[1];
            let name = name1.replace("?", "");
            kuerzeBenutzernamen(name);
            return name + " ist ein schöner Name";
          } else if (userQuestion.includes("my name is ")) {
            let name1 = userQuestion.split("my name is ")[1];
            let name = name1.replace("?", "");
            kuerzeBenutzernamen(name);
            return name + " is a nice name";
          } else if (userQuestion.includes("i am called ")) {
            let name1 = userQuestion.split("i am called ")[1];
            let name = name1.replace("?", "");
            kuerzeBenutzernamen(name);
            return name + " is a nice name";
          } else if (userQuestion.includes("im called ")) {
            let name1 = userQuestion.split("im called ")[1];
            let name = name1.replace("?", "");
            kuerzeBenutzernamen(name);
            return name + " is a nice name";
          } else if (userQuestion.includes("mein name ist ")) {
            let name1 = userQuestion.split("mein name ist ")[1];
            let name = name1.replace("?", "");
            kuerzeBenutzernamen(name);
            return name + " ist ein schöner Name";
          } else if (isguessing == "ja" && userQuestion.includes("emoji") && userQuestion.includes("spiel") && userQuestion.includes("spielen") && userQuestion.includes("nicht")) {
            isguessing = "nein";
            checkvalueoc();
            return "okay, du spiels nun kein emoji spiel mehr!";
          } else if (isguessing == "yes" && userQuestion.includes("emoji") && userQuestion.includes("play") && userQuestion.includes("game") && userQuestion.includes("not")) {
            isguessing = "no";
            checkvalueoc();
            return "you are not playing an emoji game anymore!";
          } else if (isguessing == "ja" && userQuestion.includes("nicht") && userQuestion.includes("emoji") && userQuestion.includes("spielen")) {
            isguessing = "nein";
            checkvalueoc();
            return "okay, du spiels nun kein emoji spiel mehr!";
          } else if (isguessing == "yes" && userQuestion.includes("emoji") && userQuestion.includes("not") && userQuestion.includes("play")) {
            isguessing = "no";
            checkvalueoc();
            return "you are not playing an emoji game anymore!";
          } else if (isguessing == "ja" && userQuestion.includes("zurück")) {
            isguessing = "nein";
            checkvalueoc();
            return "okay, du spiels nun kein emoji spiel mehr!";
          } else if (isguessing == "yes" && userQuestion.includes("zurück")) {
            isguessing = "nein";
            checkvalueoc();
            return "okay, du spiels nun kein emoji spiel mehr!";
          } else if (isguessing == "yes" && userQuestion.includes("emoji") && userQuestion.includes("play") && userQuestion.includes("don") && userQuestion.includes("t")) {
            isguessing = "no";
            checkvalueoc();
            return "you are not playing an emoji game anymore!";
          } else if (isguessing == "yes" && userQuestion.includes("back")) {
            isguessing = "no";
            checkvalueoc();
            return "you are not playing an emoji game anymore!";
          } else if (isguessing == "ja" && userQuestion.includes("back")) {
            isguessing = "no";
            checkvalueoc();
            return "you are not playing an emoji game anymore!";
          } else if (userQuestion.includes("emoji") && userQuestion.includes("spiel") && userQuestion.includes("spielen") && !userQuestion.includes("nicht")) {
            isguessing = "ja";
            let returnthegame = generateEmojis();
            return "sag mir an welcher stelle ein anderer emoji ist oder sende mir den unterschiedlichen emoji " + returnthegame;
          } else if (userQuestion.includes("emoji") && userQuestion.includes("play") && userQuestion.includes("game") && !userQuestion.includes("not")) {
            isguessing = "yes";
            let returnthegame = generateEmojis();
            return "tell me in which position you see the other emoji or send me the different emoji " + returnthegame;
          } else if (isguessing == "ja" && !userQuestion.includes("idk")) {
            let userQuestionForCheckGuess = userQuestion.match(/\d+/g);
            let checkanswer = checkGuess(userQuestionForCheckGuess);
            if (checkanswer == "right") {
              let returnthegame = generateEmojis();
              return "super! sag mir an welcher stelle ein anderer emoji ist oder sende mir den unterschiedlichen emoji " + returnthegame;
            } else if (userQuestion.includes(differentEmoji) && !userQuestion.includes(otherEmojis)) {
              let returnthegame = generateEmojis();
              return "super! sag mir an welcher stelle ein anderer emoji ist oder sende mir den unterschiedlichen emoji " + returnthegame;
            } else {
              return "falsch versuche es nochmal";
            }
          } else if (isguessing == "yes" && !userQuestion.includes("idk")) {
            let userQuestionForCheckGuess = userQuestion.match(/\d+/g);
            let checkanswer = checkGuess(userQuestionForCheckGuess);
            if (checkanswer == "right") {
              let returnthegame = generateEmojis();
              return "great! tell me in which position you see the other emoji or send me the different emoji " + returnthegame;
            } else if (userQuestion.includes(differentEmoji) && !userQuestion.includes(otherEmojis)) {
              let returnthegame = generateEmojis();
              return "great! tell me in which position you see the other emoji or send me the different emoji " + returnthegame;
            } else {
              return "wrong, try again";
            }
          } else if (isguessing == "yes" && userQuestion.includes("idk")) {
            let rightanswerforgame1 = parseInt(differentEmojiPosition) + 1;
            let returnthegame = generateEmojis();
            return "the right answer is " + rightanswerforgame1 + "! tell me in which position you see the other emoji or send me the different emoji " + returnthegame;
          } else if (isguessing == "ja" && userQuestion.includes("idk")) {
            let rightanswerforgame1 = parseInt(differentEmojiPosition) + 1;
            let returnthegame = generateEmojis();
            return "die richtige antwort ist " + rightanswerforgame1 + "! sag mir an welcher stelle ein anderer emoji ist oder sende mir den unterschiedlichen emoji " + returnthegame;
          } else if (userQuestion.includes('=')) {
            let zahlen = userQuestion.match(/\b\d+\b/g);
            if (zahlen.length !== 2) {
              return 'sorry but i didnt find a mathematical operation';
            } else {
              let [question, answer] = zahlen;
              let ergebnis1 = parseInt(question);
              let ergebnis2 = parseInt(answer);
              if (ergebnis1 === ergebnis2) {
                return `${question} = ${answer} = True`;
              } else {
                return `${question} = ${answer} = False.`;
              }
            }
          } else if (userQuestion.includes('>')) {
            let zahlen = userQuestion.match(/\b\d+\b/g);
            if (zahlen.length !== 2) {
              return 'sorry but i didnt find a mathematical operation';
            } else {
              let [question, answer] = zahlen;
              let ergebnis1 = parseInt(question);
              let ergebnis2 = parseInt(answer);
              if (ergebnis1 === ergebnis2) {
                return `${question} = ${answer}`;
              } else if (ergebnis1 > ergebnis2) {
                return `${question} > ${answer} = True`;
              } else {
                return `${question} > ${answer} = False.`;
              }
            }
          } else if (userQuestion.includes('<')) {
            let zahlen = userQuestion.match(/\b\d+\b/g);
            if (zahlen.length !== 2) {
              return 'sorry but i didnt find a mathematical operation';
            } else {
              let [question, answer] = zahlen;
              let ergebnis1 = parseInt(question);
              let ergebnis2 = parseInt(answer);
              if (ergebnis1 === ergebnis2) {
                return `${question} = ${answer}`;
              } else if (ergebnis1 < ergebnis2) {
                return `${question} < ${answer} = True`;
              } else {
                return `${question} < ${answer} = False.`;
              }
            }
          } else if (userQuestion.includes('how can i spell')) {
            let [trashword, word] = userQuestion.split("how can i spell", 2).map(str => str.trim());
            word = word.replace(':', '');
            word = word.trim();
            // , hier
            word = word.split('').join(',');
            return `${word}`;
          } else if (userQuestion.includes('how do i spell')) {
            let [trashword, word] = userQuestion.split("how do i spell", 2).map(str => str.trim());
            word = word.replace(':', '');
            word = word.trim();
            // , hier
            word = word.split('').join(',');
            return `${word}`;
          } else if (userQuestion.includes('wie buchstabiere ich')) {
            let [trashword, word] = userQuestion.split("wie buchstabiere ich", 2).map(str => str.trim());
            word = word.replace(':', '');
            word = word.trim();
            // , hier
            word = word.split('').join(',');
            return `${word}`;
          } else if (userQuestion.includes('wie buchstabiert man')) {
            let [trashword, word] = userQuestion.split("wie buchstabiert man", 2).map(str => str.trim());
            word = word.replace(':', '');
            word = word.trim();
            // , hier
            word = word.split('').join(',');
            return `${word}`;
          } else if (userQuestion.includes('is ') && userQuestion.includes(' in ')) {
            let userR = userQuestion.trim();
            userR = userR.replace("?", "");
            // Ersetzung durchführen und das Ergebnis zuweisen
            if (userR.includes(' in ')) {
              let [userS1, userS2] = userR.split("in", 2).map(str => str.trim());
              userS1 = userS1.trim();
              userS2 = userS2.trim();
              userS1 = userS1.replace(/“/g, '');
              userS1 = userS1.replace(/„/g, '');
              userS1 = userS1.replace('is ', '');
              let nimm_keyword = userS1.split(" ")[0]; // Trenne das erste Wort vom Rest des Satzes
              // Entferne das Wort aus userS1 aus userS2
              if (userS2.includes(userS1)) {
                return `yes, "${userS1}" is in "${userS2}"`;
              } else {
                return `no, "${userS1}" is not in "${userS2}"`;
              }
            }
          } else if (userQuestion.includes('ist ') && userQuestion.includes(' in ')) {
            let userR = userQuestion.trim();
            userR = userR.replace("?", "");
            // Ersetzung durchführen und das Ergebnis zuweisen
            if (userR.includes(' in ')) {
              let [userS1, userS2] = userR.split("in", 2).map(str => str.trim());
              userS1 = userS1.trim();
              userS2 = userS2.trim();
              userS1 = userS1.replace(/“/g, '');
              userS1 = userS1.replace(/„/g, '');
              userS1 = userS1.replace('ist ', '');
              let nimm_keyword = userS1.split(" ")[0]; // Trenne das erste Wort vom Rest des Satzes
              // Entferne das Wort aus userS1 aus userS2
              if (userS2.includes(userS1)) {
                return `ja, "${userS1}" ist in "${userS2}"`;
              } else {
                return `nein, "${userS1}" ist nicht in "${userS2}"`;
              }
            }
          } else if (userQuestion.includes('take') && userQuestion.includes('out of')) {
            let userR = userQuestion.trim();
            if (userR.includes('out of')) {
              let [userS1, userS2] = userR.split("out of", 2).map(str => str.trim());
              let nimm_keyword = userS1.split(" ")[0]; // Trenne das erste Wort vom Rest des Satzes
              userS1 = userS1.replace(nimm_keyword, "").trim();
              let userRS = userS2.replace(userS1, "").trim(); // Entferne das Wort aus userS1 aus userS2
              return `Okay, "${userS1}" out of "${userS2}" is "${userRS}".`;
            } else {
              return 'sorry but i cant answer to that';
            }
          } else if (userQuestion.includes('nimm') && userQuestion.includes('aus')) {
            let userR = userQuestion.trim();
            userR = userR.replace("heraus", "");
            // Ersetzung durchführen und das Ergebnis zuweisen
            if (userR.includes('aus')) {
              let [userS1, userS2] = userR.split("aus", 2).map(str => str.trim());
              let nimm_keyword = userS1.split(" ")[0]; // Trenne das erste Wort vom Rest des Satzes
              userS1 = userS1.replace(nimm_keyword, "").trim();
              let userRS = userS2.replace(userS1, "").trim(); // Entferne das Wort aus userS1 aus userS2
              return `Okay, "${userS1}" aus "${userS2}" ist "${userRS}".`;
            } else {
              return 'I dont know the answer. Please enter my answer to that question';
            }
          } else if (userQuestion.includes('count till')) {
            try {
              // Zahl extrahieren und in eine Ganzzahl konvertieren
              let number = parseInt(userQuestion.match(/\b\d+\b/)[0]);
              if (number > 0) {
                // Wenn die Zahl größer als 0 ist, Zahlen von 1 bis zur angegebenen Zahl aufzählen
                let count_list = Array.from({length: number}, (_, i) => i + 1).join(', ');
                return `i will count till: ${number}: ${count_list}`;
              } else {
                // Wenn die Zahl nicht größer als 0 ist, eine entsprechende Nachricht senden
                return 'please enter a positiv number.';
              }
            } catch (error) {
              // Wenn ein Fehler beim Extrahieren oder Konvertieren der Zahl auftritt
              return 'please enter a valid number.';
            }
          } else if (userQuestion.includes('zähle bis')) {
            try {
              // Zahl extrahieren und in eine Ganzzahl konvertieren
              let number = parseInt(userQuestion.match(/\b\d+\b/)[0]);
              if (number > 0) {
                // Wenn die Zahl größer als 0 ist, Zahlen von 1 bis zur angegebenen Zahl aufzählen
                let count_list = Array.from({length: number}, (_, i) => i + 1).join(', ');
                return `Ich zähle bis ${number}: ${count_list}`;
              } else {
                // Wenn die Zahl nicht größer als 0 ist, eine entsprechende Nachricht senden
                return 'Bitte geben Sie eine positive Zahl an.';
              }
            } catch (error) {
              // Wenn ein Fehler beim Extrahieren oder Konvertieren der Zahl auftritt
              return 'Bitte geben Sie eine gültige Zahl an.';
            }
          } else if (userQuestion.includes('ich bin ')) {
            try {
              // Alter extrahieren und in eine Ganzzahl konvertieren
              let userQuestionzwei = userQuestion.replace('jahre alt', '');
              let age1 = userQuestionzwei.split("ich bin ")[1];
              let max_human_age = "120"; // Maximales dokumentiertes Alter eines Menschen
              if (parseInt(age1) > parseInt(max_human_age)) {
                // Wenn das Alter das maximale Menschenausmaß übersteigt
                return 'So alt kann ein Mensch nicht werden.';
              } else {
                // Wenn das Alter innerhalb des menschlichen Bereichs liegt
                return 'Cool!';
              }
            } catch (error) {
              // Wenn ein Fehler beim Extrahieren oder Konvertieren des Alters auftritt
              return 'okay';
            }
          } else if (userQuestion.includes('i am ')) {
            try {
              // Alter extrahieren und in eine Ganzzahl konvertieren
              let userQuestiontwo = userQuestion.replace('years old', '');
              let age1 = userQuestiontwo.split("i am ")[1];
              let max_human_age = "120"; // Maximales dokumentiertes Alter eines Menschen
              if (parseInt(age1) > parseInt(max_human_age)) {
                // Wenn das Alter das maximale Menschenausmaß übersteigt
                return 'its not possible to become that old.';
              } else {
                // Wenn das Alter innerhalb des menschlichen Bereichs liegt
                return 'Cool!';
              }
            } catch (error) {
              // Wenn ein Fehler beim Extrahieren oder Konvertieren des Alters auftritt
              return 'okay';
            }
          } else if (userQuestion.includes('give me') && userQuestion.includes('password')) {
            // Zufällige Zahlen und Buchstaben generieren
            let random_number = Math.floor(Math.random() * 900000) + 100000;
            let random_index = Math.floor(Math.random() * 6);
            let random_letter = String.fromCharCode(Math.floor(Math.random() * 26) + 97);
            let random_number2 = Math.floor(Math.random() * 900000) + 100000;
            let random_index2 = Math.floor(Math.random() * 6);
            let random_letter2 = String.fromCharCode(Math.floor(Math.random() * 26) + 97);
            let random_lr = Array.from({length: 6}, () => String.fromCharCode(Math.floor(Math.random() * 26) + 97)).join('');
            let password_with_letter = random_number.toString().replace(random_number.toString().charAt(random_index), random_letter);
            let password_with_letter2 = random_number2.toString().replace(random_number2.toString().charAt(random_index2), random_number2.toString());
            let random_number3 = random_number.toString().replace(random_number2.toString().charAt(random_index2), random_number.toString());
            let random_letter3 = random_lr.replace(random_letter2, random_letter);

            // Passwort je nach Benutzeranfrage generieren
            if (userQuestion.includes('number')) {
              return `Please note that the password is randomly generated. Here is the password: ${password_with_letter2}`;
            } else if (userQuestion.includes('letter')) {
              return `Please note that the password is randomly generated. Here is the password: ${random_letter3}`;
            } else {
              return `Please note that the password is randomly generated. Here is the password: ${password_with_letter}`;
            }
          } else if (userQuestion.includes('gib mir') && userQuestion.includes('passwort')) {
            // Zufällige Zahlen und Buchstaben generieren
            let random_number = Math.floor(Math.random() * 900000) + 100000;
            let random_index = Math.floor(Math.random() * 6);
            let random_letter = String.fromCharCode(Math.floor(Math.random() * 26) + 97);
            let random_number2 = Math.floor(Math.random() * 900000) + 100000;
            let random_index2 = Math.floor(Math.random() * 6);
            let random_letter2 = String.fromCharCode(Math.floor(Math.random() * 26) + 97);
            let random_lr = Array.from({length: 6}, () => String.fromCharCode(Math.floor(Math.random() * 26) + 97)).join('');
            let password_with_letter = random_number.toString().replace(random_number.toString().charAt(random_index), random_letter);
            let password_with_letter2 = random_number2.toString().replace(random_number2.toString().charAt(random_index2), random_number2.toString());
            let random_number3 = random_number.toString().replace(random_number2.toString().charAt(random_index2), random_number.toString());
            let random_letter3 = random_lr.replace(random_letter2, random_letter);

            // Passwort je nach Benutzeranfrage generieren
            if (userQuestion.includes('nummer')) {
              return `Bitte beachten Sie, dass das Passwort zufällig generiert ist. Hier ist das Passwort: ${password_with_letter2}`;
            } else if (userQuestion.includes('buchstabe')) {
              return `Bitte beachten Sie, dass das Passwort zufällig generiert ist. Hier ist das Passwort: ${random_letter3}`;
            } else {
              return `Bitte beachten Sie, dass das Passwort zufällig generiert ist. Hier ist das Passwort: ${password_with_letter}`;
            }
          } else if (userQuestion.includes('sag:')) {
            // Text extrahieren, der nach "sag:" kommt
            let textt = userQuestion.replace("sag:", "");
            // Antwort mit dem extrahierten Text senden
            return textt;
          } else if (userQuestion.includes('sag mir:')) {
            // Text extrahieren, der nach "sag:" kommt
            let textt = userQuestion.replace("sag mir:", "");
            // Antwort mit dem extrahierten Text senden
            return textt;
          } else if (userQuestion.includes('say:')) {
            // Text extrahieren, der nach "sag:" kommt
            let textt = userQuestion.replace("say:", "");
            // Antwort mit dem extrahierten Text senden
            return textt;
          } else if (userQuestion.includes("how should") && userQuestion.includes("i") && userQuestion.includes("call")) {
            let word = userQuestion.split("call")[1].replace("?", "").trim();
            // Ersetzen von Pronomen für eine konsistente Antwort
            word = word.replace("my self", "you").replace("my ", "your ").replace("your ", "my ").replace("you", "me");
            // Überprüfen, welche Art von Namen der Benutzer möchte
            if (userQuestion.includes("male") || userQuestion.includes("boy")) {
              return `I think a good name for ${word} could be: "${JJnamen[Math.floor(Math.random() * JJnamen.length)]}".`;
            } else if (userQuestion.includes("female") || userQuestion.includes("girl")) {
              return `I think a good name for ${word} could be: "${MMnamen[Math.floor(Math.random() * MMnamen.length)]}".`;
            } else {
              let allenamen = AAnamen[Math.floor(Math.random() * AAnamen.length)];
              return `I think a good name for ${word} could be: "${allenamen[Math.floor(Math.random() * allenamen.length)]}".`;
            }
          } else if (userQuestion.includes("what would be") && userQuestion.includes("a") && userQuestion.includes("name for")) {
            let word = userQuestion.split("name for")[1].replace("?", "").trim();
            // Ersetzen von Pronomen für eine konsistente Antwort
            word = word.replace("my self", "you").replace("my ", "your ").replace("your ", "my ").replace("you", "me");
            // Überprüfen, welche Art von Namen der Benutzer möchte
            if (userQuestion.includes("male") || userQuestion.includes("boy")) {
              return `I think a good name for ${word} could be: "${JJnamen[Math.floor(Math.random() * JJnamen.length)]}".`;
            } else if (userQuestion.includes("female") || userQuestion.includes("girl")) {
              return `I think a good name for ${word} could be: "${MMnamen[Math.floor(Math.random() * MMnamen.length)]}".`;
            } else {
              let allenamen = AAnamen[Math.floor(Math.random() * AAnamen.length)];
              return `I think a good name for ${word} could be: "${allenamen[Math.floor(Math.random() * allenamen.length)]}".`;
            }
          } else if (userQuestion.includes("wie sollte") && userQuestion.includes("ich") && userQuestion.includes("nennen")) {
            let word1 = userQuestion.split("ich")[1].replace("?", "").trim();
            // Ersetzen von Pronomen für eine konsistente Antwort
            word1 = word1.replace("meine", "deine").replace("mein", "dein").replace("dein", "mein").replace("deine", "meine").replace("dich", "mich");
            let word = word1.replace("nennen", "").trim();
            // Überprüfen, welche Art von Namen der Benutzer möchte
            if (userQuestion.includes("männlich") || userQuestion.includes("jung")) {
              return `Ich glaube ein guter Name für ${word} könnte: "${Jnamen[Math.floor(Math.random() * Jnamen.length)]}" sein.`;
            } else if (userQuestion.includes("weiblich") || userQuestion.includes("mädchen")) {
              return `Ich glaube ein guter Name für ${word} könnte: "${Mnamen[Math.floor(Math.random() * Mnamen.length)]}" sein.`;
            } else {
              let allenamen = Anamen[Math.floor(Math.random() * Anamen.length)];
              return `Ich glaube ein guter Name für ${word} könnte: "${allenamen[Math.floor(Math.random() * allenamen.length)]}" sein.`;
            }
          } else if (userQuestion.includes("was wäre") && userQuestion.includes("ein") && userQuestion.includes("name für")) {
            let word1 = userQuestion.split("name für")[1].replace("?", "").trim();
            // Ersetzen von Pronomen für eine konsistente Antwort
            word1 = word1.replace("meine", "deine").replace("mein", "dein").replace("dein", "mein").replace("deine", "meine").replace("dich", "mich");
            let word = word1.trim();
            // Überprüfen, welche Art von Namen der Benutzer möchte
            if (userQuestion.includes("männlich") || userQuestion.includes("jung")) {
              return `Ich glaube ein guter Name für ${word} könnte: "${Jnamen[Math.floor(Math.random() * Jnamen.length)]}" sein.`;
            } else if (userQuestion.includes("weiblich") || userQuestion.includes("mädchen")) {
              return `Ich glaube ein guter Name für ${word} könnte: "${Mnamen[Math.floor(Math.random() * Mnamen.length)]}" sein.`;
            } else {
              let allenamen = Anamen[Math.floor(Math.random() * Anamen.length)];
              return `Ich glaube ein guter Name für ${word} könnte: "${allenamen[Math.floor(Math.random() * allenamen.length)]}" sein.`;
            }
          } else if (userQuestion.includes("ersetze") && userQuestion.includes("mit") && userQuestion.includes("in")) {
            // Zerlegen der Benutzereingabe, um die relevanten Teile zu extrahieren
            let teil2 = userQuestion.split("ersetze")[1];
            let teil4 = teil2.split("mit")[1];
            let teil3 = teil2.split("mit")[0];
            teil3 = teil3.trim().replace("mit", "");
            let teil6 = teil4.split("in")[1];
            let teil5 = teil4.split("in")[0];
            teil5 = teil5.trim().replace("in", "");

            // Überprüfen, ob der zu ersetzende Text im Zieltext enthalten ist
            if (teil6.includes(teil3)) {
              // Ersetzen des Textes und Erstellen der Antwort
              teil6 = teil6.replace(teil3, teil5);
              return 'Der bearbeitete Text: ' + teil6;
            } else {
              // Falls der zu ersetzende Text nicht im Zieltext enthalten ist
              return "Entschuldigung, aber '" + teil3 + "' ist nicht in '" + teil6 + "' enthalten.";
            }
          } else if (userQuestion.includes("replace") && userQuestion.includes("with") && userQuestion.includes("in")) {
            // Zerlegen der Benutzereingabe, um die relevanten Teile zu extrahieren
            let teil2 = userQuestion.split("replace")[1];
            let teil4 = teil2.split("with")[1];
            let teil3 = teil2.split("with")[0];
            teil3 = teil3.trim().replace("mit", "");
            let teil6 = teil4.split("in")[1];
            let teil5 = teil4.split("in")[0];
            teil5 = teil5.trim().replace("in", "");

            // Überprüfen, ob der zu ersetzende Text im Zieltext enthalten ist
            if (teil6.includes(teil3)) {
              // Ersetzen des Textes und Erstellen der Antwort
              teil6 = teil6.replace(teil3, teil5);
              return 'the edited Text: ' + teil6;
            } else {
              // Falls der zu ersetzende Text nicht im Zieltext enthalten ist
              return "sorry, but '" + teil3 + "' is not in '" + teil6 + "'.";
            }
          } else if (userQuestion.includes("wähle eine zahl") && userQuestion.includes("von") && userQuestion.includes("bis")) {
            // Zerlegen der Benutzereingabe, um den Bereich zu extrahieren
            let trash1 = userQuestion.split("von")[1];
            let word1 = trash1.split("bis")[0];
            let word2 = trash1.split("bis")[1];
            // Extrahieren der Zahlen aus den Textteilen
            let uword = word1.match(/\b\d+\b/);
            let uword2 = word2.match(/\b\d+\b/);
            uword = parseInt(uword[0]);
            uword2 = parseInt(uword2[0]);
            // Generieren einer Zufallszahl innerhalb des Bereichs
            let zahl;
            if (uword > uword2) {
              zahl = Math.floor(Math.random() * (uword - uword2 + 1)) + uword2;
            } else if (uword < uword2) {
              zahl = Math.floor(Math.random() * (uword2 - uword + 1)) + uword;
            } else {
              zahl = uword;
            }
            return `Ich wähle: ${zahl}`;
          } else if (userQuestion.includes("choose a number") && userQuestion.includes("from") && userQuestion.includes("to")) {
            // Zerlegen der Benutzereingabe, um den Bereich zu extrahieren
            let trash1 = userQuestion.split("from")[1];
            let word1 = trash1.split("to")[0];
            let word2 = trash1.split("to")[1];
            // Extrahieren der Zahlen aus den Textteilen
            let uword = word1.match(/\b\d+\b/);
            let uword2 = word2.match(/\b\d+\b/);
            uword = parseInt(uword[0]);
            uword2 = parseInt(uword2[0]);
            // Generieren einer Zufallszahl innerhalb des Bereichs
            let zahl;
            if (uword > uword2) {
              zahl = Math.floor(Math.random() * (uword - uword2 + 1)) + uword2;
            } else if (uword < uword2) {
              zahl = Math.floor(Math.random() * (uword2 - uword + 1)) + uword;
            } else {
              zahl = uword;
            }
            return `i choose: ${zahl}`;
          } else if (userQuestion.includes("du") && userQuestion.includes("schön") && !userQuestion.includes("nicht") && !userQuestion.includes("wunder")){
            if (document.body.classList.contains("beautiful-theme")) {
              beautifultheme();
              nicetheme();
            }else {
              nicetheme();
            }
            return "Danke, dass du mich schön findest!";
          } else if (userQuestion.includes("you") && userQuestion.includes("nice") && !userQuestion.includes("not")){
            if (document.body.classList.contains("beautiful-theme")) {
              beautifultheme();
              nicetheme();
            }else {
              nicetheme();
            }
            return "thank you, for finding me nice!";
          }else if (userQuestion.includes("du") && userQuestion.includes("wunder") && userQuestion.includes("schön") && !userQuestion.includes("nicht")){
            beautifultheme();
            return "Danke, dass du mich schön findest!";
          }else if (userQuestion.includes("you") && userQuestion.includes("beautiful") && !userQuestion.includes("not")){
            beautifultheme();
            return "Thank you for thinking im beautiful!";
          } else if (userQuestion.includes("gib mir") && userQuestion.includes("name")) {
            if (userQuestion.includes("männlich") || userQuestion.includes("jung")) {
              return 'Wie wäre es mit: ' + Jnamen[Math.floor(Math.random() * Jnamen.length)] + '.';
            } else if (userQuestion.includes("weiblich") || userQuestion.includes("mädchen")) {
              return 'Wie wäre es mit: ' + Mnamen[Math.floor(Math.random() * Mnamen.length)] + '.';
            } else {
              let allenamen = Anamen[Math.floor(Math.random() * Anamen.length)];
              return 'Wie wäre es mit: ' + allenamen[Math.floor(Math.random() * allenamen.length)] + '.';
            }
          } else if (/[0-9\+\-\*\/]/.test(userQuestion)) {
            try {
              // Ausdruck berechnen und Ergebnis ausgeben
              let expression = userQuestion.replace(/[a-zA-Z\s]/g, '');

              // Alle Zahlen und mathematischen Operationen finden
              let numbers = userQuestion.match(/\d+/g);
              let operations = userQuestion.match(/[-+*/]/g);

              // Mathematische Operationen durchführen
              let result = parseInt(numbers[0]);
              let numIndex = 1;
              operations.forEach(op => {
                let num = parseInt(numbers[numIndex]);
                switch (op) {
                  case '+':
                    result += num;
                    break;
                  case '-':
                    result -= num;
                    break;
                  case '*':
                    result *= num;
                    break;
                  case '/':
                    result /= num;
                    break;
                }
                numIndex++;
              });

              return `${result}.`;
            } catch (error) {
              let answer = get_answer_for_question(best_match, knowledge_base);
              return `${answer}`;
            }
          } else if (userQuestion.includes('englisch') && userQuestion.includes('lernen')) {
            chalange = "englisch";
            clean();
            return "okay, du lernst jetzt englisch. wenn du die antwort zur frage nicht weißt, schreibe 'idk' und ich werde dir die nächste aufgabe geben. versuche bei der übersetzung der wörter keine leerzeichen zu anfang und ende der wörter zu haben und versuche keine zeichen wie: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, ', zu benutzen";
          } else if (userQuestion.includes('englisch') && userQuestion.includes('üben')) {
            chalange = "englisch";
            clean();
            return "okay, du übst jetzt englisch. wenn du die antwort zur frage nicht weißt, schreibe 'idk' und ich werde dir die nächste aufgabe geben. versuche bei der übersetzung der wörter keine leerzeichen zu anfang und ende der wörter zu haben und versuche keine zeichen wie: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, ', zu benutzen";
          } else if (userQuestion.includes('mathe') && userQuestion.includes('lernen')) {
            chalange = "mathe";
            clean();
            return "okay, du lernst jetzt mathe. wenn du die antwort zur frage nicht weißt, schreibe 'idk' und ich werde dir die nächste aufgabe geben";
          } else if (userQuestion.includes('mathe') && userQuestion.includes('üben')) {
            chalange = "mathe";
            clean();
            return "okay, du übst jetzt mathe. wenn du die antwort zur frage nicht weißt, schreibe 'idk' und ich werde dir die nächste aufgabe geben";
          } else if (userQuestion.includes('learn') && userQuestion.includes('german')) {
            chalange = "german";
            clean();
            return "okay, you're going to learn german now. if you don't know the answer, just say 'idk' and i'll give you the next question. when answering please try avoiding any spaces at the beginning and end of the word and try not to use any symbols like: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, '";
          } else if (userQuestion.includes('practice') && userQuestion.includes('german')) {
            chalange = "german";
            clean();
            return "okay, you are going to practice german now. if you don't know the answer, just say 'idk' and i'll give you the next question. when answering please try avoiding any spaces at the beginning and end of the word and try not to use any symbols like: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, '";
          } else if (userQuestion.includes('learn') && userQuestion.includes('math')) {
            chalange = "math";
            clean();
            return "okay, you are going to learn math now. if you don't know the answer, just say 'idk' and i'll give you the next question";
          } else if (userQuestion.includes('practice') && userQuestion.includes('math')) {
            chalange = "math";
            clean();
            return "okay, you are going to practice math now. if you don't know the answer, just say 'idk' and i'll give you the next question";
          } else if (userQuestion.includes('play') && userQuestion.includes('quiz')) {
            chalange = "Equiz";
            clean();
            return "okay, you are going to play a quiz now. if you don't know the answer, just say 'idk' and i'll give you the next question.";
          } else if (userQuestion.includes('spielen') && userQuestion.includes('quiz')) {
            chalange = "Gquiz";
            clean();
            return "okay, du wirst nun ein quiz spielen. wenn du die antwort nicht kennst, sag einfach 'idk' und dann frage ich dir die nöchste frage.";
          } else if (bestMatch) {
            const answer = getAnswerForQuestion(bestMatch, knowledgeBase);
            if (answer == "Sorry but i dont know your Name") {
              let name = document.getElementById("username-display");
              response = {message: `${name.textContent}`};
            } else if (answer.includes("(Username)")) {
              let name = document.getElementById("username-display");
              let text = answer.replace("(Username)", name.textContent);
              response = {message: `${text}`};
            } else {
              response = {message: `${answer}`};
            }

          } else {
            if (userQuestion.includes("?") && !userQuestion.includes(" ?")) {
              let userQuestion2 = userQuestion.replace("?", " ?");
              const knowledgeBase2 = await loadKnowledgeBase('knowledge_base.json');
              const questions2 = knowledgeBase.questions.map(q => q.question);
              const bestMatch2 = findBestMatch(userQuestion2, questions2);
              if (bestMatch2) {
                const newanswer = getAnswerForQuestion(bestMatch2, knowledgeBase2);
                if (newanswer == "Sorry but i dont know your Name") {
                  let name = document.getElementById("username-display");
                  response = {message: `${name.textContent}`};
                } else if (newanswer.includes("(Username)")) {
                  let name = document.getElementById("username-display");
                  let text = newanswer.replace("(Username)", name.textContent);
                  response = {message: `${text}`};
                } else {
                  response = {message: `${newanswer}`};
                }
              } else {
                if (userQuestion.includes("was") && userQuestion.includes("ist")) {
                  let word2 = userQuestion.split("ist")[1];
                  if (word2.includes("?")) {
                    word2 = word2.replace("?", "");
                  }
                  response = {message: `ich weiß nicht, was ${word2} ist`};
                } else if (userQuestion.includes("what") && userQuestion.includes("is")) {
                  let word2 = userQuestion.split("is")[1];
                  if (word2.includes("?")) {
                    word2 = word2.replace("?", "");
                  }
                  response = {message: `i dont know what ${word2} is`};
                } else {
                  let userQuestion3 = userQuestion.replace(" ?", "?");
                  const knowledgeBase3 = await loadKnowledgeBase('knowledge_base.json');
                  const questions3 = knowledgeBase.questions.map(q => q.question);
                  const bestMatch3 = findBestMatch2(userQuestion3, questions3);
                  if (bestMatch3) {
                    const newanswer = getAnswerForQuestion(bestMatch3, knowledgeBase3);
                    if (newanswer == "Sorry but i dont know your Name") {
                      let name = document.getElementById("username-display");
                      response = {message: `${name.textContent}`};
                    } else if (newanswer.includes("(Username)")) {
                      let name = document.getElementById("username-display");
                      let text = newanswer.replace("(Username)", name.textContent);
                      response = {message: `${text}`};
                    } else {
                      response = {message: `${newanswer}`};
                    }
                  } else {
                    response = {message: `${idkanswer}`};
                  }
                }
              }
            } else if (userQuestion.includes(" ?") && !userQuestion.includes("?")) {
              let userQuestion2 = userQuestion.replace(" ?", "?");
              const knowledgeBase2 = await loadKnowledgeBase('knowledge_base.json');
              const questions2 = knowledgeBase.questions.map(q => q.question);
              const bestMatch2 = findBestMatch(userQuestion2, questions2);
              if (bestMatch2) {
                const newanswer = getAnswerForQuestion(bestMatch2, knowledgeBase2);
                if (newanswer == "Sorry but i dont know your Name") {
                  let name = document.getElementById("username-display");
                  response = {message: `${name.textContent}`};
                } else if (newanswer.includes("(Username)")) {
                  let name = document.getElementById("username-display");
                  let text = newanswer.replace("(Username)", name.textContent);
                  response = {message: `${text}`};
                } else {
                  response = {message: `${newanswer}`};
                }
              } else {
                if (userQuestion.includes("was") && userQuestion.includes("ist")) {
                  let word2 = userQuestion.split("ist")[1];
                  if (word2.includes("?")) {
                    word2 = word2.replace("?", "");
                  }
                  response = {message: `ich weiß nicht, was ${word2} ist`};
                } else if (userQuestion.includes("what") && userQuestion.includes("is")) {
                  let word2 = userQuestion.split("is")[1];
                  if (word2.includes("?")) {
                    word2 = word2.replace("?", "");
                  }
                  response = {message: `i dont know what ${word2} is`};
                } else {
                  let userQuestion3 = userQuestion.replace(" ?", "?");
                  const knowledgeBase3 = await loadKnowledgeBase('knowledge_base.json');
                  const questions3 = knowledgeBase.questions.map(q => q.question);
                  const bestMatch3 = findBestMatch2(userQuestion3, questions3);
                  if (bestMatch3) {
                    const newanswer = getAnswerForQuestion(bestMatch3, knowledgeBase3);
                    if (newanswer == "Sorry but i dont know your Name") {
                      let name = document.getElementById("username-display");
                      response = {message: `${name.textContent}`};
                    } else if (newanswer.includes("(Username)")) {
                      let name = document.getElementById("username-display");
                      let text = newanswer.replace("(Username)", name.textContent);
                      response = {message: `${text}`};
                    } else {
                      response = {message: `${newanswer}`};
                    }
                  } else {
                    response = {message: `${idkanswer}`};
                  }
                }
              }
            } else {
              if (userQuestion.includes("was") && userQuestion.includes("ist")) {
                let word2 = userQuestion.split("ist")[1];
                if (word2.includes("?")) {
                  word2 = word2.replace("?", "");
                }
                response = {message: `ich weiß nicht, was ${word2} ist`};
              } else if (userQuestion.includes("what") && userQuestion.includes("is")) {
                let word2 = userQuestion.split("is")[1];
                if (word2.includes("?")) {
                  word2 = word2.replace("?", "");
                }
                response = {message: `i dont know what ${word2} is`};
              } else {
                let userQuestion2 = userQuestion.replace(" ?", "?");
                const knowledgeBase2 = await loadKnowledgeBase('knowledge_base.json');
                const questions2 = knowledgeBase.questions.map(q => q.question);
                const bestMatch2 = findBestMatch2(userQuestion2, questions2);
                if (bestMatch2) {
                  const newanswer = getAnswerForQuestion(bestMatch2, knowledgeBase2);
                  if (newanswer == "Sorry but i dont know your Name") {
                    let name = document.getElementById("username-display");
                    response = {message: `${name.textContent}`};
                  } else if (newanswer.includes("(Username)")) {
                    let name = document.getElementById("username-display");
                    let text = newanswer.replace("(Username)", name.textContent);
                    response = {message: `${text}`};
                  } else {
                    response = {message: `${newanswer}`};
                  }
                } else {
                  response = {message: `${idkanswer}`};
                }
              }
            }
          }

          return response.message;
        } else if (chalange == "englisch") {
          const userQuestion = userMessage.toLowerCase();
          const knowledgeBase = await loadKnowledgeBase('knowledge_base.json');
          const questions = knowledgeBase.questions.map(q => q.question);
          const bestMatch2 = findBestMatch(userQuestion, questions);
          if (thequestion == "nothing") {
            await loadTasks();
            if (tasks.length === 0) {
              return 'No tasks available';
            }
            const randomTask = tasks[Math.floor(Math.random() * tasks.length)];
            thequestion = randomTask.Frage;
            theanswer = randomTask.Antwort;
            return thequestion;

          } else {
            if (userQuestion === theanswer) {
              if (tasks.length === 0) {
                return 'No tasks available';
              }
              const randomTask = tasks[Math.floor(Math.random() * tasks.length)];
              thequestion = randomTask.Frage;
              theanswer = randomTask.Antwort;
              return 'Richtig! hier ist die neue aufgabe. ' + thequestion;
            } else if (userQuestion.includes("idk")) {
              if (tasks.length === 0) {
                return 'No tasks available';
              }
              const randomTask = tasks[Math.floor(Math.random() * tasks.length)];
              thequestion = randomTask.Frage;
              theoldanswer = theanswer;
              theanswer = randomTask.Antwort;
              return 'die richtige antwort ist: ' + theoldanswer + ' hier ist die neue aufgabe ' + thequestion;
            } else if (userQuestion.includes("nächste aufgabe")) {
              if (tasks.length === 0) {
                return 'No tasks available';
              }
              const randomTask = tasks[Math.floor(Math.random() * tasks.length)];
              thequestion = randomTask.Frage;
              theoldanswer = theanswer;
              theanswer = randomTask.Antwort;
              return 'die richtige antwort ist: ' + theoldanswer + ' hier ist die neue aufgabe ' + thequestion;
            } else if (userQuestion.includes('zurück') && userQuestion.includes('chat')) {
              chalange = "nothing";
              clean();
              return "okay, du bist zurück im normalen gespräch";
            } else if (userQuestion.includes('gespräch') && userQuestion.includes('zurück')) {
              chalange = "nothing";
              clean();
              return "okay, du bist nun wieder im normalen gespräch";
            } else if (userQuestion.includes('mathe') && userQuestion.includes('lernen')) {
              chalange = "mathe";
              clean();
              return "okay, du lernst jetzt mathe";
            } else if (userQuestion.includes('mathe') && userQuestion.includes('üben')) {
              chalange = "mathe";
              clean();
              return "okay, du übst jetzt mathe";
            } else if (userQuestion.includes('learn') && userQuestion.includes('german')) {
              chalange = "german";
              clean();
              return "okay, you're going to learn german now. if you don't know the answer, just say 'idk' and i'll give you the next question. when answering please try avoiding any spaces at the beginning and end of the word and try not to use any symbols like: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, '";
            } else if (userQuestion.includes('practice') && userQuestion.includes('german')) {
              chalange = "german";
              clean();
              return "okay, you are going to practice german now. if you don't know the answer, just say 'idk' and i'll give you the next question. when answering please try avoiding any spaces at the beginning and end of the word and try not to use any symbols like: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, '";
            } else if (userQuestion.includes('learn') && userQuestion.includes('math')) {
              chalange = "math";
              clean();
              return "okay, you are going to learn math now. if you don't know the answer, just say 'idk' and i'll give you the next question.";
            } else if (userQuestion.includes('practice') && userQuestion.includes('math')) {
              chalange = "math";
              clean();
              return "okay, you are going to practice math now. if you don't know the answer, just say 'idk' and i'll give you the next question.";
            } else if (userQuestion.includes('play') && userQuestion.includes('quiz')) {
              chalange = "Equiz";
              clean();
              return "okay, you are going to play a quiz now. if you don't know the answer, just say 'idk' and i'll give you the next question.";
            } else if (userQuestion.includes('spielen') && userQuestion.includes('quiz')) {
              chalange = "Gquiz";
              clean();
              return "okay, du wirst nun ein quiz spielen. wenn du die antwort nicht kennst, sag einfach 'idk' und dann frage ich dir die nöchste frage.";
            } else if (userQuestion.includes("ja") && asktg == "yes") {
              aotink = "0";
              asktg = "no";
              chalange = "nothing";
              clean();
              return "okay, du bist zurück im normalen gespräch";
            } else if (userQuestion.includes("nein") && asktg == "yes") {
              aotink = "0";
              asktg = "no";
              chalange = "englisch";
              return "okay, du bist nicht zurück im normalen gespräch";
            } else if (bestMatch2) {
              const answer = getAnswerForQuestion(bestMatch2, knowledgeBase);
              if (answer == "Sorry but i dont know your Name") {
                let name = document.getElementById("username-display");
                response = {message: `${name.textContent}`};
              } else if (answer.includes("(Username)")) {
                let name = document.getElementById("username-display");
                let text = answer.replace("(Username)", name.textContent);
                response = {message: `${text}`};
              } else {
                response = {message: `${answer}`};
              }

              if (parseInt(aotink) + 1 == 7) {
                asktg = "yes";
                return "möchtest du die aufgaben ignorieren und in das normale gespräch zurück?";
              } else {
                aotink = parseInt(aotink) + 1;
                return response.message;
              }
            } else {
              let userQuestion3 = userQuestion.replace(" ?", "?");
              const knowledgeBase3 = await loadKnowledgeBase('knowledge_base.json');
              const questions3 = knowledgeBase.questions.map(q => q.question);
              const bestMatch3 = findBestMatch2(userQuestion3, questions3);
              if (bestMatch3) {
                const rnewanswer = getAnswerForQuestion(bestMatch3, knowledgeBase3);
                response = {message: `${rnewanswer}`};
              } else {
                response = {message: 'Noch nicht richtig! Versuche es erneut.'};
              }
              return response.message;

            }
          }

        } else if (chalange == "german") {
          const userQuestion = userMessage.toLowerCase();
          const knowledgeBase = await loadKnowledgeBase('knowledge_base.json');
          const questions = knowledgeBase.questions.map(q => q.question);
          const bestMatch2 = findBestMatch(userQuestion, questions);
          if (thequestion2 == "nothing") {
            await loadTasks2();
            if (tasks2.length === 0) {
              return 'No tasks available';
            }
            const randomTask2 = tasks2[Math.floor(Math.random() * tasks2.length)];
            thequestion2 = randomTask2.Frage;
            theanswer2 = randomTask2.Antwort;
            return thequestion2;

          } else {
            if (userQuestion == theanswer2) {
              if (tasks2.length === 0) {
                return 'No tasks available';
              }
              const randomTask2 = tasks2[Math.floor(Math.random() * tasks2.length)];
              thequestion2 = randomTask2.Frage;
              theanswer2 = randomTask2.Antwort;
              return 'correct! here you have a new question: ' + thequestion2;
            } else if (userQuestion.includes("idk")) {
              if (tasks2.length === 0) {
                return 'No tasks available';
              }
              const randomTask2 = tasks2[Math.floor(Math.random() * tasks2.length)];
              thequestion2 = randomTask2.Frage;
              theoldanswer2 = theanswer2;
              theanswer2 = randomTask2.Antwort;
              return 'the correct answer is: ' + theoldanswer2 + ' here you have a new question ' + thequestion2;
            } else if (userQuestion.includes("next question")) {
              if (tasks2.length === 0) {
                return 'No tasks available';
              }
              const randomTask2 = tasks2[Math.floor(Math.random() * tasks2.length)];
              thequestion2 = randomTask2.Frage;
              theoldanswer2 = theanswer2;
              theanswer2 = randomTask2.Antwort;
              return 'the correct answer is: ' + theoldanswer2 + ' here you have a new question ' + thequestion2;
            } else if (userQuestion.includes('englisch') && userQuestion.includes('lernen')) {
              chalange = "englisch";
              clean();
              return "okay, du lernst jetzt englisch. wenn du die antwort zur frage nicht weißt, schreibe 'idk' und ich werde dir die nächste aufgabe geben. versuche bei der übersetzung der wörter keine leerzeichen zu anfang und ende der wörter zu haben und versuche keine zeichen wie: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, ', zu benutzen";
            } else if (userQuestion.includes('englisch') && userQuestion.includes('üben')) {
              chalange = "englisch";
              clean();
              return "okay, du übst jetzt englisch. wenn du die antwort zur frage nicht weißt, schreibe 'idk' und ich werde dir die nächste aufgabe geben. versuche bei der übersetzung der wörter keine leerzeichen zu anfang und ende der wörter zu haben und versuche keine zeichen wie: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, ', zu benutzen";
            } else if (userQuestion.includes('mathe') && userQuestion.includes('lernen')) {
              chalange = "mathe";
              clean();
              return "okay, du lernst jetzt mathe. wenn du die antwort zur frage nicht weißt, schreibe 'idk' und ich werde dir die nächte aufgabe geben";
            } else if (userQuestion.includes('mathe') && userQuestion.includes('üben')) {
              chalange = "mathe";
              clean();
              return "okay, du übst jetzt mathe. wenn du die antwort zur frage nicht weißt, schreibe 'idk' und ich werde dir die nächte aufgabe geben";
            } else if (userQuestion.includes('back') && userQuestion.includes('chat')) {
              chalange = "nothing";
              clean();
              return "okay, you're back in the normal chat";
            } else if (userQuestion.includes('normal') && userQuestion.includes('chat')) {
              chalange = "nothing";
              clean();
              return "okay, you are back in the normal chat";
            } else if (userQuestion.includes('learn') && userQuestion.includes('math')) {
              chalange = "math";
              clean();
              return "okay, you are going to learn math now. if you don't know the answer, just say 'idk' and i'll give you the next question.";
            } else if (userQuestion.includes('practice') && userQuestion.includes('math')) {
              chalange = "math";
              clean();
              return "okay, you are going to practice math now. if you don't know the answer, just say 'idk' and i'll give you the next question.";
            } else if (userQuestion.includes('play') && userQuestion.includes('quiz')) {
              chalange = "Equiz";
              clean();
              return "okay, you are going to play a quiz now. if you don't know the answer, just say 'idk' and i'll give you the next question.";
            } else if (userQuestion.includes('spielen') && userQuestion.includes('quiz')) {
              chalange = "Gquiz";
              clean();
              return "okay, du wirst nun ein quiz spielen. wenn du die antwort nicht kennst, sag einfach 'idk' und dann frage ich dir die nöchste frage.";
            } else if (userQuestion.includes("yes") && asktg == "yes") {
              aotink = "0";
              asktg = "no";
              chalange = "nothing";
              clean();
              return "okay, you are back in the normal chat";
            } else if (userQuestion.includes("no") && asktg == "yes") {
              aotink = "0";
              asktg = "no";
              chalange = "german";
              return "okay, you are not back in the normal chat";
            } else if (bestMatch2) {
              const answer = getAnswerForQuestion(bestMatch2, knowledgeBase);
              if (answer == "Sorry but i dont know your Name") {
                let name = document.getElementById("username-display");
                response = {message: `${name.textContent}`};
              } else if (answer.includes("(Username)")) {
                let name = document.getElementById("username-display");
                let text = answer.replace("(Username)", name.textContent);
                response = {message: `${text}`};
              } else {
                response = {message: `${answer}`};
              }
              if (parseInt(aotink) + 1 == 7) {
                asktg = "yes";
                return "do you want to ignore the tasks and go back to the normal chat?";
              } else {
                aotink = parseInt(aotink) + 1;
                return response.message;
              }
            } else {
              let userQuestion3 = userQuestion.replace(" ?", "?");
              const knowledgeBase3 = await loadKnowledgeBase('knowledge_base.json');
              const questions3 = knowledgeBase.questions.map(q => q.question);
              const bestMatch3 = findBestMatch2(userQuestion3, questions3);
              if (bestMatch3) {
                const rnewanswer = getAnswerForQuestion(bestMatch3, knowledgeBase3);
                response = {message: `${rnewanswer}`};
              } else {
                response = {message: 'Not right yet! try again.'};
              }
              /*return response.message;*/
              return response.message;
            }
          }

        } else if (chalange == "mathe") {
          const userQuestion = userMessage.toLowerCase();
          const knowledgeBase = await loadKnowledgeBase('knowledge_base.json');
          const questions = knowledgeBase.questions.map(q => q.question);
          const bestMatch2 = findBestMatch(userQuestion, questions);
          if (themathquestion == "" && userQuestion.includes("leicht")) {
            // create random math question
            num1 = Math.floor(Math.random() * 10) + 1;
            num2 = Math.floor(Math.random() * 10) + 1;
            operator = ['+', '-'][Math.floor(Math.random() * 2)];
            themathquestion = `${num1} ${operator} ${num2}`;
            themathanswer = eval(`${num1} ${operator} ${num2}`);
            leicht1 = "leicht";
            return themathquestion;
            // if the user question == the answer to the mathematical question, return "correct"

          } else if (themathquestion == "" && !userQuestion.includes("leicht")) {
            // create random math question
            num1 = Math.floor(Math.random() * 10) + 1;
            num2 = Math.floor(Math.random() * 10) + 1;
            operator = ['+', '-', '*', '/'][Math.floor(Math.random() * 4)];
            themathquestion = `${num1} ${operator} ${num2}`;
            themathanswer = eval(`${num1} ${operator} ${num2}`);
            return themathquestion;
            // if the user question == the answer to the mathematical question, return "correct"

          } else if (userQuestion == themathanswer && leicht1 != "leicht") {
            // create random math question
            num1 = Math.floor(Math.random() * 10) + 1;
            num2 = Math.floor(Math.random() * 10) + 1;
            operator = ['+', '-', '*', '/'][Math.floor(Math.random() * 4)];
            themathquestion = `${num1} ${operator} ${num2}`;
            themathanswer = eval(`${num1} ${operator} ${num2}`);
            return 'Richtig! hier hast du die nächste aufgabe ' + themathquestion;
          } else if (userQuestion == themathanswer && leicht1 == "leicht") {
            // create random math question
            num1 = Math.floor(Math.random() * 10) + 1;
            num2 = Math.floor(Math.random() * 10) + 1;
            operator = ['+', '-'][Math.floor(Math.random() * 2)];
            themathquestion = `${num1} ${operator} ${num2}`;
            themathanswer = eval(`${num1} ${operator} ${num2}`);
            return 'Richtig! hier hast du die nächste aufgabe ' + themathquestion;
          } else if (themathquestion != "" && userQuestion.includes("idk") && leicht1 != "leicht") {
            let oldnum1 = num1;
            let oldnum2 = num2;
            let oldoperator = operator;
            num1 = Math.floor(Math.random() * 10) + 1;
            num2 = Math.floor(Math.random() * 10) + 1;
            operator = ['+', '-', '*', '/'][Math.floor(Math.random() * 4)];
            theoldmathanswer = themathanswer;
            themathquestion = `${num1} ${operator} ${num2}`;
            themathanswer = eval(`${num1} ${operator} ${num2}`);
            //the oldmathanswer to string
            let theoldmathanswer2 = theoldmathanswer.toString();
            if (oldoperator == "*") {
              return "die richtige antwort ist: " + theoldmathanswer + ". " + "wenn du " + oldnum1 + " finger hast und jeder finger den wert von " + oldnum2 + " hat, Addierst du jeden finger mit einander bis keine finger mehr übrig sind und dann hast du das ergebniss" + ". die neue frage ist: " + themathquestion;
            } else if (oldoperator == "/") {
              return "die richtige antwort ist: " + theoldmathanswer + ". " + " du musst einfach gucken wie oft die zahl " + oldnum2 + " in die zahl " + oldnum1 + " passt" + ". die neue aufgabe ist: " + themathquestion;
            } else if (theoldmathanswer2.includes("-")) {
              return "die richtige antwort ist: " + theoldmathanswer + ". " + " weil " + oldnum2 + " größer als " + oldnum1 + " ist, müssen wir die zahlen einfach umdrehen. also " + oldnum2 + " - " + oldnum1 + " und dann müssen wir einfach das Subtraktions zeichen am anfang der zahl hinzufügen. die neue aufgabe ist: " + themathquestion;
            } else {
              return "die richtige antwort ist: " + theoldmathanswer + ". die neue aufgabe ist: " + themathquestion;
            }
          } else if (themathquestion != "" && userQuestion.includes("idk") && leicht1 == "leicht") {
            let oldnum1 = num1;
            let oldnum2 = num2;
            let oldoperator = operator;
            num1 = Math.floor(Math.random() * 10) + 1;
            num2 = Math.floor(Math.random() * 10) + 1;
            operator = ['+', '-'][Math.floor(Math.random() * 2)];
            theoldmathanswer = themathanswer;
            themathquestion = `${num1} ${operator} ${num2}`;
            themathanswer = eval(`${num1} ${operator} ${num2}`);
            let theoldmathanswer2 = theoldmathanswer.toString();
            if (oldoperator == "*") {
              return "die richtige antwort ist: " + theoldmathanswer + ". " + "wenn du " + oldnum1 + " finger hast und jeder finger den wert von " + oldnum2 + " hat, Addierst du jeden finger mit einander bis keine finger mehr übrig sind und dann hast du das ergebniss" + ". die neue frage ist: " + themathquestion;
            } else if (oldoperator == "/") {
              return "die richtige antwort ist: " + theoldmathanswer + ". " + " du musst einfach gucken wie oft die zahl " + oldnum2 + " in die zahl " + oldnum1 + " passt" + ". die neue aufgabe ist: " + themathquestion;
            } else if (theoldmathanswer2.includes("-")) {
              return "die richtige antwort ist: " + theoldmathanswer + ". " + " weil " + oldnum2 + " größer als " + oldnum1 + " ist, müssen wir die zahlen einfach umdrehen. also " + oldnum2 + " - " + oldnum1 + " und dann müssen wir einfach das Subtraktions zeichen am anfang der zahl hinzufügen. die neue aufgabe ist: " + themathquestion;
            } else {
              return "die richtige antwort ist: " + theoldmathanswer + ". die neue aufgabe ist: " + themathquestion;
            }
          } else if (themathquestion != "" && userQuestion.includes("nächste aufgabe") && leicht1 != "leicht") {
            let oldnum1 = num1;
            let oldnum2 = num2;
            let oldoperator = operator;
            num1 = Math.floor(Math.random() * 10) + 1;
            num2 = Math.floor(Math.random() * 10) + 1;
            operator = ['+', '-', '*', '/'][Math.floor(Math.random() * 4)];
            theoldmathanswer = themathanswer;
            themathquestion = `${num1} ${operator} ${num2}`;
            themathanswer = eval(`${num1} ${operator} ${num2}`);
            //the oldmathanswer to string
            let theoldmathanswer2 = theoldmathanswer.toString();
            if (oldoperator == "*") {
              return "die richtige antwort ist: " + theoldmathanswer + ". " + "wenn du " + oldnum1 + " finger hast und jeder finger den wert von " + oldnum2 + " hat, Addierst du jeden finger mit einander bis keine finger mehr übrig sind und dann hast du das ergebniss" + ". die neue frage ist: " + themathquestion;
            } else if (oldoperator == "/") {
              return "die richtige antwort ist: " + theoldmathanswer + ". " + " du musst einfach gucken wie oft die zahl " + oldnum2 + " in die zahl " + oldnum1 + " passt" + ". die neue aufgabe ist: " + themathquestion;
            } else if (theoldmathanswer2.includes("-")) {
              return "die richtige antwort ist: " + theoldmathanswer + ". " + " weil " + oldnum2 + " größer als " + oldnum1 + " ist, müssen wir die zahlen einfach umdrehen. also " + oldnum2 + " - " + oldnum1 + " und dann müssen wir einfach das Subtraktions zeichen am anfang der zahl hinzufügen. die neue aufgabe ist: " + themathquestion;
            } else {
              return "die richtige antwort ist: " + theoldmathanswer + ". die neue aufgabe ist: " + themathquestion;
            }
          } else if (themathquestion != "" && userQuestion.includes("nächste aufgabe") && leicht1 == "leicht") {
            let oldnum1 = num1;
            let oldnum2 = num2;
            let oldoperator = operator;
            num1 = Math.floor(Math.random() * 10) + 1;
            num2 = Math.floor(Math.random() * 10) + 1;
            operator = ['+', '-'][Math.floor(Math.random() * 2)];
            theoldmathanswer = themathanswer;
            themathquestion = `${num1} ${operator} ${num2}`;
            themathanswer = eval(`${num1} ${operator} ${num2}`);
            let theoldmathanswer2 = theoldmathanswer.toString();
            if (oldoperator == "*") {
              return "die richtige antwort ist: " + theoldmathanswer + ". " + "wenn du " + oldnum1 + " finger hast und jeder finger den wert von " + oldnum2 + " hat, Addierst du jeden finger mit einander bis keine finger mehr übrig sind und dann hast du das ergebniss" + ". die neue frage ist: " + themathquestion;
            } else if (oldoperator == "/") {
              return "die richtige antwort ist: " + theoldmathanswer + ". " + " du musst einfach gucken wie oft die zahl " + oldnum2 + " in die zahl " + oldnum1 + " passt" + ". die neue aufgabe ist: " + themathquestion;
            } else if (theoldmathanswer2.includes("-")) {
              return "die richtige antwort ist: " + theoldmathanswer + ". " + " weil " + oldnum2 + " größer als " + oldnum1 + " ist, müssen wir die zahlen einfach umdrehen. also " + oldnum2 + " - " + oldnum1 + " und dann müssen wir einfach das Subtraktions zeichen am anfang der zahl hinzufügen. die neue aufgabe ist: " + themathquestion;
            } else {
              return "die richtige antwort ist: " + theoldmathanswer + ". die neue aufgabe ist: " + themathquestion;
            }
          } else if (userQuestion.includes('englisch') && userQuestion.includes('lernen')) {
            chalange = "englisch";
            clean();
            return "okay, du lernst jetzt englisch. wenn du die antwort zur frage nicht weißt, schreibe 'idk' und ich werde dir die nächste aufgabe geben. versuche bei der übersetzung der wörter keine leerzeichen zu anfang und ende der wörter zu haben und versuche keine zeichen wie: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, ', zu benutzen";
          } else if (userQuestion.includes('englisch') && userQuestion.includes('üben')) {
            chalange = "englisch";
            clean();
            return "okay, du übst jetzt englisch. wenn du die antwort zur frage nicht weißt, schreibe 'idk' und ich werde dir die nächste aufgabe geben. versuche bei der übersetzung der wörter keine leerzeichen zu anfang und ende der wörter zu haben und versuche keine zeichen wie: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, ', zu benutzen";
          } else if (userQuestion.includes('zu') && userQuestion.includes('gespräch')) {
            chalange = "nothing";
            clean();
            return "okay, du bist nun wieder im normalen gespräch";
          } else if (userQuestion.includes('zurück') && userQuestion.includes('chat')) {
            chalange = "nothing";
            clean();
            return "okay, du bist zurück im normalen chat";
          } else if (userQuestion.includes('learn') && userQuestion.includes('german')) {
            chalange = "german";
            clean();
            return "okay, you're going to learn german now. if you don't know the answer, just say 'idk' and i'll give you the next question. when answering please try avoiding any spaces at the beginning and end of the word and try not to use any symbols like: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, '";
          } else if (userQuestion.includes('practice') && userQuestion.includes('german')) {
            chalange = "german";
            clean();
            return "okay, you are going to practice german now. if you don't know the answer, just say 'idk' and i'll give you the next question. when answering please try avoiding any spaces at the beginning and end of the word and try not to use any symbols like: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, '";
          } else if (userQuestion.includes('learn') && userQuestion.includes('math')) {
            chalange = "math";
            clean();
            return "okay, you are going to learn math now. if you don't know the answer, just say 'idk' and i'll give you the next question.";
          } else if (userQuestion.includes('practice') && userQuestion.includes('math')) {
            chalange = "math";
            clean();
            return "okay, you are going to practice math now. if you don't know the answer, just say 'idk' and i'll give you the next question";
          } else if (userQuestion.includes('play') && userQuestion.includes('quiz')) {
            chalange = "Equiz";
            clean();
            return "okay, you are going to play a quiz now. if you don't know the answer, just say 'idk' and i'll give you the next question.";
          } else if (userQuestion.includes('spielen') && userQuestion.includes('quiz')) {
            chalange = "Gquiz";
            clean();
            return "okay, du wirst nun ein quiz spielen. wenn du die antwort nicht kennst, sag einfach 'idk' und dann frage ich dir die nöchste frage.";
          } else if (userQuestion.includes("ja") && asktg == "yes") {
            aotink = "0";
            asktg = "no";
            chalange = "nothing";
            clean();
            return "okay, du bist zurück im normalen gespräch";
          } else if (userQuestion.includes("nein") && asktg == "yes") {
            aotink = "0";
            asktg = "no";
            chalange = "mathe";
            return "okay, du bist nicht zurück im normalen gespräch";
          } else if (bestMatch2) {
            const answer = getAnswerForQuestion(bestMatch2, knowledgeBase);
            if (answer == "Sorry but i dont know your Name") {
              let name = document.getElementById("username-display");
              response = {message: `${name.textContent}`};
            } else if (answer.includes("(Username)")) {
              let name = document.getElementById("username-display");
              let text = answer.replace("(Username)", name.textContent);
              response = {message: `${text}`};
            } else {
              response = {message: `${answer}`};
            }
            /*return response.message;*/
            if (parseInt(aotink) + 1 == 7) {
              asktg = "yes";
              return "möchtest du die aufgaben ignorieren und wieder ins normale gespräch?";
            } else {
              aotink = parseInt(aotink) + 1;
              return response.message;
            }
          } else {
            let userQuestion3 = userQuestion.replace(" ?", "?");
            const knowledgeBase3 = await loadKnowledgeBase('knowledge_base.json');
            const questions3 = knowledgeBase.questions.map(q => q.question);
            const bestMatch3 = findBestMatch2(userQuestion3, questions3);
            if (bestMatch3) {
              const rnewanswer = getAnswerForQuestion(bestMatch3, knowledgeBase3);
              response = {message: `${rnewanswer}`};
            } else {
              response = {message: 'Noch nicht richtig! Versuchen es erneut.'};
            }
            return response.message;
          }
        } else if (chalange == "math") {
          const userQuestion = userMessage.toLowerCase();
          const knowledgeBase = await loadKnowledgeBase('knowledge_base.json');
          const questions = knowledgeBase.questions.map(q => q.question);
          const bestMatch2 = findBestMatch(userQuestion, questions);
          if (themathquestion == "" && !userQuestion.includes("easy")) {
            // create random math question
            num1 = Math.floor(Math.random() * 10) + 1;
            num2 = Math.floor(Math.random() * 10) + 1;
            operator = ['+', '-', '*', '/'][Math.floor(Math.random() * 4)];
            themathquestion = `${num1} ${operator} ${num2}`;
            themathanswer = eval(`${num1} ${operator} ${num2}`);
            return themathquestion;
            // if the user question == the answer to the mathematical question, return "correct"

          } else if (themathquestion == "" && userQuestion.includes("easy")) {
            // create random math question
            num1 = Math.floor(Math.random() * 10) + 1;
            num2 = Math.floor(Math.random() * 10) + 1;
            operator = ['+', '-'][Math.floor(Math.random() * 2)];
            themathquestion = `${num1} ${operator} ${num2}`;
            themathanswer = eval(`${num1} ${operator} ${num2}`);
            leicht2 = "easy";
            return themathquestion;
            // if the user question == the answer to the mathematical question, return "correct"

          } else if (userQuestion == themathanswer && leicht2 != "easy") {
            // create random math question
            num1 = Math.floor(Math.random() * 10) + 1;
            num2 = Math.floor(Math.random() * 10) + 1;
            operator = ['+', '-', '*', '/'][Math.floor(Math.random() * 4)];
            themathquestion = `${num1} ${operator} ${num2}`;
            themathanswer = eval(`${num1} ${operator} ${num2}`);
            return 'correct! there you have the next question: ' + themathquestion;
          } else if (userQuestion == themathanswer && leicht2 == "easy") {
            // create random math question
            num1 = Math.floor(Math.random() * 10) + 1;
            num2 = Math.floor(Math.random() * 10) + 1;
            operator = ['+', '-'][Math.floor(Math.random() * 2)];
            themathquestion = `${num1} ${operator} ${num2}`;
            themathanswer = eval(`${num1} ${operator} ${num2}`);
            return 'correct! there you have the next question: ' + themathquestion;
          } else if (themathquestion != "" && userQuestion.includes("idk") && leicht2 != "easy") {
            let oldnum1 = num1;
            let oldnum2 = num2;
            let oldoperator = operator;
            num1 = Math.floor(Math.random() * 10) + 1;
            num2 = Math.floor(Math.random() * 10) + 1;
            operator = ['+', '-', '*', '/'][Math.floor(Math.random() * 4)];
            theoldmathanswer = themathanswer;
            themathquestion = `${num1} ${operator} ${num2}`;
            themathanswer = eval(`${num1} ${operator} ${num2}`);
            let theoldmathanswer2 = theoldmathanswer.toString();
            if (oldoperator == "*") {
              return "the right answer is: " + theoldmathanswer + ". " + "if you have " + oldnum1 + " fingers and every finger has the value of " + oldnum2 + " just Add each finger together until there are no more fingers left and you have the result. " + ". the new question is: " + themathquestion;
            } else if (oldoperator == "/") {
              return "the right answer is: " + theoldmathanswer + ". " + " you just have to see how often " + oldnum2 + " fits in " + oldnum1 + ". the new question is: " + themathquestion;
            } else if (theoldmathanswer2.includes("-")) {
              return "the right answer is: " + theoldmathanswer + ". " + " because " + oldnum2 + " is larger than " + oldnum1 + " we just turn the numbers around and Subtract " + oldnum1 + " from " + oldnum2 + " and add the Subtraction sign on the beginning of the number" + ". the new question is: " + themathquestion;
            } else {
              return "the right answer is: " + theoldmathanswer + ". the new question is: " + themathquestion;
            }
          } else if (themathquestion != "" && userQuestion.includes("idk") && leicht2 == "easy") {
            let oldnum1 = num1;
            let oldnum2 = num2;
            let oldoperator = operator;
            num1 = Math.floor(Math.random() * 10) + 1;
            num2 = Math.floor(Math.random() * 10) + 1;
            operator = ['+', '-'][Math.floor(Math.random() * 2)];
            theoldmathanswer = themathanswer;
            themathquestion = `${num1} ${operator} ${num2}`;
            themathanswer = eval(`${num1} ${operator} ${num2}`);
            let theoldmathanswer2 = theoldmathanswer.toString();
            if (oldoperator == "*") {
              return "the right answer is: " + theoldmathanswer + ". " + "if you have " + oldnum1 + " fingers and every finger has the value of " + oldnum2 + " just Add each finger together until there are no more fingers left and you have the result. " + ". the new question is: " + themathquestion;
            } else if (oldoperator == "/") {
              return "the right answer is: " + theoldmathanswer + ". " + " you just have to see how often " + oldnum2 + " fits in " + oldnum1 + ". the new question is: " + themathquestion;
            } else if (theoldmathanswer2.includes("-")) {
              return "the right answer is: " + theoldmathanswer + ". " + " because " + oldnum2 + " is larger than " + oldnum1 + " we just turn the numbers around and Subtract " + oldnum1 + " from " + oldnum2 + " and add the Subtraction sign on the beginning of the number" + ". the new question is: " + themathquestion;
            } else {
              return "the right answer is: " + theoldmathanswer + ". the new question is: " + themathquestion;
            }

          } else if (themathquestion != "" && userQuestion.includes("next question") && leicht2 != "easy") {
            let oldnum1 = num1;
            let oldnum2 = num2;
            let oldoperator = operator;
            num1 = Math.floor(Math.random() * 10) + 1;
            num2 = Math.floor(Math.random() * 10) + 1;
            operator = ['+', '-', '*', '/'][Math.floor(Math.random() * 4)];
            theoldmathanswer = themathanswer;
            themathquestion = `${num1} ${operator} ${num2}`;
            themathanswer = eval(`${num1} ${operator} ${num2}`);
            let theoldmathanswer2 = theoldmathanswer.toString();
            if (oldoperator == "*") {
              return "the right answer is: " + theoldmathanswer + ". " + "if you have " + oldnum1 + " fingers and every finger has the value of " + oldnum2 + " just Add each finger together until there are no more fingers left and you have the result. " + ". the new question is: " + themathquestion;
            } else if (oldoperator == "/") {
              return "the right answer is: " + theoldmathanswer + ". " + " you just have to see how often " + oldnum2 + " fits in " + oldnum1 + ". the new question is: " + themathquestion;
            } else if (theoldmathanswer2.includes("-")) {
              return "the right answer is: " + theoldmathanswer + ". " + " because " + oldnum2 + " is larger than " + oldnum1 + " we just turn the numbers around and Subtract " + oldnum1 + " from " + oldnum2 + " and add the Subtraction sign on the beginning of the number" + ". the new question is: " + themathquestion;
            } else {
              return "the right answer is: " + theoldmathanswer + ". the new question is: " + themathquestion;
            }
          } else if (themathquestion != "" && userQuestion.includes("question") && leicht2 == "easy") {
            let oldnum1 = num1;
            let oldnum2 = num2;
            let oldoperator = operator;
            num1 = Math.floor(Math.random() * 10) + 1;
            num2 = Math.floor(Math.random() * 10) + 1;
            operator = ['+', '-'][Math.floor(Math.random() * 2)];
            theoldmathanswer = themathanswer;
            themathquestion = `${num1} ${operator} ${num2}`;
            themathanswer = eval(`${num1} ${operator} ${num2}`);
            let theoldmathanswer2 = theoldmathanswer.toString();
            if (oldoperator == "*") {
              return "the right answer is: " + theoldmathanswer + ". " + "if you have " + oldnum1 + " fingers and every finger has the value of " + oldnum2 + " just Add each finger together until there are no more fingers left and you have the result. " + ". the new question is: " + themathquestion;
            } else if (oldoperator == "/") {
              return "the right answer is: " + theoldmathanswer + ". " + " you just have to see how often " + oldnum2 + " fits in " + oldnum1 + ". the new question is: " + themathquestion;
            } else if (theoldmathanswer2.includes("-")) {
              return "the right answer is: " + theoldmathanswer + ". " + " because " + oldnum2 + " is larger than " + oldnum1 + " we just turn the numbers around and Subtract " + oldnum1 + " from " + oldnum2 + " and add the Subtraction sign on the beginning of the number" + ". the new question is: " + themathquestion;
            } else {
              return "the right answer is: " + theoldmathanswer + ". the new question is: " + themathquestion;
            }

          } else if (userQuestion.includes('englisch') && userQuestion.includes('lernen')) {
            chalange = "englisch";
            clean();
            return "okay, du lernst jetzt englisch. wenn du die antwort zur frage nicht weißt, schreibe 'idk' und ich werde dir die nächste aufgabe geben. versuche bei der übersetzung der wörter keine leerzeichen zu anfang und ende der wörter zu haben und versuche keine zeichen wie: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, ', zu benutzen";
          } else if (userQuestion.includes('englisch') && userQuestion.includes('üben')) {
            chalange = "englisch";
            clean();
            return "okay, du übst jetzt englisch. wenn du die antwort zur frage nicht weißt, schreibe 'idk' und ich werde dir die nächste aufgabe geben. versuche bei der übersetzung der wörter keine leerzeichen zu anfang und ende der wörter zu haben und versuche keine zeichen wie: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, ', zu benutzen";
          } else if (userQuestion.includes('mathe') && userQuestion.includes('lernen')) {
            chalange = "mathe";
            clean();
            return "okay, du lernst jetzt mathe. wenn du die antwort zur frage nicht weißt, schreibe 'idk' und ich werde dir die nächte aufgabe geben";
          } else if (userQuestion.includes('mathe') && userQuestion.includes('üben')) {
            chalange = "mathe";
            clean();
            return "okay, du übst jetzt mathe. wenn du die antwort zur frage nicht weißt, schreibe 'idk' und ich werde dir die nächte aufgabe geben";
          } else if (userQuestion.includes('learn') && userQuestion.includes('german')) {
            chalange = "german";
            clean();
            return "okay, you're going to learn german now. if you don't know the answer, just say 'idk' and i'll give you the next question. when answering please try avoiding any spaces at the beginning and end of the word and try not to use any symbols like: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, '";
          } else if (userQuestion.includes('practice') && userQuestion.includes('german')) {
            chalange = "german";
            clean();
            return "okay, you are going to practice german now. if you don't know the answer, just say 'idk' and i'll give you the next question. when answering please try avoiding any spaces at the beginning and end of the word and try not to use any symbols like: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, '";
          } else if (userQuestion.includes('play') && userQuestion.includes('quiz')) {
            chalange = "Equiz";
            clean();
            return "okay, you are going to play a quiz now. if you don't know the answer, just say 'idk' and i'll give you the next question.";
          } else if (userQuestion.includes('spielen') && userQuestion.includes('quiz')) {
            chalange = "Gquiz";
            clean();
            return "okay, du wirst nun ein quiz spielen. wenn du die antwort nicht kennst, sag einfach 'idk' und dann frage ich dir die nöchste frage.";
          } else if (userQuestion.includes('back') && userQuestion.includes('chat')) {
            chalange = "nothing";
            clean();
            return "okay, you are back in the normal chat now";
          } else if (userQuestion.includes('normal') && userQuestion.includes('chat')) {
            chalange = "nothing";
            clean();
            return "okay, you're in the normal chat now";
          } else if (userQuestion.includes("yes") && asktg == "yes") {
            aotink = "0";
            asktg = "no";
            chalange = "nothing";
            clean();
            return "okay, you're back in the normal chat now";
          } else if (userQuestion.includes("no") && asktg == "yes") {
            aotink = "0";
            asktg = "no";
            chalange = "math";
            return "okay, you are not back in the normal chat";
          } else if (bestMatch2) {
            const answer = getAnswerForQuestion(bestMatch2, knowledgeBase);
            if (answer == "Sorry but i dont know your Name") {
              let name = document.getElementById("username-display");
              response = {message: `${name.textContent}`};
            } else if (answer.includes("(Username)")) {
              let name = document.getElementById("username-display");
              let text = answer.replace("(Username)", name.textContent);
              response = {message: `${text}`};
            } else {
              response = {message: `${answer}`};
            }
            if (parseInt(aotink) + 1 == 7) {
              asktg = "yes";
              return "do you want to ignore the tasks and go back to the normal chat?";
            } else {
              aotink = parseInt(aotink) + 1;
              return response.message;
            }
          } else {
            let userQuestion3 = userQuestion.replace(" ?", "?");
            const knowledgeBase3 = await loadKnowledgeBase('knowledge_base.json');
            const questions3 = knowledgeBase.questions.map(q => q.question);
            const bestMatch3 = findBestMatch2(userQuestion3, questions3);
            if (bestMatch3) {
              const rnewanswer = getAnswerForQuestion(bestMatch3, knowledgeBase3);
              response = {message: `${rnewanswer}`};
            } else {
              response = {message: 'Not right yet! try again.'};
            }
            return response.message;
          }
        } else if (chalange === "Equiz") {
              const userQuestion = userMessage.toLowerCase();
              const knowledgeBase = await loadKnowledgeBase('knowledge_base.json');
              const questions = knowledgeBase.questions.map(q => q.question);
              const bestMatch2 = findBestMatch(userQuestion, questions);

              const getRandomQuestion = () => {
                  let randomQQ;
                  do {
                      randomQQ = EquizV[Math.floor(Math.random() * EquizV.length)];
                  } while (EquizIndex.includes(randomQQ.Frage) && EquizIndex.length < EquizV.length);
                  return randomQQ;
              };

              const generateNewQuestion = () => {
                  if (EquizV.length === 0) return 'No tasks available';
                  if (EquizIndex.length >= EquizV.length) {
                      isaskingitc = "yes";
                      return 'Do you want to repeat the quiz?';
                  }
                  const randomQQ = getRandomQuestion();
                  thequestion = randomQQ.Frage;
                  theanswer = randomQQ.Antwort;
                  EquizIndex.push(thequestion);
                  return thequestion;
              };

              if (thequestion === "nothing") {
                  await EQquiz();
                  return generateNewQuestion();
              } else {
                  if (isaskingitc != "no" && userQuestion.includes('yes')) {
                    isaskingitc = "no";
                    EquizIndex = [];
                    await EQquiz();
                    if (EquizIndex.length === 0){
                      const randomQQ = getRandomQuestion();
                      thequestion = randomQQ.Frage;
                      const theoldanswer = theanswer;
                      theanswer = randomQQ.Antwort;
                      EquizIndex.push(thequestion);
                      return 'Okay, you\'re going to repeat the quiz now! Here is the new question: ' + thequestion;
                    }
                  } else if (isaskingitc != "no" && userQuestion.includes('no')) {
                    chalange = "nothing";
                    isaskingitc = "no";
                    clean();
                    EquizIndex = [];
                    return "Okay, you're not going to repeat the quiz now! You are back in the normal chat.";
                  } else if (userQuestion === theanswer) {
                      return 'great 🎉! Here is the next question: ' + generateNewQuestion();
                  } else if (userQuestion.includes("idk")) {
                      if (EquizV.length === 0) return 'No tasks available';
                      const randomQQ = getRandomQuestion();
                      let saythefollowing = randomQQ.Frage;
                      if (EquizIndex.length >= EquizV.length) {
                          isaskingitc = "yes";
                          saythefollowing = 'Do you want to repeat the quiz?';
                      }
                      const theoldanswer = theanswer;
                      theanswer = randomQQ.Antwort;
                      EquizIndex.push(thequestion);
                      return 'The correct answer is: ' + theoldanswer + '. Here is the next question: ' + saythefollowing;
                  } else if (userQuestion.includes("next question")) {
                      if (EquizV.length === 0) return 'No tasks available';
                      const randomQQ = getRandomQuestion();
                      const theoldanswer = theanswer;
                      theanswer = randomQQ.Antwort;
                      EquizIndex.push(thequestion);
                      return 'okay, here is the next answer: ' + theoldanswer + '. here is the next question: ' + randomQQ.Frage;
                  } else if (userQuestion.includes('back') && userQuestion.includes('chat')) {
                      chalange = "nothing";
                      clean();
                      return "Okay, you are back in the normal chat now.";
                  } else if (userQuestion.includes('back') && userQuestion.includes('conversation')) {
                      chalange = "nothing";
                      clean();
                      return "Okay, you are back in the normal conversation.";
                  } else if (userQuestion.includes('mathe') && userQuestion.includes('lernen')) {
                      chalange = "mathe";
                      clean();
                      return "Okay, du lernst jetzt Mathe.";
                  } else if (userQuestion.includes('mathe') && userQuestion.includes('üben')) {
                      chalange = "mathe";
                      clean();
                      return "Okay, du übst jetzt Mathe.";
                  } else if (userQuestion.includes('learn') && userQuestion.includes('german')) {
                      chalange = "german";
                      clean();
                      return "Okay, you're going to learn German now. If you don't know the answer, just say 'idk' and I'll give you the next question. When answering, please avoid any spaces at the beginning and end of the word and try not to use any symbols like: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, '";
                  } else if (userQuestion.includes('practice') && userQuestion.includes('german')) {
                      chalange = "german";
                      clean();
                      return "Okay, you are going to practice German now. If you don't know the answer, just say 'idk' and I'll give you the next question. When answering, please avoid any spaces at the beginning and end of the word and try not to use any symbols like: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, '";
                  } else if (userQuestion.includes('learn') && userQuestion.includes('math')) {
                      chalange = "math";
                      clean();
                      return "Okay, you are going to learn math now. If you don't know the answer, just say 'idk' and I'll give you the next question.";
                  } else if (userQuestion.includes('practice') && userQuestion.includes('math')) {
                      chalange = "math";
                      clean();
                      return "Okay, you are going to practice math now. If you don't know the answer, just say 'idk' and I'll give you the next question.";
                  } else if (userQuestion.includes('spielen') && userQuestion.includes('quiz')) {
                    chalange = "Gquiz";
                    clean();
                    return "okay, du wirst nun ein quiz spielen. wenn du die antwort nicht kennst, sag einfach 'idk' und dann frage ich dir die nöchste frage.";
                  } else if (userQuestion.includes("yes") && asktg === "yes") {
                      aotink = "0";
                      asktg = "no";
                      chalange = "nothing";
                      clean();
                      return "Okay, you are back in the normal conversation.";
                  } else if (userQuestion.includes("no") && asktg === "yes") {
                      aotink = "0";
                      asktg = "no";
                      chalange = "englisch";
                      return "Okay, you are not back in the normal conversation.";
                  } else if (bestMatch2) {
                      const answer = getAnswerForQuestion(bestMatch2, knowledgeBase);
                      if (answer === "Sorry but I don't know your name") {
                          let name = document.getElementById("username-display");
                          response = { message: `${name.textContent}` };
                      } else if (answer.includes("(Username)")) {
                          let name = document.getElementById("username-display");
                          let text = answer.replace("(Username)", name.textContent);
                          response = { message: `${text}` };
                      } else {
                          response = { message: `${answer}` };
                      }

                      if (parseInt(aotink) + 1 === 7) {
                          asktg = "yes";
                          return "do you want to ignore the question and go back to the normal conversation?";
                      } else {
                          aotink = parseInt(aotink) + 1;
                          return response.message;
                      }
                  } else {
                      let userQuestion3 = userQuestion.replace(" ?", "?");
                      const knowledgeBase3 = await loadKnowledgeBase('knowledge_base.json');
                      const questions3 = knowledgeBase3.questions.map(q => q.question);
                      const bestMatch3 = findBestMatch2(userQuestion3, questions3);
                      if (bestMatch3) {
                          const rnewanswer = getAnswerForQuestion(bestMatch3, knowledgeBase3);
                          return `${rnewanswer}`;
                      } else {
                          return 'Not right yet! Try again.';
                      }
                  }
              }
        } else if (chalange === "Gquiz") {
              const userQuestion = userMessage.toLowerCase();
              const knowledgeBase = await loadKnowledgeBase('knowledge_base.json');
              const questions = knowledgeBase.questions.map(q => q.question);
              const bestMatch2 = findBestMatch(userQuestion, questions);

              const getRandomQuestion = () => {
                  let randomQQ;
                  do {
                      randomQQ = GquizV[Math.floor(Math.random() * GquizV.length)];
                  } while (GquizIndex.includes(randomQQ.Frage) && GquizIndex.length < GquizV.length);
                  return randomQQ;
              };

              const generateNewQuestion = () => {
                  if (GquizV.length === 0) return 'keine aufgaben verfügbar';
                  if (GquizIndex.length >= GquizV.length) {
                      isaskingitc = "yes";
                      return 'möchtest du das quiz wiederholen?';
                  }
                  const randomQQ = getRandomQuestion();
                  thequestion = randomQQ.Frage;
                  theanswer = randomQQ.Antwort;
                  GquizIndex.push(thequestion);
                  return thequestion;
              };

              if (thequestion === "nothing") {
                  await GQquiz();
                  return generateNewQuestion();
              } else {
                  if (isaskingitc != "no" && userQuestion.includes('ja')) {
                    isaskingitc = "no";
                    GquizIndex = [];
                    await GQquiz();
                    if (GquizIndex.length === 0){
                      const randomQQ = getRandomQuestion();
                      thequestion = randomQQ.Frage;
                      const theoldanswer = theanswer;
                      theanswer = randomQQ.Antwort;
                      GquizIndex.push(thequestion);
                      return 'Okay, du wiederholst nun das quiz! hier ist die erste aufgabe: ' + thequestion;
                    }
                  } else if (isaskingitc != "no" && userQuestion.includes('nein')) {
                    chalange = "nothing";
                    isaskingitc = "no";
                    clean();
                    GquizIndex= [];
                    return "Okay, du wirst das quiz nicht wiederholen! du bist nun zurück im normalen chat.";
                  } else if (userQuestion === theanswer) {
                      return 'super 🎉! hier ist die nächste frage: ' + generateNewQuestion();
                  } else if (userQuestion.includes("idk")) {
                      if (GquizV.length === 0) return 'keine fragen verfügbar';
                      const randomQQ = getRandomQuestion();
                      let saythefollowing = randomQQ.Frage;
                      if (GquizIndex.length >= GquizV.length) {
                          isaskingitc = "yes";
                          saythefollowing = 'möchtest du das quiz wiederholen?';
                      }
                      const theoldanswer = theanswer;
                      theanswer = randomQQ.Antwort;
                      GquizIndex.push(thequestion);
                      return 'die richtige antwort ist: ' + theoldanswer + '. hier ist die nächste aufgabe: ' + saythefollowing;
                  } else if (userQuestion.includes("nächste aufgabe")) {
                      if (GquizV.length === 0) return 'keine fragen verfügbar';
                      const randomQQ = getRandomQuestion();
                      const theoldanswer = theanswer;
                      theanswer = randomQQ.Antwort;
                      GquizIndex.push(thequestion);
                      return 'Die richtige Antwort ist: ' + theoldanswer + '. Hier ist die neue Aufgabe: ' + randomQQ.Frage;
                  } else if (userQuestion.includes('zurück') && userQuestion.includes('chat')) {
                      chalange = "nothing";
                      clean();
                      return "Okay, du bist zurück im normalen Gespräch.";
                  } else if (userQuestion.includes('gespräch') && userQuestion.includes('zurück')) {
                      chalange = "nothing";
                      clean();
                      return "Okay, du bist nun wieder im normalen Gespräch.";
                  } else if (userQuestion.includes('mathe') && userQuestion.includes('lernen')) {
                      chalange = "mathe";
                      clean();
                      return "Okay, du lernst jetzt Mathe.";
                  } else if (userQuestion.includes('mathe') && userQuestion.includes('üben')) {
                      chalange = "mathe";
                      clean();
                      return "Okay, du übst jetzt Mathe.";
                  } else if (userQuestion.includes('learn') && userQuestion.includes('german')) {
                      chalange = "german";
                      clean();
                      return "Okay, you're going to learn German now. If you don't know the answer, just say 'idk' and I'll give you the next question. When answering, please avoid any spaces at the beginning and end of the word and try not to use any symbols like: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, '";
                  } else if (userQuestion.includes('practice') && userQuestion.includes('german')) {
                      chalange = "german";
                      clean();
                      return "Okay, you are going to practice German now. If you don't know the answer, just say 'idk' and I'll give you the next question. When answering, please avoid any spaces at the beginning and end of the word and try not to use any symbols like: !, ?, $, %, &, (, ), [, ], {, }, ;, :, <, >, /, ,, ., -, +, =, *, ^, #, @, °, °, °, �, '";
                  } else if (userQuestion.includes('learn') && userQuestion.includes('math')) {
                      chalange = "math";
                      clean();
                      return "Okay, you are going to learn math now. If you don't know the answer, just say 'idk' and I'll give you the next question.";
                  } else if (userQuestion.includes('practice') && userQuestion.includes('math')) {
                      chalange = "math";
                      clean();
                      return "Okay, you are going to practice math now. If you don't know the answer, just say 'idk' and I'll give you the next question.";
                  } else if (userQuestion.includes('play') && userQuestion.includes('quiz')) {
                    chalange = "Equiz";
                    clean();
                    return "okay, you are going to play a quiz now. if you don't know the answer, just say 'idk' and i'll give you the next question.";
                  } else if (userQuestion.includes("ja") && asktg === "yes") {
                      aotink = "0";
                      asktg = "no";
                      chalange = "nothing";
                      clean();
                      return "Okay, du bist zurück im normalen Gespräch.";
                  } else if (userQuestion.includes("nein") && asktg === "yes") {
                      aotink = "0";
                      asktg = "no";
                      chalange = "englisch";
                      return "Okay, du bist nicht zurück im normalen Gespräch.";
                  } else if (bestMatch2) {
                      const answer = getAnswerForQuestion(bestMatch2, knowledgeBase);
                      if (answer === "Sorry but I don't know your name") {
                          let name = document.getElementById("username-display");
                          response = { message: `${name.textContent}` };
                      } else if (answer.includes("(Username)")) {
                          let name = document.getElementById("username-display");
                          let text = answer.replace("(Username)", name.textContent);
                          response = { message: `${text}` };
                      } else {
                          response = { message: `${answer}` };
                      }

                      if (parseInt(aotink) + 1 === 7) {
                          asktg = "yes";
                          return "Möchtest du die Aufgaben ignorieren und in das normale Gespräch zurück?";
                      } else {
                          aotink = parseInt(aotink) + 1;
                          return response.message;
                      }
                  } else {
                      let userQuestion3 = userQuestion.replace(" ?", "?");
                      const knowledgeBase3 = await loadKnowledgeBase('knowledge_base.json');
                      const questions3 = knowledgeBase3.questions.map(q => q.question);
                      const bestMatch3 = findBestMatch2(userQuestion3, questions3);
                      if (bestMatch3) {
                          const rnewanswer = getAnswerForQuestion(bestMatch3, knowledgeBase3);
                          return `${rnewanswer}`;
                      } else {
                          return 'Noch nicht richtig! versuche es nochmal.';
                      }
                  }
              }
        }



      } catch (error) {
        return 'there was an error';
      }
    }


    function newknowledge() {
      var userInput = document.getElementById('user-input');
      var userMessage2 = userInput.value.trim();
      if (userMessage2 !== '') {
        addMessage(userMessage2, 'sent');


        // Simulierte Antwort vom Bot
        getBotResponse2(userMessage2)
          .then(response => {
            setTimeout(addMessage(response, 'received'), 1000);

            // Scrollen zum Ende der Chat-Nachrichten
            var chatMessages = document.getElementById('chat-messages');
            chatMessages.scrollTop = chatMessages.scrollHeight;
          })
          .catch(error => console.error('Bot response error:', error));

        userInput.value = '';
      }
    }

    function getBotResponse2(userMessage2) {
      // Daten für die POST-Anfrage vorbereiten
      learnnonewthing();
      var data = {user_input: userMessage2, new_question: document.getElementById("remember").textContent};

      // AJAX-Anfrage senden
      return fetch('/new_knowledge', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
      })
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.json();
        })
        .then(data => {
          console.log(data); // Ausgabe der Antwort vom Server
          // Hier können Sie weitere Aktionen basierend auf der Serverantwort durchführen
          return data.message;
        })
        .catch(error => console.error('Error fetching bot response:', error));
    }

    function learnnewthing() {
      document.getElementById("button1").style.display = "none";
      document.getElementById("button2").style.display = "block";
      document.getElementById("button3").style.display = "block";
      document.getElementById("user-input").placeholder = "Enter the Answer to that question here...";
    }
    function learnnonewthing() {
      document.getElementById("button1").style.display = "block";
      document.getElementById("button2").style.display = "none";
      document.getElementById("button3").style.display = "none";
      document.getElementById("user-input").placeholder = "Type your message...";
    }
    var font2 = 'h3';
    function addMessage(text, type) {
      totalmessages = totalmessages + 1;
      var chatMessages = document.getElementById('chat-messages');
      var messageElement = document.createElement(font2);
      messageElement.classList.add('message', type);
      messageElement.id = parseInt(idnum) + 1;
      let idnumv = parseInt(idnum) + 1;
      /* make the id num a string */
      idnum = idnumv.toString();
      let thetexttoadd = text;
      messageElement.textContent = thetexttoadd;
      chatMessages.appendChild(messageElement);
      say2(thetexttoadd);
    }
    function nicetheme() {
      document.body.classList.toggle("nice-theme");
    }
    function beautifultheme() {
      document.body.classList.toggle("beautiful-theme");
    }

    function change_mood() {
      document.body.classList.toggle("dark-theme");
      if (document.body.classList.contains("dark-theme")) {
        document.getElementById("changetheme").textContent = light2;
        document.querySelector(".bcft").textContent = light;
      } else if (document.body.classList.contains("nice-theme")) {
        document.body.classList.toggle("nice-theme");
        document.getElementById("changetheme").textContent = dark2;
        document.querySelector(".bcft").textContent = dark;
      } else if (document.body.classList.contains("beautiful-theme")) {
        document.body.classList.toggle("beautiful-theme");
        document.getElementById("changetheme").textContent = dark2;
        document.querySelector(".bcft").textContent = dark;
      } else {
        document.getElementById("changetheme").textContent = dark2;
        document.querySelector(".bcft").textContent = dark;
      }
    }
    var navlinks = document.getElementById("navlinks");
    function showmenu() {
      if (navlinks.style.display == "none") {
        navlinks.style.display = "block";
      } else {
        navlinks.style.display = "none";
      }
    }
    var btnfs = document.querySelector(".bcft1");
    var btnf1 = document.getElementById("btnone");
    var btnf3 = document.getElementById("btnthree");
    function showfonts() {
      if (btnfs.style.display == "none") {
        document.getElementById("fontS").textContent = "Font size v";
        btnf1.style.display = "block";
        btnf3.style.display = "block";
      } else {
        document.getElementById("fontS").textContent = "Font size <";
        btnf1.style.display = "none";
        btnf3.style.display = "none";
      }
    }
    function font1() {
      font2 = 'h1';
    }
    function font3() {
      font2 = 'h3';
    }
    function setinputvalue() {
      const rand = ['Hi', 'Hello', 'How are you', 'How are you doing', 'What is your name', 'Who are you?', 'What are you?', 'What is Architecture', 'Whats a Computer'];
      const randq = rand[Math.floor(Math.random() * rand.length)];
      const input = document.getElementById('user-input');
      input.value = randq;
    }
    function helpbtn() {
      document.getElementById("btn3").textContent = "this function does not exist";
      setTimeout(function () {
        document.getElementById("btn3").textContent = "Help";
      }, 5000);
    }
    function isDarkMode() {
      if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        return true;
      } else {
        return false;
      }
    }

    // Function to update the mode information
    function updateModeInfo() {
      var modeInfo2 = document.getElementById("changetheme");
      var modeInfo = document.querySelector('.bcft');
      if (isDarkMode()) {
        modeInfo.textContent = light;
        modeInfo2.textContent = light2;
        change_mood();
      } else {
        modeInfo.textContent = dark;
        modeInfo2.textContent = dark2;
      }
    }

    // Call the function initially
    updateModeInfo();

    // Listen for changes in mode preference
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', updateModeInfo);
    let speech = new SpeechSynthesisUtterance();

    let voices = [];
    let speakon = document.getElementById("speakon");

    window.speechSynthesis.onvoiceschanged = () => {
      voices = window.speechSynthesis.getVoices();
      speech.voice = voices[0];

      voices.forEach((voice, i) => (voiceSelect.options[i] = new Option(voice.name, i)));
    }
    let sayit = "yes";
    function say2(textfs) {
      sayit = "yes";
      document.querySelectorAll('.speakon').forEach(function (element) {
        if (element.textContent == "spre...: an") {
          if (sayit == "yes"){
            speech.text = textfs;
            window.speechSynthesis.speak(speech);
            sayit = "no";
          }
        }
      });
      if (unactive_mic.style.display == "none") {
          speech.text = textfs;
          window.speechSynthesis.speak(speech);
      }
    }
    /*speakon.addEventListener("click", () => {
      speakonoff();
    });*/
    document.querySelectorAll('.speakon').forEach(function (element) {
      element.addEventListener('click', function () {
        if (element.textContent == "speak: on") {
          element.textContent = "speak: off";
          unactive_mic.style.display = "block";
        } else if (element.textContent == "spre...: an") {
          element.textContent = "spre...: ab";
          unactive_mic.style.display = "block";
        } else if (element.textContent == "spre...: ab") {
          element.textContent = "spre...: an";
          unactive_mic.style.display = "none";
        }else {
          element.textContent = "speak: on";
          unactive_mic.style.display = "none";
        }
        // Ändert den Textinhalt des geklickten Elements
      });
    });
    function speakonoff() {
      if (speakon.textContent == "speak: on") {
        speakon.textContent = "speak: off";
      } else {
        speakon.textContent = "speak: on";
      }
    }
    /*speakon.addEventListener("click", function() {
      var speech1 = true;
      window.SpeechRecognition = window.webkitSpeechRecognition;
      const recognition = new SpeechRecognition();
      recognition.interimResults = true;

      recognition.addEventListener('result', (e) => {
        const transcript = Array.from(e.results)
        .map(result =>result[0])
        .map(result => result.transcript)
        document.getElementById("user-input").value = transcript;
      });
      if (speech1 == true){
        recognition.start();
      }
    });*/
    /*function say() {
      speech.text = document.getElementById("remember").textContent;
      window.speechSynthesis.speak(speech);
    }*/
    const translations = {
        en: {
            instructions: `Instructions:<br><br>
                Buttons:<br>
                Notifications: when you click on the notification button, you will be shown information about the latest
                update.<br><br>
                Help: if you click on the help button, a small window will open on the screen with up to 4 buttons! If you have a
                problem, just click on the button that corresponds to your question, then the text under the buttons will change
                and tell you what you need to do to solve your problem on the website or will tell you what has been done to solve
                your problem.<br><br>
                log out: when you click the log out button you will be taken to your profile where you can upload a profile
                picture or change your name. To get back to the chat you have to click on the "Start" button, but by doing so you
                agree to the user guidelines and Privacy Policy!<br><br>
                speak: when you click the speak button, the chat will be read from that moment on. If you no longer want this, you
                can click it a second time.<br><br>
                theme: if you click on the light/dark theme button, the website will be either light or dark, depending on whether
                it is dark or light at the time of the click.<br><br>
                messages: if you click on any message you will be able to delete it or edit it, if its a message you
                wrote!<br><br>

                button format: if you click on the button format button, the buttons will either be aligned in a circular format or under each other.<br><br>

                shield/privacy policy/user guidelines: if you click on the shield button, you will be brought to our privacy policy and user guidelines page.<br><br>

                reset button: if you click on the reset button, the page will be refreshed.<br><br>

                random: if you click on the random button, a random question or sentence will appear in the input
                field.<br><br>
                language: if you click on the language button, you will be able to change the language of the website, from english to german or the other way around.
                <br><br><br>
                Functions: if you want to play an emoji game by guessing where or which emoji is different you can for example
                type: "I want to play the emoji game". Then AIlury will give you a list of emojis and you either have to count the
                emojis from left to right until you get to the different one and then send AIlury the number or you can send
                AIlury the different emoji! If you want to practice German, you can write for example: "I want to practice German"
                and then AIlury will give you words to translate! If you want to practice math you can write for example: "I want
                to practice math" and then AIlury will give you math exercises. If you want to play a quiz, you can simply say: "i want to play a quiz" and then AIlury will ask you questions. If you want to play Tic Tac Toe, just say: "i want to play Tic Tac Toe", and AIlury will open the game on screen. If you want to play Memory just say: "i want to play Memory" and AIlury will open the game on screen two. and If you want to play Tile Tumble, just say: "i want to play Tile Tumble" and AIlury will open the game on screen three. If at any time you don't know the answer to a
                text function, you can simply say: "idk".<br><br>
                Text filters and keywords: AIlury offers a lot of functions. You can use AIlury to replace text with text in a
                large or small text, for example: "replace I with you in I eat". Or you can ask if a text is in another text by
                saying for example: "is hello in hello how are you?". You can also remove one text from another by saying, for
                example: "take hello out of hello how are you?". You can also tell her to say something, for example by saying:
                "say: hello". You can also give Allury basic math problems to solve or ask if one number is greater than another
                by writing, for example: "is 20 > 21?" or see if one number is equal to another by saying, for example: "is 20 =
                20?". AIlury can also give you a Random name for either a specific person or in general, for example if you say:
                "what would be a good name for my dog?" Or "give me a female name". You can also ask AIlury to choose a number
                between two numbers you specify by saying, for example, "choose a number from 10 to 20". You can also ask AIlury
                to count to a desired number by saying, for example: "count till 100". These are not all the functions AIlury has
                to offer but a lot of them. These functions are not yet fully developed, they are still being
                improved.<br><br><br>
                i hope i was able to give you a good overview of what AIlury can do!`,
          logout: `back`,
          speak: `speak: off`,
          random: `random`,
          language: `language`,
          placeholder: `Type your message...`,
          username: `Guest`,
          tc1fev: 'if you click the speak button you can make the bot read the chat or not',
          tc2fev: 'you can change the theme with this button',
          tc3fev: 'click this button if you do not know how to start a conversation',
          tc4fev: 'if you click the speak button you can make the bot read the chat or not',
          tc5fev: 'you can change the theme with this button',
          tc6fev: 'click this button if you do not know how to start a conversation',
          tc7fev: 'your profile picture is here, if you uploaded one!',
          tc8fev: 'your user-name is here, if you have one!',
          tc9fev: 'Durch Klicken auf diese Taste wird die Sprache auf Deutsch geändert',
          idkanswerv: `sorry but i have no idea what to answer 😅`,
          youfailedChallengev: "you failed the challenge try a new challenge in 5 minutes",
          youpassedChallengev: "great you passed the challenge",
          textsendv: "send",
          textmessagesv: "messages",
          textpracticemathv: "practice math",
          textplayquizv: "play the quiz",
          textpracticegermanv: "practice german",
          textclickrandomv: "click the \"random\" button",
          textclickchagemoodv: "click the \"light/dark\" button",
          nmyv: `no messages yet<a id="inscructionlink" onclick="instructionlinkclick()">instructions</a>`,
          memorygameh1v: `Memory Game`,
          memorygamepv: `Player Score: `,
          memorygamepcv: ` AIlury Score: `,
          draw_pilev: `Draw`,
          cardgameresetbtnv: `reset`,
          tuctactoegamesetting1v: `you vs AIlury`,
          tuctactoegamesetting2v: `Two players`,
          tictactoerestartbtnv: `Restart`,
          leftv: `left`,
          rotatev: `rotate`,
          rightv: `right`,
          downv: `down`,
          resetbtntwov: `reset`,
          tiletumblescorecontainerv: `score `,
          youwonplayertextv: `you won!`,
          youwoncomputertextv: `AIlury won!`,
          winstextv: `wins`,
          drawtextv: `Draw`,
          memorygameyouwoncongratsv: `Congratulations! You won!`,
          memorygameyoulostbetterlucknexttimev: `You lost! Better luck next time!`,
          notificationstext: `<strong>Update 2.0.1: Introducing the Heli Update Series</strong><br><br>
      We are excited to announce the release of Update 2.0.1, the first installment of the Heli Update Series. This series will bring a range of enhancements to improve language, behavior, and knowledge.<br><br>

      <strong>Key Features:</strong><br><br>

      1. <strong>New Speak Button</strong>:<br>
      - <em>Effortless Language Switching</em>: Translate the website with a single click, switching seamlessly between English and German based on the current language setting.<br><br>

      2. <strong>Enhanced Responses</strong>:<br>
      - <em>Improved Interactivity</em>: Enjoy more engaging and friendly responses during play, learning sessions, or casual conversations.<br><br>

      3. <strong>Side Bar Toggle</strong>:<br>
      - <em>Easy Navigation</em>: A new button allows you to open or close the sidebar effortlessly, providing a smoother user experience.<br><br>

      4. <strong>game</strong>:<br>
      - <em>new quiz:</em>: to play the new quiz, just say: "i want to play the new quiz" and then AIlury will ask you questions.<br><br>

      Stay tuned for more exciting updates in the Heli Update Series!`,
        },
        de: {
            instructions: `Anleitung:<br><br>
                Buttons:<br>
                Benachrichtigungen: Wenn Sie auf den Benachrichtigungsknopf klicken, werden Ihnen Informationen über das neueste
                Update angezeigt.<br><br>
                Hilfe: Wenn Sie auf den Hilfe-Knopf klicken, öffnet sich ein kleines Fenster auf dem Bildschirm mit bis zu 4
                Knöpfen! Wenn Sie ein Problem haben, klicken Sie einfach auf den Knopf, der Ihrer Frage entspricht, dann ändert
                sich der Text unter den Knöpfen und erklärt Ihnen, was Sie tun müssen, um Ihr Problem auf der Webseite zu lösen,
                oder was getan wurde, um Ihr Problem zu lösen.<br><br>
                Abmelden: Wenn Sie auf den Abmelden-Knopf klicken, werden Sie zu Ihrem Profil weitergeleitet, wo Sie ein
                Profilbild hochladen oder Ihren Namen ändern können. Um zum Chat zurückzukehren, müssen Sie auf den
                "Start"-Knopf klicken, aber damit stimmen Sie den Nutzungsbedingungen und der Datenschutzrichtlinie zu!<br><br>
                Sprechen: Wenn Sie auf den Sprechen-Knopf klicken, wird der Chat ab diesem Moment vorgelesen. Wenn Sie dies nicht
                mehr wünschen, können Sie erneut darauf klicken.<br><br>
                Thema: Wenn Sie auf den Hell/Dunkel-Thema-Knopf klicken, wird die Webseite entweder hell oder dunkel, je nachdem,
                ob es zum Zeitpunkt des Klicks dunkel oder hell ist.<br><br>
                Nachrichten: Wenn Sie auf eine Nachricht klicken, können Sie sie löschen oder bearbeiten, falls es eine
                Nachricht ist, die Sie geschrieben haben!<br><br>

                knopf format: wenn du den knopf format knopf klickst, werden die knöpfe entweder in einem kreis format oder unter einander angezeigt.<br><br>

                schild/Datenschutzrichtlinie/Nutzungsbedingungen: wenn du auf den schild knopf klickst, wirst du auf die Datenschutzrichtlinie/Nutzungsbedingungen seite gebracht.<br><br>

                Aktualisierunags knopf: wenn du den Aktualisierunags knopf klickst, wird die seite Aktualisiert/refreshed.<br><br>

                Zufällig: Wenn Sie auf den Zufällig-Knopf klicken, erscheint eine zufällige Frage oder ein zufälliger Satz im
                Eingabefeld.<br><br>
                sprache: wenn sie auf den sprache knopf klicken können sie die sprache der webseite entweder zu englisch oder deutsch ändern.
                <br><br><br>
                Funktionen: Wenn Sie ein Emoji-Spiel spielen möchten, bei dem Sie erraten müssen, welches Emoji anders ist,
                können Sie zum Beispiel schreiben: "Ich möchte das Emoji-Spiel spielen". Dann wird Ihnen AIlury eine Liste von
                Emojis geben und Sie müssen die Emojis von links nach rechts zählen, bis Sie das andere Emoji gefunden haben,
                und dann AIlury die Nummer senden, oder Sie können AIlury das andere Emoji senden! Wenn Sie Englisch üben möchten,
                können Sie zum Beispiel schreiben: "Ich möchte Englisch üben" und dann wird Ihnen AIlury Wörter zum Übersetzen
                geben! Wenn Sie Mathematik üben möchten, können Sie zum Beispiel schreiben: "Ich möchte Mathematik üben" und dann
                wird Ihnen AIlury Mathematikaufgaben geben. wenn du ein quiz spielen möchstest kannst du zum beispiel schreiben: "ich möchte ein quiz spielen" und dann wird AIlury dir fragen stellen. wenn du Tic Tac Toe spielen möchtest, sag einfach: "ich möchte Tic Tac Toe spielen", und AIlury wird das spiel auf den bildschirm öffnen. Wenn du Memory spielen möchtest, sag einfach: "ich möchte Memory spielen" und AIlury wird das spiel auch auf den bildschirm öffnen. Wenn du Tile Tumble spielen möchtest, sag einfach: "ich möchte Tile Tumble spielen" und AIlury wird das spiel auch auf den bildschirm öffnene. und Wenn Sie zu irgendeinem Zeitpunkt die Antwort auf eine Funktion nicht
                wissen bei text spielen, können Sie einfach sagen: "idk".<br><br>
                Textfilter und Schlüsselwörter: AIlury bietet viele Funktionen. Sie können AIlury verwenden, um Text durch großen
                oder kleinen Text zu ersetzen, zum Beispiel: "ersetze ich durch du in ich esse". Oder Sie können fragen, ob ein
                Text in einem anderen Text enthalten ist, indem Sie zum Beispiel sagen: "ist hallo in hallo wie geht's?". Sie
                können auch einen Text aus einem anderen entfernen, indem Sie zum Beispiel sagen: "nimm hallo aus hallo wie
                geht's?". Sie können ihr auch sagen, etwas zu sagen, zum Beispiel: "sag: hallo". Sie können AIlury auch einfache
                mathematische Probleme lösen lassen oder fragen, ob eine Zahl größer ist als eine andere, indem Sie zum Beispiel
                schreiben: "ist 20 > 21?" oder sehen, ob eine Zahl gleich einer anderen ist, indem Sie zum Beispiel sagen: "ist
                20 = 20?". AIlury kann Ihnen auch einen zufälligen Namen für eine bestimmte Person oder allgemein geben, zum
                Beispiel wenn Sie sagen: "Was wäre ein guter Name für meinen Hund?" Oder "gib mir einen weiblichen Namen". Sie
                können AIlury auch bitten, eine Zahl zwischen zwei von Ihnen angegebenen Zahlen auszuwählen, indem Sie zum
                Beispiel sagen: "wähle eine Zahl von 10 bis 20". Sie können AIlury auch bitten, bis zu einer gewünschten Zahl zu
                zählen, indem Sie zum Beispiel sagen: "zähle bis 100". Dies sind nicht alle Funktionen, die AIlury zu bieten hat,
                aber viele davon. Diese Funktionen sind noch nicht vollständig entwickelt, sie werden noch
                verbessert.<br><br><br>
                Ich hoffe, ich konnte Ihnen einen guten Überblick darüber geben, was AIlury tun kann!`,
          logout: `zurück`,
          speak: `spre...: ab`,
          random: `zufällig`,
          language: `sprache`,
          placeholder: `Schreibe deine Nachricht...`,
          username: `Gast`,
          tc1fev: 'Wenn du auf die Sprechen-Taste klickst, kannst du den Bot den Chat lesen lassen oder nicht',
          tc2fev: 'Mit dieser Taste kannst du das Thema ändern',
          tc3fev: 'Klicke auf diese Taste, wenn du nicht weißt, wie du ein Gespräch beginnen sollst',
          tc4fev: 'Wenn du auf die Sprechen-Taste klickst, kannst du den Bot den Chat lesen lassen oder nicht',
          tc5fev: 'Mit dieser Taste kannst du das Thema ändern',
          tc6fev: 'Klicke auf diese Taste, wenn du nicht weißt, wie du ein Gespräch beginnen sollst',
          tc7fev: 'Dein Profilbild ist hier, wenn du eines hochgeladen hast!',
          tc8fev: 'Dein Benutzername ist hier, wenn du einen hast!',
          tc9fev: 'by clicking this button the language changes to german',
          idkanswerv: `sorry aber ich habe keine ahnung was ich sagen soll 😅`,
          youfailedChallengev: "du hast die Herausforderung nicht bestanden",
          youpassedChallengev: "super gemacht, du hast die Herausforderung bestanden",
          textsendv: "sende",
          textmessagesv: "nachrichten",
          textpracticemathv: "übe mathe",
          textplayquizv: "spiele das quiz",
          textpracticegermanv: "übe englisch",
          textclickrandomv: "klicke den \"random\" knopf",
          textclickchagemoodv: "klicke den \"hell/dunkel\" knopf",
          nmyv: `noch keine nachrichten<a id="inscructionlink" onclick="instructionlinkclick()">instructions</a>`,
          memorygameh1v: `Memory Spiel`,
          memorygamepv: `Spieler Punktstand: `,
          memorygamepcv: ` AIlury Punktstand: `,
          draw_pilev: `Ziehe`,
          cardgameresetbtnv: `Zurücksetzen`,
          tuctactoegamesetting1v: `du vs AIlury`,
          tuctactoegamesetting2v: `Zwei Spieler`,
          tictactoerestartbtnv: `Zurücksetzen`,
          leftv: `links`,
          rotatev: `drehen`,
          rightv: `rechts`,
          downv: `runter`,
          resetbtntwov: `Zurücksetzen`,
          tiletumblescorecontainerv: `Punktestand `,
          youwonplayertextv: `du hast gewonnen!`,
          youwoncomputertextv: `AIlury hat gewonnen!`,
          winstextv: `gewinnt`,
          drawtextv: `gleichstand`,
          memorygameyouwoncongratsv: `glückwunsch! du hast gewonnen!`,
          memorygameyoulostbetterlucknexttimev: `du hast verloren! mehr glück nächstes mal`,
          notificationstext: `<strong>Update 2.0.1: Einführung der Heli-Update-Serie</strong><br><br>
Wir freuen uns, die Veröffentlichung von Update 2.0.1 bekannt zu geben, dem ersten Teil der Heli-Update-Serie. Diese Serie bringt eine Reihe von Verbesserungen zur Optimierung von Sprache, Verhalten und Wissen.<br><br>

<strong>Hauptmerkmale:</strong><br><br>

1. <strong>Neuer Sprechknopf</strong>:<br>
- <em>Müheloses Umschalten der Sprache</em>: Übersetzen Sie die Webseite mit einem Klick, indem Sie nahtlos zwischen Englisch und Deutsch wechseln, basierend auf der aktuellen Spracheinstellung.<br><br>

2. <strong>Verbesserte Antworten</strong>:<br>
- <em>Verbesserte Interaktivität</em>: Genießen Sie ansprechendere und freundlichere Antworten während Spiel- und Lernsitzungen oder im normalen Gespräch.<br><br>

3. <strong>Seitenleisten-Umschalter</strong>:<br>
- <em>Einfache Navigation</em>: Ein neuer Knopf ermöglicht es Ihnen, die Seitenleiste mühelos zu öffnen oder zu schließen, was eine reibungslosere Benutzererfahrung bietet.<br><br>

4. <strong>spiel</strong>:<br>
- <em>ein neues quiz:</em>: um das neue quiz zu spielen, musst du einfach schreiben: "i want to play the new quiz" und dann wird AIlury dich fragen fragen.<br><br>

Bleiben Sie gespannt auf weitere aufregende Updates in der Heli-Update-Serie!`,
        }
    };
    let nmyelement = document.getElementById("nmy");

    let memorygameh1 = document.getElementById("memorygameh1");
    let memorygamep = document.getElementById("memorygamep");
    let memorygamepc = document.getElementById("memorygamepc");
    let draw_pile = document.getElementById("draw-pile");
    let cardgameresetbtn = document.querySelector(".cardgameresetbtn");
    let tuctactoegamesetting1 = document.getElementById("tuctactoegamesetting1");
    let tuctactoegamesetting2 = document.getElementById("tuctactoegamesetting2");
    let tictactoerestartbtn = document.querySelector(".tictactoerestartbtn");
    let variableleft = document.getElementById("left");
    let variablerotate = document.getElementById("rotate");
    let variableright = document.getElementById("right");
    let variabledown = document.getElementById("down");
    let variableresetbtntwo = document.getElementById("resetbtntwo");
    let tiletumblescorecontainer = document.getElementById("tiletumblescorecontainer");
    tc1fe = translations['en'].tc1fev;
    tc2fe = translations['en'].tc2fev;
    tc3fe = translations['en'].tc3fev;
    tc4fe = translations['en'].tc4fev;
    tc5fe = translations['en'].tc5fev;
    tc6fe = translations['en'].tc6fev;
    tc7fe = translations['en'].tc7fev;
    tc8fe = translations['en'].tc8fev;
    tc9fe = translations['en'].tc9fev;
    youwonplayertext = translations['en'].youwonplayertextv;
    youwoncomputertext = translations['en'].youwoncomputertextv;
    winstext = translations['en'].winstextv;
    drawtext = translations['en'].drawtextv;
    textpracticemath = translations['en'].textpracticemathv;
    textplayquiz = translations['en'].textplayquizv;
    textpracticegerman = translations['en'].textpracticegermanv;
    youfailedChallenge = translations['en'].youfailedChallengev;
    youpassedChallenge = translations['en'].youpassedChallengev;
    textsend = translations['en'].textsendv;
    textmessages = translations['en'].textmessagesv;
    idkanswer = translations['en'].idkanswerv;

    memorygameyouwoncongrats = translations['en'].memorygameyouwoncongratsv;
    memorygameyoulostbetterlucknexttime = translations['en'].memorygameyoulostbetterlucknexttimev;

    memorygameh1.innerHTML = translations['en'].memorygameh1v;
    memorygamep.innerHTML = translations['en'].memorygamepv;
    memorygamepc.innerHTML = translations['en'].memorygamepcv;
    draw_pile.innerHTML = translations['en'].draw_pilev;
    cardgameresetbtn.innerHTML = translations['en'].cardgameresetbtnv;
    tuctactoegamesetting1.innerHTML = translations['en'].tuctactoegamesetting1v;
    tuctactoegamesetting2.innerHTML = translations['en'].tuctactoegamesetting2v;
    tictactoerestartbtn.innerHTML = translations['en'].tictactoerestartbtnv;
    variableleft.innerHTML = translations['en'].leftv;
    variablerotate.innerHTML = translations['en'].rotatev;
    variableright.innerHTML = translations['en'].rightv;
    variabledown.innerHTML = translations['en'].downv;
    variableresetbtntwo.innerHTML = translations['en'].resetbtntwov;
    tiletumblescorecontainer.innerHTML = translations['en'].tiletumblescorecontainerv;

    textclickrandom = translations['en'].textclickrandomv;
    textclickchagemood = translations['en'].textclickchagemoodv;

    nmyelement.innerHTML = translations['en'].nmyv;
    function instructionlinkclick() {
      i_container.style.display = "flex";
      i_container.style.animation = "none";
      void i_container.offsetWidth;
      i_container.style.animation = "fadeIn 0.2s ease-in";
    }
    // Setzen Sie die Anfangssprache auf Englisch
    document.documentElement.lang = 'en';
    document.querySelector('.h22').innerHTML = translations['en'].instructions;
    document.querySelector('.logout1').textContent = translations['en'].logout;
    document.querySelector('.logout2').textContent = translations['en'].logout;
    document.querySelectorAll('.speakon').forEach(button => {
        button.textContent = translations['en'].speak;
    });
    document.querySelectorAll('.RandomQuestion').forEach(button => {
        button.textContent = translations['en'].random;
    });
    document.querySelector('.user-input').placeholder = translations['en'].placeholder;
    // local storage user name
    if (document.querySelector('.username-display').textContent == "Guest" || document.querySelector('.username-display').textContent == "Gast"){
      document.querySelector('.username-display').textContent = translations['en'].username;
    }
    let themeDS = document.querySelector('.changetheme');
    themeDS.textContent = light2;
    let themeLS = document.querySelector('.bcft');
    themeLS.textContent = light;
    document.querySelector('.h21').innerHTML = translations['en'].notificationstext;
    function change_language() {
      const currentLang = document.documentElement.lang;
      const newLang = currentLang === 'en' ? 'de' : 'en';
      document.documentElement.lang = newLang;

      // Holen Sie sich das h2-Element und aktualisieren Sie dessen Inhalt
      const instructionsElement = document.querySelector('.h22');
      instructionsElement.innerHTML = translations[newLang].instructions;
      const NotificationElement = document.querySelector('.h21');
      NotificationElement.innerHTML = translations[newLang].notificationstext;
      document.querySelector('.logout1').textContent = translations[newLang].logout;
      document.querySelector('.logout2').textContent = translations[newLang].logout;
      document.querySelectorAll('.speakon').forEach(button => {
          button.textContent = translations[newLang].speak;
      });
      document.querySelectorAll('.RandomQuestion').forEach(button => {
          button.textContent = translations[newLang].random;
      });
      document.querySelector('.ChangeLanguage').textContent = translations[newLang].language;
      document.querySelector('.user-input').placeholder = translations[newLang].placeholder;
      if (document.querySelector('.username-display').textContent == "Guest" || document.querySelector('.username-display').textContent == "Gast"){
        document.querySelector('.username-display').textContent = translations[newLang].username;
      }
      idkanswer = translations[newLang].idkanswerv;
      tc1fe = translations[newLang].tc1fev;
      tc2fe = translations[newLang].tc2fev;
      tc3fe = translations[newLang].tc3fev;
      tc4fe = translations[newLang].tc4fev;
      tc5fe = translations[newLang].tc5fev;
      tc6fe = translations[newLang].tc6fev;
      tc7fe = translations[newLang].tc7fev;
      tc8fe = translations[newLang].tc8fev;
      tc9fe = translations[newLang].tc9fev;

      memorygameh1.innerHTML = translations[newLang].memorygameh1v;
      memorygamep.innerHTML = translations[newLang].memorygamepv;
      memorygamepc.innerHTML = translations[newLang].memorygamepcv;
      draw_pile.innerHTML = translations[newLang].draw_pilev;
      cardgameresetbtn.innerHTML = translations[newLang].cardgameresetbtnv;
      tuctactoegamesetting1.innerHTML = translations[newLang].tuctactoegamesetting1v;
      tuctactoegamesetting2.innerHTML = translations[newLang].tuctactoegamesetting2v;
      tictactoerestartbtn.innerHTML = translations[newLang].tictactoerestartbtnv;
      variableleft.innerHTML = translations[newLang].leftv;
      variablerotate.innerHTML = translations[newLang].rotatev;
      variableright.innerHTML = translations[newLang].rightv;
      variabledown.innerHTML = translations[newLang].downv;
      variableresetbtntwo.innerHTML = translations[newLang].resetbtntwov;
      tiletumblescorecontainer.innerHTML = translations[newLang].tiletumblescorecontainerv;

      memorygameyouwoncongrats = translations[newLang].memorygameyouwoncongratsv;
      memorygameyoulostbetterlucknexttime = translations[newLang].memorygameyoulostbetterlucknexttimev;

      youwonplayertext = translations[newLang].youwonplayertextv;
      youwoncomputertext = translations[newLang].youwoncomputertextv;
      winstext = translations[newLang].winstextv;
      drawtext = translations[newLang].drawtextv;

      youfailedChallenge = translations[newLang].youfailedChallengev;
      youpassedChallenge = translations[newLang].youpassedChallengev;
      textsend = translations[newLang].textsendv;
      textmessages = translations[newLang].textmessagesv;

      textpracticemath = translations[newLang].textpracticemathv;
      textplayquiz = translations[newLang].textplayquizv;
      textpracticegerman = translations[newLang].textpracticegermanv;

      textclickrandom = translations[newLang].textclickrandomv;
      textclickchagemood = translations[newLang].textclickchagemoodv;

      nmyelement.innerHTML = translations[newLang].nmyv;
      if (themeDS.textContent == "Dark"){
        themeDS.textContent = "Dunkel";
        dark = "Dunkel";
        light = "Hell";
        dark2 = "Dunkel";
        light2 = "Hell";
      }else if (themeDS.textContent == "Dunkel"){
        themeDS.textContent = "Dark";
        dark = "Dark theme";
        dark2 = "Dark";
        light = "Light theme";
        light2 = "Light";
      }else if (themeDS.textContent == "Light"){
        themeDS.textContent = "Hell";
        dark = "Dunkel";
        light = "Hell";
        dark2 = "Dunkel";
        light2 = "Hell";
      }else if (themeDS.textContent == "Hell"){
        themeDS.textContent = "Light";
        dark = "Dark theme";
        dark2 = "Dark";
        light = "Light theme";
        light2 = "Light";
      }
      if (themeLS.textContent == "Dark theme"){
        themeLS.textContent = "Dunkel";
        dark = "Dunkel";
        light = "Hell";
        dark2 = "Dunkel";
        light2 = "Hell";
      }else if (themeLS.textContent == "Dunkel"){
        themeLS.textContent = "Dark theme";
        dark = "Dark theme";
        dark2 = "Dark";
        light = "Light theme";
        light2 = "Light";
      }else if (themeLS.textContent == "Light theme"){
        themeLS.textContent = "Hell";
        dark = "Dunkel";
        light = "Hell";
        dark2 = "Dunkel";
        light2 = "Hell";
      }else if (themeLS.textContent == "Hell"){
        themeLS.textContent = "Light theme";
        dark = "Dark theme";
        dark2 = "Dark";
        light = "Light theme";
        light2 = "Light";

      }
      if (isguessing == "no"){
        isguessing = "nein";
      }else if (isguessing == "yes"){
        isguessing = "ja";
      }else if (isguessing == "nein"){
        isguessing = "no";
      }else if (isguessing == "ja"){
        isguessing = "yes";
      }


    }
  </script>
</body>
</html>
